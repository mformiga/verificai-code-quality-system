import{j as t,Q as va,a as ja}from"./query-DSXjeKLG.js";import{b as Na,r as y,a as Ie}from"./vendor-CBH9K-97.js";import{L as xe,R as wa,a as Se,N as Nt,B as Sa}from"./router-CAowVLRa.js";import{c as Et}from"./state-DeMdXz7a.js";import{o as Ea,r as Ca,a as Aa,b as Ra,s as ns,u as ka}from"./forms-UH4YQbk0.js";import{b as Lt,a as Ye,c as Ze,d as Da,f as Pa,e as Ta}from"./utils-CWFPDQ-v.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();var Bt={},os=Na;Bt.createRoot=os.createRoot,Bt.hydrateRoot=os.hydrateRoot;let Ia={data:""},La=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Ia,_a=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Oa=/\/\*[^]*?\*\/|  +/g,is=/\n+/g,Pe=(e,s)=>{let a="",r="",n="";for(let o in e){let i=e[o];o[0]=="@"?o[1]=="i"?a=o+" "+i+";":r+=o[1]=="f"?Pe(i,o):o+"{"+Pe(i,o[1]=="k"?"":s)+"}":typeof i=="object"?r+=Pe(i,s?s.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=Pe.p?Pe.p(o,i):o+":"+i+";")}return a+(s&&n?s+"{"+n+"}":n)+r},Ee={},Ts=e=>{if(typeof e=="object"){let s="";for(let a in e)s+=a+Ts(e[a]);return s}return e},Ma=(e,s,a,r,n)=>{let o=Ts(e),i=Ee[o]||(Ee[o]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(o));if(!Ee[i]){let c=o!==e?e:(d=>{let u,m,v=[{}];for(;u=_a.exec(d.replace(Oa,""));)u[4]?v.shift():u[3]?(m=u[3].replace(is," ").trim(),v.unshift(v[0][m]=v[0][m]||{})):v[0][u[1]]=u[2].replace(is," ").trim();return v[0]})(e);Ee[i]=Pe(n?{["@keyframes "+i]:c}:c,a?"":"."+i)}let l=a&&Ee.g?Ee.g:null;return a&&(Ee.g=Ee[i]),((c,d,u,m)=>{m?d.data=d.data.replace(m,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Ee[i],s,r,l),i},Ua=(e,s,a)=>e.reduce((r,n,o)=>{let i=s[o];if(i&&i.call){let l=i(a),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":Pe(l,""):l===!1?"":l}return r+n+(i??"")},"");function Ct(e){let s=this||{},a=e.call?e(s.p):e;return Ma(a.unshift?a.raw?Ua(a,[].slice.call(arguments,1),s.p):a.reduce((r,n)=>Object.assign(r,n&&n.call?n(s.p):n),{}):a,La(s.target),s.g,s.o,s.k)}let Is,Ft,zt;Ct.bind({g:1});let Ae=Ct.bind({k:1});function $a(e,s,a,r){Pe.p=s,Is=e,Ft=a,zt=r}function Le(e,s){let a=this||{};return function(){let r=arguments;function n(o,i){let l=Object.assign({},o),c=l.className||n.className;a.p=Object.assign({theme:Ft&&Ft()},l),a.o=/ *go\d+/.test(c),l.className=Ct.apply(a,r)+(c?" "+c:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),zt&&d[0]&&zt(l),Is(d,l)}return n}}var Ba=e=>typeof e=="function",wt=(e,s)=>Ba(e)?e(s):e,Fa=(()=>{let e=0;return()=>(++e).toString()})(),Ls=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");e=!s||s.matches}return e}})(),za=20,Yt="default",_s=(e,s)=>{let{toastLimit:a}=e.settings;switch(s.type){case 0:return{...e,toasts:[s.toast,...e.toasts].slice(0,a)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===s.toast.id?{...i,...s.toast}:i)};case 2:let{toast:r}=s;return _s(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=s;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return s.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==s.toastId)};case 5:return{...e,pausedAt:s.time};case 6:let o=s.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},xt=[],Os={toasts:[],pausedAt:void 0,settings:{toastLimit:za}},we={},Ms=(e,s=Yt)=>{we[s]=_s(we[s]||Os,e),xt.forEach(([a,r])=>{a===s&&r(we[s])})},Us=e=>Object.keys(we).forEach(s=>Ms(e,s)),qa=e=>Object.keys(we).find(s=>we[s].toasts.some(a=>a.id===e)),At=(e=Yt)=>s=>{Ms(s,e)},Va={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ha=(e={},s=Yt)=>{let[a,r]=y.useState(we[s]||Os),n=y.useRef(we[s]);y.useEffect(()=>(n.current!==we[s]&&r(we[s]),xt.push([s,r]),()=>{let i=xt.findIndex(([l])=>l===s);i>-1&&xt.splice(i,1)}),[s]);let o=a.toasts.map(i=>{var l,c,d;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((l=e[i.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((c=e[i.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||Va[i.type],style:{...e.style,...(d=e[i.type])==null?void 0:d.style,...i.style}}});return{...a,toasts:o}},Ga=(e,s="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...a,id:(a==null?void 0:a.id)||Fa()}),nt=e=>(s,a)=>{let r=Ga(s,e,a);return At(r.toasterId||qa(r.id))({type:2,toast:r}),r.id},ie=(e,s)=>nt("blank")(e,s);ie.error=nt("error");ie.success=nt("success");ie.loading=nt("loading");ie.custom=nt("custom");ie.dismiss=(e,s)=>{let a={type:3,toastId:e};s?At(s)(a):Us(a)};ie.dismissAll=e=>ie.dismiss(void 0,e);ie.remove=(e,s)=>{let a={type:4,toastId:e};s?At(s)(a):Us(a)};ie.removeAll=e=>ie.remove(void 0,e);ie.promise=(e,s,a)=>{let r=ie.loading(s.loading,{...a,...a==null?void 0:a.loading});return typeof e=="function"&&(e=e()),e.then(n=>{let o=s.success?wt(s.success,n):void 0;return o?ie.success(o,{id:r,...a,...a==null?void 0:a.success}):ie.dismiss(r),n}).catch(n=>{let o=s.error?wt(s.error,n):void 0;o?ie.error(o,{id:r,...a,...a==null?void 0:a.error}):ie.dismiss(r)}),e};var Wa=1e3,Ja=(e,s="default")=>{let{toasts:a,pausedAt:r}=Ha(e,s),n=y.useRef(new Map).current,o=y.useCallback((m,v=Wa)=>{if(n.has(m))return;let N=setTimeout(()=>{n.delete(m),i({type:4,toastId:m})},v);n.set(m,N)},[]);y.useEffect(()=>{if(r)return;let m=Date.now(),v=a.map(N=>{if(N.duration===1/0)return;let h=(N.duration||0)+N.pauseDuration-(m-N.createdAt);if(h<0){N.visible&&ie.dismiss(N.id);return}return setTimeout(()=>ie.dismiss(N.id,s),h)});return()=>{v.forEach(N=>N&&clearTimeout(N))}},[a,r,s]);let i=y.useCallback(At(s),[s]),l=y.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=y.useCallback((m,v)=>{i({type:1,toast:{id:m,height:v}})},[i]),d=y.useCallback(()=>{r&&i({type:6,time:Date.now()})},[r,i]),u=y.useCallback((m,v)=>{let{reverseOrder:N=!1,gutter:h=8,defaultPosition:g}=v||{},f=a.filter(R=>(R.position||g)===(m.position||g)&&R.height),E=f.findIndex(R=>R.id===m.id),w=f.filter((R,_)=>_<E&&R.visible).length;return f.filter(R=>R.visible).slice(...N?[w+1]:[0,w]).reduce((R,_)=>R+(_.height||0)+h,0)},[a]);return y.useEffect(()=>{a.forEach(m=>{if(m.dismissed)o(m.id,m.removeDelay);else{let v=n.get(m.id);v&&(clearTimeout(v),n.delete(m.id))}})},[a,o]),{toasts:a,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},Ka=Ae`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Xa=Ae`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Qa=Ae`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ya=Le("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ka} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Xa} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Qa} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Za=Ae`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,er=Le("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Za} 1s linear infinite;
`,tr=Ae`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,sr=Ae`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ar=Le("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tr} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${sr} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,rr=Le("div")`
  position: absolute;
`,nr=Le("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,or=Ae`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ir=Le("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${or} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,lr=({toast:e})=>{let{icon:s,type:a,iconTheme:r}=e;return s!==void 0?typeof s=="string"?y.createElement(ir,null,s):s:a==="blank"?null:y.createElement(nr,null,y.createElement(er,{...r}),a!=="loading"&&y.createElement(rr,null,a==="error"?y.createElement(Ya,{...r}):y.createElement(ar,{...r})))},cr=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,dr=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,ur="0%{opacity:0;} 100%{opacity:1;}",mr="0%{opacity:1;} 100%{opacity:0;}",hr=Le("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pr=Le("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,fr=(e,s)=>{let a=e.includes("top")?1:-1,[r,n]=Ls()?[ur,mr]:[cr(a),dr(a)];return{animation:s?`${Ae(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ae(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},gr=y.memo(({toast:e,position:s,style:a,children:r})=>{let n=e.height?fr(e.position||s||"top-center",e.visible):{opacity:0},o=y.createElement(lr,{toast:e}),i=y.createElement(pr,{...e.ariaProps},wt(e.message,e));return y.createElement(hr,{className:e.className,style:{...n,...a,...e.style}},typeof r=="function"?r({icon:o,message:i}):y.createElement(y.Fragment,null,o,i))});$a(y.createElement);var xr=({id:e,className:s,style:a,onHeightUpdate:r,children:n})=>{let o=y.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return y.createElement("div",{ref:o,className:s,style:a},n)},br=(e,s)=>{let a=e.includes("top"),r=a?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ls()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(a?1:-1)}px)`,...r,...n}},yr=Ct`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,dt=16,vr=({reverseOrder:e,position:s="top-center",toastOptions:a,gutter:r,children:n,toasterId:o,containerStyle:i,containerClassName:l})=>{let{toasts:c,handlers:d}=Ja(a,o);return y.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:dt,left:dt,right:dt,bottom:dt,pointerEvents:"none",...i},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let m=u.position||s,v=d.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:s}),N=br(m,v);return y.createElement(xr,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?yr:"",style:N},u.type==="custom"?wt(u.message,u):n?n(u):y.createElement(gr,{toast:u,position:m}))}))},ls=ie;const bt={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ANALYTICS_ID:"",VITE_API_BASE_URL:"http://localhost:8000/api/v1",VITE_APP_VERSION:"1.0.0",VITE_ENABLE_ANALYTICS:"false",VITE_ENABLE_DEMO_MODE:"false",VITE_ENVIRONMENT:"development",VITE_SENTRY_DSN:"",VITE_WS_BASE_URL:"ws://localhost:8000"},qt=new Map,ut=e=>{const s=qt.get(e);return s?Object.fromEntries(Object.entries(s.stores).map(([a,r])=>[a,r.getState()])):{}},jr=(e,s,a)=>{if(e===void 0)return{type:"untracked",connection:s.connect(a)};const r=qt.get(a.name);if(r)return{type:"tracked",store:e,...r};const n={connection:s.connect(a),stores:{}};return qt.set(a.name,n),{type:"tracked",store:e,...n}},Nr=(e,s={})=>(a,r,n)=>{const{enabled:o,anonymousActionType:i,store:l,...c}=s;let d;try{d=(o??(bt?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return(bt?"production":void 0)!=="production"&&o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(a,r,n);const{connection:u,...m}=jr(l,d,c);let v=!0;n.setState=(g,f,E)=>{const w=a(g,f);if(!v)return w;const R=E===void 0?{type:i||"anonymous"}:typeof E=="string"?{type:E}:E;return l===void 0?(u==null||u.send(R,r()),w):(u==null||u.send({...R,type:`${l}/${R.type}`},{...ut(c.name),[l]:n.getState()}),w)};const N=(...g)=>{const f=v;v=!1,a(...g),v=f},h=e(n.setState,r,n);if(m.type==="untracked"?u==null||u.init(h):(m.stores[m.store]=n,u==null||u.init(Object.fromEntries(Object.entries(m.stores).map(([g,f])=>[g,g===m.store?h:f.getState()])))),n.dispatchFromDevtools&&typeof n.dispatch=="function"){let g=!1;const f=n.dispatch;n.dispatch=(...E)=>{(bt?"production":void 0)!=="production"&&E[0].type==="__setState"&&!g&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),g=!0),f(...E)}}return u.subscribe(g=>{var f;switch(g.type){case"ACTION":if(typeof g.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return _t(g.payload,E=>{if(E.type==="__setState"){if(l===void 0){N(E.state);return}Object.keys(E.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const w=E.state[l];if(w==null)return;JSON.stringify(n.getState())!==JSON.stringify(w)&&N(w);return}n.dispatchFromDevtools&&typeof n.dispatch=="function"&&n.dispatch(E)});case"DISPATCH":switch(g.payload.type){case"RESET":return N(h),l===void 0?u==null?void 0:u.init(n.getState()):u==null?void 0:u.init(ut(c.name));case"COMMIT":if(l===void 0){u==null||u.init(n.getState());return}return u==null?void 0:u.init(ut(c.name));case"ROLLBACK":return _t(g.state,E=>{if(l===void 0){N(E),u==null||u.init(n.getState());return}N(E[l]),u==null||u.init(ut(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return _t(g.state,E=>{if(l===void 0){N(E);return}JSON.stringify(n.getState())!==JSON.stringify(E[l])&&N(E[l])});case"IMPORT_STATE":{const{nextLiftedState:E}=g.payload,w=(f=E.computedStates.slice(-1)[0])==null?void 0:f.state;if(!w)return;N(l===void 0?w:w[l]),u==null||u.send(null,E);return}case"PAUSE_RECORDING":return v=!v}return}}),h},wr=Nr,_t=(e,s)=>{let a;try{a=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}a!==void 0&&s(a)};function Sr(e,s){let a;try{a=e()}catch{return}return{getItem:n=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),l=(o=a.getItem(n))!=null?o:null;return l instanceof Promise?l.then(i):i(l)},setItem:(n,o)=>a.setItem(n,JSON.stringify(o,void 0)),removeItem:n=>a.removeItem(n)}}const at=e=>s=>{try{const a=e(s);return a instanceof Promise?a:{then(r){return at(r)(a)},catch(r){return this}}}catch(a){return{then(r){return this},catch(r){return at(r)(a)}}}},Er=(e,s)=>(a,r,n)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:f=>f,version:0,merge:(f,E)=>({...E,...f}),...s},i=!1;const l=new Set,c=new Set;let d;try{d=o.getStorage()}catch{}if(!d)return e((...f)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),a(...f)},r,n);const u=at(o.serialize),m=()=>{const f=o.partialize({...r()});let E;const w=u({state:f,version:o.version}).then(R=>d.setItem(o.name,R)).catch(R=>{E=R});if(E)throw E;return w},v=n.setState;n.setState=(f,E)=>{v(f,E),m()};const N=e((...f)=>{a(...f),m()},r,n);let h;const g=()=>{var f;if(!d)return;i=!1,l.forEach(w=>w(r()));const E=((f=o.onRehydrateStorage)==null?void 0:f.call(o,r()))||void 0;return at(d.getItem.bind(d))(o.name).then(w=>{if(w)return o.deserialize(w)}).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==o.version){if(o.migrate)return o.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var R;return h=o.merge(w,(R=r())!=null?R:N),a(h,!0),m()}).then(()=>{E==null||E(h,void 0),i=!0,c.forEach(w=>w(h))}).catch(w=>{E==null||E(void 0,w)})};return n.persist={setOptions:f=>{o={...o,...f},f.getStorage&&(d=f.getStorage())},clearStorage:()=>{d==null||d.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>i,onHydrate:f=>(l.add(f),()=>{l.delete(f)}),onFinishHydration:f=>(c.add(f),()=>{c.delete(f)})},g(),h||N},Cr=(e,s)=>(a,r,n)=>{let o={storage:Sr(()=>localStorage),partialize:g=>g,version:0,merge:(g,f)=>({...f,...g}),...s},i=!1;const l=new Set,c=new Set;let d=o.storage;if(!d)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),a(...g)},r,n);const u=()=>{const g=o.partialize({...r()});return d.setItem(o.name,{state:g,version:o.version})},m=n.setState;n.setState=(g,f)=>{m(g,f),u()};const v=e((...g)=>{a(...g),u()},r,n);n.getInitialState=()=>v;let N;const h=()=>{var g,f;if(!d)return;i=!1,l.forEach(w=>{var R;return w((R=r())!=null?R:v)});const E=((f=o.onRehydrateStorage)==null?void 0:f.call(o,(g=r())!=null?g:v))||void 0;return at(d.getItem.bind(d))(o.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==o.version){if(o.migrate)return[!0,o.migrate(w.state,w.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var R;const[_,U]=w;if(N=o.merge(U,(R=r())!=null?R:v),a(N,!0),_)return u()}).then(()=>{E==null||E(N,void 0),N=r(),i=!0,c.forEach(w=>w(N))}).catch(w=>{E==null||E(void 0,w)})};return n.persist={setOptions:g=>{o={...o,...g},g.storage&&(d=g.storage)},clearStorage:()=>{d==null||d.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>h(),hasHydrated:()=>i,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},o.skipHydration||h(),N||v},Ar=(e,s)=>"getStorage"in s||"serialize"in s||"deserialize"in s?((bt?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Er(e,s)):Cr(e,s),Rr=Ar;function $s(e,s){return function(){return e.apply(s,arguments)}}const{toString:kr}=Object.prototype,{getPrototypeOf:Zt}=Object,{iterator:Rt,toStringTag:Bs}=Symbol,kt=(e=>s=>{const a=kr.call(s);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),ye=e=>(e=e.toLowerCase(),s=>kt(s)===e),Dt=e=>s=>typeof s===e,{isArray:Xe}=Array,Je=Dt("undefined");function ot(e){return e!==null&&!Je(e)&&e.constructor!==null&&!Je(e.constructor)&&he(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Fs=ye("ArrayBuffer");function Dr(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&Fs(e.buffer),s}const Pr=Dt("string"),he=Dt("function"),zs=Dt("number"),it=e=>e!==null&&typeof e=="object",Tr=e=>e===!0||e===!1,yt=e=>{if(kt(e)!=="object")return!1;const s=Zt(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Bs in e)&&!(Rt in e)},Ir=e=>{if(!it(e)||ot(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Lr=ye("Date"),_r=ye("File"),Or=ye("Blob"),Mr=ye("FileList"),Ur=e=>it(e)&&he(e.pipe),$r=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||he(e.append)&&((s=kt(e))==="formdata"||s==="object"&&he(e.toString)&&e.toString()==="[object FormData]"))},Br=ye("URLSearchParams"),[Fr,zr,qr,Vr]=["ReadableStream","Request","Response","Headers"].map(ye),Hr=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lt(e,s,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let r,n;if(typeof e!="object"&&(e=[e]),Xe(e))for(r=0,n=e.length;r<n;r++)s.call(null,e[r],r,e);else{if(ot(e))return;const o=a?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(r=0;r<i;r++)l=o[r],s.call(null,e[l],l,e)}}function qs(e,s){if(ot(e))return null;s=s.toLowerCase();const a=Object.keys(e);let r=a.length,n;for(;r-- >0;)if(n=a[r],s===n.toLowerCase())return n;return null}const Ue=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Vs=e=>!Je(e)&&e!==Ue;function Vt(){const{caseless:e,skipUndefined:s}=Vs(this)&&this||{},a={},r=(n,o)=>{const i=e&&qs(a,o)||o;yt(a[i])&&yt(n)?a[i]=Vt(a[i],n):yt(n)?a[i]=Vt({},n):Xe(n)?a[i]=n.slice():(!s||!Je(n))&&(a[i]=n)};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&lt(arguments[n],r);return a}const Gr=(e,s,a,{allOwnKeys:r}={})=>(lt(s,(n,o)=>{a&&he(n)?e[o]=$s(n,a):e[o]=n},{allOwnKeys:r}),e),Wr=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Jr=(e,s,a,r)=>{e.prototype=Object.create(s.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),a&&Object.assign(e.prototype,a)},Kr=(e,s,a,r)=>{let n,o,i;const l={};if(s=s||{},e==null)return s;do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)i=n[o],(!r||r(i,e,s))&&!l[i]&&(s[i]=e[i],l[i]=!0);e=a!==!1&&Zt(e)}while(e&&(!a||a(e,s))&&e!==Object.prototype);return s},Xr=(e,s,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=s.length;const r=e.indexOf(s,a);return r!==-1&&r===a},Qr=e=>{if(!e)return null;if(Xe(e))return e;let s=e.length;if(!zs(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=e[s];return a},Yr=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&Zt(Uint8Array)),Zr=(e,s)=>{const r=(e&&e[Rt]).call(e);let n;for(;(n=r.next())&&!n.done;){const o=n.value;s.call(e,o[0],o[1])}},en=(e,s)=>{let a;const r=[];for(;(a=e.exec(s))!==null;)r.push(a);return r},tn=ye("HTMLFormElement"),sn=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),cs=(({hasOwnProperty:e})=>(s,a)=>e.call(s,a))(Object.prototype),an=ye("RegExp"),Hs=(e,s)=>{const a=Object.getOwnPropertyDescriptors(e),r={};lt(a,(n,o)=>{let i;(i=s(n,o,e))!==!1&&(r[o]=i||n)}),Object.defineProperties(e,r)},rn=e=>{Hs(e,(s,a)=>{if(he(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=e[a];if(he(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},nn=(e,s)=>{const a={},r=n=>{n.forEach(o=>{a[o]=!0})};return Xe(e)?r(e):r(String(e).split(s)),a},on=()=>{},ln=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function cn(e){return!!(e&&he(e.append)&&e[Bs]==="FormData"&&e[Rt])}const dn=e=>{const s=new Array(10),a=(r,n)=>{if(it(r)){if(s.indexOf(r)>=0)return;if(ot(r))return r;if(!("toJSON"in r)){s[n]=r;const o=Xe(r)?[]:{};return lt(r,(i,l)=>{const c=a(i,n+1);!Je(c)&&(o[l]=c)}),s[n]=void 0,o}}return r};return a(e,0)},un=ye("AsyncFunction"),mn=e=>e&&(it(e)||he(e))&&he(e.then)&&he(e.catch),Gs=((e,s)=>e?setImmediate:s?((a,r)=>(Ue.addEventListener("message",({source:n,data:o})=>{n===Ue&&o===a&&r.length&&r.shift()()},!1),n=>{r.push(n),Ue.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",he(Ue.postMessage)),hn=typeof queueMicrotask<"u"?queueMicrotask.bind(Ue):typeof process<"u"&&process.nextTick||Gs,pn=e=>e!=null&&he(e[Rt]),p={isArray:Xe,isArrayBuffer:Fs,isBuffer:ot,isFormData:$r,isArrayBufferView:Dr,isString:Pr,isNumber:zs,isBoolean:Tr,isObject:it,isPlainObject:yt,isEmptyObject:Ir,isReadableStream:Fr,isRequest:zr,isResponse:qr,isHeaders:Vr,isUndefined:Je,isDate:Lr,isFile:_r,isBlob:Or,isRegExp:an,isFunction:he,isStream:Ur,isURLSearchParams:Br,isTypedArray:Yr,isFileList:Mr,forEach:lt,merge:Vt,extend:Gr,trim:Hr,stripBOM:Wr,inherits:Jr,toFlatObject:Kr,kindOf:kt,kindOfTest:ye,endsWith:Xr,toArray:Qr,forEachEntry:Zr,matchAll:en,isHTMLForm:tn,hasOwnProperty:cs,hasOwnProp:cs,reduceDescriptors:Hs,freezeMethods:rn,toObjectSet:nn,toCamelCase:sn,noop:on,toFiniteNumber:ln,findKey:qs,global:Ue,isContextDefined:Vs,isSpecCompliantForm:cn,toJSONObject:dn,isAsyncFn:un,isThenable:mn,setImmediate:Gs,asap:hn,isIterable:pn};function H(e,s,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}p.inherits(H,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:p.toJSONObject(this.config),code:this.code,status:this.status}}});const Ws=H.prototype,Js={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Js[e]={value:e}});Object.defineProperties(H,Js);Object.defineProperty(Ws,"isAxiosError",{value:!0});H.from=(e,s,a,r,n,o)=>{const i=Object.create(Ws);p.toFlatObject(e,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=s==null&&e?e.code:s;return H.call(i,l,c,a,r,n),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const fn=null;function Ht(e){return p.isPlainObject(e)||p.isArray(e)}function Ks(e){return p.endsWith(e,"[]")?e.slice(0,-2):e}function ds(e,s,a){return e?e.concat(s).map(function(n,o){return n=Ks(n),!a&&o?"["+n+"]":n}).join(a?".":""):s}function gn(e){return p.isArray(e)&&!e.some(Ht)}const xn=p.toFlatObject(p,{},null,function(s){return/^is[A-Z]/.test(s)});function Pt(e,s,a){if(!p.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,a=p.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,f){return!p.isUndefined(f[g])});const r=a.metaTokens,n=a.visitor||u,o=a.dots,i=a.indexes,c=(a.Blob||typeof Blob<"u"&&Blob)&&p.isSpecCompliantForm(s);if(!p.isFunction(n))throw new TypeError("visitor must be a function");function d(h){if(h===null)return"";if(p.isDate(h))return h.toISOString();if(p.isBoolean(h))return h.toString();if(!c&&p.isBlob(h))throw new H("Blob is not supported. Use a Buffer instead.");return p.isArrayBuffer(h)||p.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,g,f){let E=h;if(h&&!f&&typeof h=="object"){if(p.endsWith(g,"{}"))g=r?g:g.slice(0,-2),h=JSON.stringify(h);else if(p.isArray(h)&&gn(h)||(p.isFileList(h)||p.endsWith(g,"[]"))&&(E=p.toArray(h)))return g=Ks(g),E.forEach(function(R,_){!(p.isUndefined(R)||R===null)&&s.append(i===!0?ds([g],_,o):i===null?g:g+"[]",d(R))}),!1}return Ht(h)?!0:(s.append(ds(f,g,o),d(h)),!1)}const m=[],v=Object.assign(xn,{defaultVisitor:u,convertValue:d,isVisitable:Ht});function N(h,g){if(!p.isUndefined(h)){if(m.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));m.push(h),p.forEach(h,function(E,w){(!(p.isUndefined(E)||E===null)&&n.call(s,E,p.isString(w)?w.trim():w,g,v))===!0&&N(E,g?g.concat(w):[w])}),m.pop()}}if(!p.isObject(e))throw new TypeError("data must be an object");return N(e),s}function us(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function es(e,s){this._pairs=[],e&&Pt(e,this,s)}const Xs=es.prototype;Xs.append=function(s,a){this._pairs.push([s,a])};Xs.toString=function(s){const a=s?function(r){return s.call(this,r,us)}:us;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function bn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Qs(e,s,a){if(!s)return e;const r=a&&a.encode||bn;p.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let o;if(n?o=n(s,a):o=p.isURLSearchParams(s)?s.toString():new es(s,a).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class ms{constructor(){this.handlers=[]}use(s,a,r){return this.handlers.push({fulfilled:s,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){p.forEach(this.handlers,function(r){r!==null&&s(r)})}}const Ys={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yn=typeof URLSearchParams<"u"?URLSearchParams:es,vn=typeof FormData<"u"?FormData:null,jn=typeof Blob<"u"?Blob:null,Nn={isBrowser:!0,classes:{URLSearchParams:yn,FormData:vn,Blob:jn},protocols:["http","https","file","blob","url","data"]},ts=typeof window<"u"&&typeof document<"u",Gt=typeof navigator=="object"&&navigator||void 0,wn=ts&&(!Gt||["ReactNative","NativeScript","NS"].indexOf(Gt.product)<0),Sn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",En=ts&&window.location.href||"http://localhost",Cn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ts,hasStandardBrowserEnv:wn,hasStandardBrowserWebWorkerEnv:Sn,navigator:Gt,origin:En},Symbol.toStringTag,{value:"Module"})),ue={...Cn,...Nn};function An(e,s){return Pt(e,new ue.classes.URLSearchParams,{visitor:function(a,r,n,o){return ue.isNode&&p.isBuffer(a)?(this.append(r,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...s})}function Rn(e){return p.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function kn(e){const s={},a=Object.keys(e);let r;const n=a.length;let o;for(r=0;r<n;r++)o=a[r],s[o]=e[o];return s}function Zs(e){function s(a,r,n,o){let i=a[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=a.length;return i=!i&&p.isArray(n)?n.length:i,c?(p.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!l):((!n[i]||!p.isObject(n[i]))&&(n[i]=[]),s(a,r,n[i],o)&&p.isArray(n[i])&&(n[i]=kn(n[i])),!l)}if(p.isFormData(e)&&p.isFunction(e.entries)){const a={};return p.forEachEntry(e,(r,n)=>{s(Rn(r),n,a,0)}),a}return null}function Dn(e,s,a){if(p.isString(e))try{return(s||JSON.parse)(e),p.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(e)}const ct={transitional:Ys,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,o=p.isObject(s);if(o&&p.isHTMLForm(s)&&(s=new FormData(s)),p.isFormData(s))return n?JSON.stringify(Zs(s)):s;if(p.isArrayBuffer(s)||p.isBuffer(s)||p.isStream(s)||p.isFile(s)||p.isBlob(s)||p.isReadableStream(s))return s;if(p.isArrayBufferView(s))return s.buffer;if(p.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return An(s,this.formSerializer).toString();if((l=p.isFileList(s))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Pt(l?{"files[]":s}:s,c&&new c,this.formSerializer)}}return o||n?(a.setContentType("application/json",!1),Dn(s)):s}],transformResponse:[function(s){const a=this.transitional||ct.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(p.isResponse(s)||p.isReadableStream(s))return s;if(s&&p.isString(s)&&(r&&!this.responseType||n)){const i=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?H.from(l,H.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ue.classes.FormData,Blob:ue.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};p.forEach(["delete","get","head","post","put","patch"],e=>{ct.headers[e]={}});const Pn=p.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Tn=e=>{const s={};let a,r,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),a=i.substring(0,n).trim().toLowerCase(),r=i.substring(n+1).trim(),!(!a||s[a]&&Pn[a])&&(a==="set-cookie"?s[a]?s[a].push(r):s[a]=[r]:s[a]=s[a]?s[a]+", "+r:r)}),s},hs=Symbol("internals");function et(e){return e&&String(e).trim().toLowerCase()}function vt(e){return e===!1||e==null?e:p.isArray(e)?e.map(vt):String(e)}function In(e){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(e);)s[r[1]]=r[2];return s}const Ln=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ot(e,s,a,r,n){if(p.isFunction(r))return r.call(this,s,a);if(n&&(s=a),!!p.isString(s)){if(p.isString(r))return s.indexOf(r)!==-1;if(p.isRegExp(r))return r.test(s)}}function _n(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,r)=>a.toUpperCase()+r)}function On(e,s){const a=p.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+a,{value:function(n,o,i){return this[r].call(this,s,n,o,i)},configurable:!0})})}let pe=class{constructor(s){s&&this.set(s)}set(s,a,r){const n=this;function o(l,c,d){const u=et(c);if(!u)throw new Error("header name must be a non-empty string");const m=p.findKey(n,u);(!m||n[m]===void 0||d===!0||d===void 0&&n[m]!==!1)&&(n[m||c]=vt(l))}const i=(l,c)=>p.forEach(l,(d,u)=>o(d,u,c));if(p.isPlainObject(s)||s instanceof this.constructor)i(s,a);else if(p.isString(s)&&(s=s.trim())&&!Ln(s))i(Tn(s),a);else if(p.isObject(s)&&p.isIterable(s)){let l={},c,d;for(const u of s){if(!p.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?p.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,a)}else s!=null&&o(a,s,r);return this}get(s,a){if(s=et(s),s){const r=p.findKey(this,s);if(r){const n=this[r];if(!a)return n;if(a===!0)return In(n);if(p.isFunction(a))return a.call(this,n,r);if(p.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=et(s),s){const r=p.findKey(this,s);return!!(r&&this[r]!==void 0&&(!a||Ot(this,this[r],r,a)))}return!1}delete(s,a){const r=this;let n=!1;function o(i){if(i=et(i),i){const l=p.findKey(r,i);l&&(!a||Ot(r,r[l],l,a))&&(delete r[l],n=!0)}}return p.isArray(s)?s.forEach(o):o(s),n}clear(s){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const o=a[r];(!s||Ot(this,this[o],o,s,!0))&&(delete this[o],n=!0)}return n}normalize(s){const a=this,r={};return p.forEach(this,(n,o)=>{const i=p.findKey(r,o);if(i){a[i]=vt(n),delete a[o];return}const l=s?_n(o):String(o).trim();l!==o&&delete a[o],a[l]=vt(n),r[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return p.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=s&&p.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const r=new this(s);return a.forEach(n=>r.set(n)),r}static accessor(s){const r=(this[hs]=this[hs]={accessors:{}}).accessors,n=this.prototype;function o(i){const l=et(i);r[l]||(On(n,i),r[l]=!0)}return p.isArray(s)?s.forEach(o):o(s),this}};pe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);p.reduceDescriptors(pe.prototype,({value:e},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(r){this[a]=r}}});p.freezeMethods(pe);function Mt(e,s){const a=this||ct,r=s||a,n=pe.from(r.headers);let o=r.data;return p.forEach(e,function(l){o=l.call(a,o,n.normalize(),s?s.status:void 0)}),n.normalize(),o}function ea(e){return!!(e&&e.__CANCEL__)}function Qe(e,s,a){H.call(this,e??"canceled",H.ERR_CANCELED,s,a),this.name="CanceledError"}p.inherits(Qe,H,{__CANCEL__:!0});function ta(e,s,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?e(a):s(new H("Request failed with status code "+a.status,[H.ERR_BAD_REQUEST,H.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Mn(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function Un(e,s){e=e||10;const a=new Array(e),r=new Array(e);let n=0,o=0,i;return s=s!==void 0?s:1e3,function(c){const d=Date.now(),u=r[o];i||(i=d),a[n]=c,r[n]=d;let m=o,v=0;for(;m!==n;)v+=a[m++],m=m%e;if(n=(n+1)%e,n===o&&(o=(o+1)%e),d-i<s)return;const N=u&&d-u;return N?Math.round(v*1e3/N):void 0}}function $n(e,s){let a=0,r=1e3/s,n,o;const i=(d,u=Date.now())=>{a=u,n=null,o&&(clearTimeout(o),o=null),e(...d)};return[(...d)=>{const u=Date.now(),m=u-a;m>=r?i(d,u):(n=d,o||(o=setTimeout(()=>{o=null,i(n)},r-m)))},()=>n&&i(n)]}const St=(e,s,a=3)=>{let r=0;const n=Un(50,250);return $n(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-r,d=n(c),u=i<=l;r=i;const m={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-i)/d:void 0,event:o,lengthComputable:l!=null,[s?"download":"upload"]:!0};e(m)},a)},ps=(e,s)=>{const a=e!=null;return[r=>s[0]({lengthComputable:a,total:e,loaded:r}),s[1]]},fs=e=>(...s)=>p.asap(()=>e(...s)),Bn=ue.hasStandardBrowserEnv?((e,s)=>a=>(a=new URL(a,ue.origin),e.protocol===a.protocol&&e.host===a.host&&(s||e.port===a.port)))(new URL(ue.origin),ue.navigator&&/(msie|trident)/i.test(ue.navigator.userAgent)):()=>!0,Fn=ue.hasStandardBrowserEnv?{write(e,s,a,r,n,o){const i=[e+"="+encodeURIComponent(s)];p.isNumber(a)&&i.push("expires="+new Date(a).toGMTString()),p.isString(r)&&i.push("path="+r),p.isString(n)&&i.push("domain="+n),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const s=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function qn(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function sa(e,s,a){let r=!zn(s);return e&&(r||a==!1)?qn(e,s):s}const gs=e=>e instanceof pe?{...e}:e;function Fe(e,s){s=s||{};const a={};function r(d,u,m,v){return p.isPlainObject(d)&&p.isPlainObject(u)?p.merge.call({caseless:v},d,u):p.isPlainObject(u)?p.merge({},u):p.isArray(u)?u.slice():u}function n(d,u,m,v){if(p.isUndefined(u)){if(!p.isUndefined(d))return r(void 0,d,m,v)}else return r(d,u,m,v)}function o(d,u){if(!p.isUndefined(u))return r(void 0,u)}function i(d,u){if(p.isUndefined(u)){if(!p.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function l(d,u,m){if(m in s)return r(d,u);if(m in e)return r(void 0,d)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u,m)=>n(gs(d),gs(u),m,!0)};return p.forEach(Object.keys({...e,...s}),function(u){const m=c[u]||n,v=m(e[u],s[u],u);p.isUndefined(v)&&m!==l||(a[u]=v)}),a}const aa=e=>{const s=Fe({},e);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:o,headers:i,auth:l}=s;if(s.headers=i=pe.from(i),s.url=Qs(sa(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),p.isFormData(a)){if(ue.hasStandardBrowserEnv||ue.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(p.isFunction(a.getHeaders)){const c=a.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,m])=>{d.includes(u.toLowerCase())&&i.set(u,m)})}}if(ue.hasStandardBrowserEnv&&(r&&p.isFunction(r)&&(r=r(s)),r||r!==!1&&Bn(s.url))){const c=n&&o&&Fn.read(o);c&&i.set(n,c)}return s},Vn=typeof XMLHttpRequest<"u",Hn=Vn&&function(e){return new Promise(function(a,r){const n=aa(e);let o=n.data;const i=pe.from(n.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=n,u,m,v,N,h;function g(){N&&N(),h&&h(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let f=new XMLHttpRequest;f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout;function E(){if(!f)return;const R=pe.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),U={data:!l||l==="text"||l==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:R,config:e,request:f};ta(function(x){a(x),g()},function(x){r(x),g()},U),f=null}"onloadend"in f?f.onloadend=E:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(E)},f.onabort=function(){f&&(r(new H("Request aborted",H.ECONNABORTED,e,f)),f=null)},f.onerror=function(_){const U=_&&_.message?_.message:"Network Error",se=new H(U,H.ERR_NETWORK,e,f);se.event=_||null,r(se),f=null},f.ontimeout=function(){let _=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const U=n.transitional||Ys;n.timeoutErrorMessage&&(_=n.timeoutErrorMessage),r(new H(_,U.clarifyTimeoutError?H.ETIMEDOUT:H.ECONNABORTED,e,f)),f=null},o===void 0&&i.setContentType(null),"setRequestHeader"in f&&p.forEach(i.toJSON(),function(_,U){f.setRequestHeader(U,_)}),p.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),l&&l!=="json"&&(f.responseType=n.responseType),d&&([v,h]=St(d,!0),f.addEventListener("progress",v)),c&&f.upload&&([m,N]=St(c),f.upload.addEventListener("progress",m),f.upload.addEventListener("loadend",N)),(n.cancelToken||n.signal)&&(u=R=>{f&&(r(!R||R.type?new Qe(null,e,f):R),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const w=Mn(n.url);if(w&&ue.protocols.indexOf(w)===-1){r(new H("Unsupported protocol "+w+":",H.ERR_BAD_REQUEST,e));return}f.send(o||null)})},Gn=(e,s)=>{const{length:a}=e=e?e.filter(Boolean):[];if(s||a){let r=new AbortController,n;const o=function(d){if(!n){n=!0,l();const u=d instanceof Error?d:this.reason;r.abort(u instanceof H?u:new Qe(u instanceof Error?u.message:u))}};let i=s&&setTimeout(()=>{i=null,o(new H(`timeout ${s} of ms exceeded`,H.ETIMEDOUT))},s);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),e=null)};e.forEach(d=>d.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>p.asap(l),c}},Wn=function*(e,s){let a=e.byteLength;if(a<s){yield e;return}let r=0,n;for(;r<a;)n=r+s,yield e.slice(r,n),r=n},Jn=async function*(e,s){for await(const a of Kn(e))yield*Wn(a,s)},Kn=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:a,value:r}=await s.read();if(a)break;yield r}}finally{await s.cancel()}},xs=(e,s,a,r)=>{const n=Jn(e,s);let o=0,i,l=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await n.next();if(d){l(),c.close();return}let m=u.byteLength;if(a){let v=o+=m;a(v)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),n.return()}},{highWaterMark:2})},bs=64*1024,{isFunction:mt}=p,Xn=(({Request:e,Response:s})=>({Request:e,Response:s}))(p.global),{ReadableStream:ys,TextEncoder:vs}=p.global,js=(e,...s)=>{try{return!!e(...s)}catch{return!1}},Qn=e=>{e=p.merge.call({skipUndefined:!0},Xn,e);const{fetch:s,Request:a,Response:r}=e,n=s?mt(s):typeof fetch=="function",o=mt(a),i=mt(r);if(!n)return!1;const l=n&&mt(ys),c=n&&(typeof vs=="function"?(h=>g=>h.encode(g))(new vs):async h=>new Uint8Array(await new a(h).arrayBuffer())),d=o&&l&&js(()=>{let h=!1;const g=new a(ue.origin,{body:new ys,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!g}),u=i&&l&&js(()=>p.isReadableStream(new r("").body)),m={stream:u&&(h=>h.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!m[h]&&(m[h]=(g,f)=>{let E=g&&g[h];if(E)return E.call(g);throw new H(`Response type '${h}' is not supported`,H.ERR_NOT_SUPPORT,f)})});const v=async h=>{if(h==null)return 0;if(p.isBlob(h))return h.size;if(p.isSpecCompliantForm(h))return(await new a(ue.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(p.isArrayBufferView(h)||p.isArrayBuffer(h))return h.byteLength;if(p.isURLSearchParams(h)&&(h=h+""),p.isString(h))return(await c(h)).byteLength},N=async(h,g)=>{const f=p.toFiniteNumber(h.getContentLength());return f??v(g)};return async h=>{let{url:g,method:f,data:E,signal:w,cancelToken:R,timeout:_,onDownloadProgress:U,onUploadProgress:se,responseType:x,headers:j,withCredentials:T="same-origin",fetchOptions:$}=aa(h),q=s||fetch;x=x?(x+"").toLowerCase():"text";let A=Gn([w,R&&R.toAbortSignal()],_),I=null;const J=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let le;try{if(se&&d&&f!=="get"&&f!=="head"&&(le=await N(j,E))!==0){let oe=new a(g,{method:"POST",body:E,duplex:"half"}),fe;if(p.isFormData(E)&&(fe=oe.headers.get("content-type"))&&j.setContentType(fe),oe.body){const[Re,ke]=ps(le,St(fs(se)));E=xs(oe.body,bs,Re,ke)}}p.isString(T)||(T=T?"include":"omit");const ee=o&&"credentials"in a.prototype,ce={...$,signal:A,method:f.toUpperCase(),headers:j.normalize().toJSON(),body:E,duplex:"half",credentials:ee?T:void 0};I=o&&new a(g,ce);let me=await(o?q(I,$):q(g,ce));const _e=u&&(x==="stream"||x==="response");if(u&&(U||_e&&J)){const oe={};["status","statusText","headers"].forEach(S=>{oe[S]=me[S]});const fe=p.toFiniteNumber(me.headers.get("content-length")),[Re,ke]=U&&ps(fe,St(fs(U),!0))||[];me=new r(xs(me.body,bs,Re,()=>{ke&&ke(),J&&J()}),oe)}x=x||"text";let Oe=await m[p.findKey(m,x)||"text"](me,h);return!_e&&J&&J(),await new Promise((oe,fe)=>{ta(oe,fe,{data:Oe,headers:pe.from(me.headers),status:me.status,statusText:me.statusText,config:h,request:I})})}catch(ee){throw J&&J(),ee&&ee.name==="TypeError"&&/Load failed|fetch/i.test(ee.message)?Object.assign(new H("Network Error",H.ERR_NETWORK,h,I),{cause:ee.cause||ee}):H.from(ee,ee&&ee.code,h,I)}}},Yn=new Map,ra=e=>{let s=e?e.env:{};const{fetch:a,Request:r,Response:n}=s,o=[r,n,a];let i=o.length,l=i,c,d,u=Yn;for(;l--;)c=o[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:Qn(s)),u=d;return d};ra();const Wt={http:fn,xhr:Hn,fetch:{get:ra}};p.forEach(Wt,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const Ns=e=>`- ${e}`,Zn=e=>p.isFunction(e)||e===null||e===!1,na={getAdapter:(e,s)=>{e=p.isArray(e)?e:[e];const{length:a}=e;let r,n;const o={};for(let i=0;i<a;i++){r=e[i];let l;if(n=r,!Zn(r)&&(n=Wt[(l=String(r)).toLowerCase()],n===void 0))throw new H(`Unknown adapter '${l}'`);if(n&&(p.isFunction(n)||(n=n.get(s))))break;o[l||"#"+i]=n}if(!n){const i=Object.entries(o).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=a?i.length>1?`since :
`+i.map(Ns).join(`
`):" "+Ns(i[0]):"as no adapter specified";throw new H("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Wt};function Ut(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qe(null,e)}function ws(e){return Ut(e),e.headers=pe.from(e.headers),e.data=Mt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),na.getAdapter(e.adapter||ct.adapter,e)(e).then(function(r){return Ut(e),r.data=Mt.call(e,e.transformResponse,r),r.headers=pe.from(r.headers),r},function(r){return ea(r)||(Ut(e),r&&r.response&&(r.response.data=Mt.call(e,e.transformResponse,r.response),r.response.headers=pe.from(r.response.headers))),Promise.reject(r)})}const oa="1.12.2",Tt={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{Tt[e]=function(r){return typeof r===e||"a"+(s<1?"n ":" ")+e}});const Ss={};Tt.transitional=function(s,a,r){function n(o,i){return"[Axios v"+oa+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,l)=>{if(s===!1)throw new H(n(i," has been removed"+(a?" in "+a:"")),H.ERR_DEPRECATED);return a&&!Ss[i]&&(Ss[i]=!0,console.warn(n(i," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(o,i,l):!0}};Tt.spelling=function(s){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${s}`),!0)};function eo(e,s,a){if(typeof e!="object")throw new H("options must be an object",H.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const o=r[n],i=s[o];if(i){const l=e[o],c=l===void 0||i(l,o,e);if(c!==!0)throw new H("option "+o+" must be "+c,H.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new H("Unknown option "+o,H.ERR_BAD_OPTION)}}const jt={assertOptions:eo,validators:Tt},je=jt.validators;let $e=class{constructor(s){this.defaults=s||{},this.interceptors={request:new ms,response:new ms}}async request(s,a){try{return await this._request(s,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=Fe(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:o}=a;r!==void 0&&jt.assertOptions(r,{silentJSONParsing:je.transitional(je.boolean),forcedJSONParsing:je.transitional(je.boolean),clarifyTimeoutError:je.transitional(je.boolean)},!1),n!=null&&(p.isFunction(n)?a.paramsSerializer={serialize:n}:jt.assertOptions(n,{encode:je.function,serialize:je.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),jt.assertOptions(a,{baseUrl:je.spelling("baseURL"),withXsrfToken:je.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let i=o&&p.merge(o.common,o[a.method]);o&&p.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),a.headers=pe.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(a)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let u,m=0,v;if(!c){const h=[ws.bind(this),void 0];for(h.unshift(...l),h.push(...d),v=h.length,u=Promise.resolve(a);m<v;)u=u.then(h[m++],h[m++]);return u}v=l.length;let N=a;for(;m<v;){const h=l[m++],g=l[m++];try{N=h(N)}catch(f){g.call(this,f);break}}try{u=ws.call(this,N)}catch(h){return Promise.reject(h)}for(m=0,v=d.length;m<v;)u=u.then(d[m++],d[m++]);return u}getUri(s){s=Fe(this.defaults,s);const a=sa(s.baseURL,s.url,s.allowAbsoluteUrls);return Qs(a,s.params,s.paramsSerializer)}};p.forEach(["delete","get","head","options"],function(s){$e.prototype[s]=function(a,r){return this.request(Fe(r||{},{method:s,url:a,data:(r||{}).data}))}});p.forEach(["post","put","patch"],function(s){function a(r){return function(o,i,l){return this.request(Fe(l||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}$e.prototype[s]=a(),$e.prototype[s+"Form"]=a(!0)});let to=class ia{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const r=this;this.promise.then(n=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](n);r._listeners=null}),this.promise.then=n=>{let o;const i=new Promise(l=>{r.subscribe(l),o=l}).then(n);return i.cancel=function(){r.unsubscribe(o)},i},s(function(o,i,l){r.reason||(r.reason=new Qe(o,i,l),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=r=>{s.abort(r)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new ia(function(n){s=n}),cancel:s}}};function so(e){return function(a){return e.apply(null,a)}}function ao(e){return p.isObject(e)&&e.isAxiosError===!0}const Jt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jt).forEach(([e,s])=>{Jt[s]=e});function la(e){const s=new $e(e),a=$s($e.prototype.request,s);return p.extend(a,$e.prototype,s,{allOwnKeys:!0}),p.extend(a,s,null,{allOwnKeys:!0}),a.create=function(n){return la(Fe(e,n))},a}const ne=la(ct);ne.Axios=$e;ne.CanceledError=Qe;ne.CancelToken=to;ne.isCancel=ea;ne.VERSION=oa;ne.toFormData=Pt;ne.AxiosError=H;ne.Cancel=ne.CanceledError;ne.all=function(s){return Promise.all(s)};ne.spread=so;ne.isAxiosError=ao;ne.mergeConfig=Fe;ne.AxiosHeaders=pe;ne.formToJSON=e=>Zs(p.isHTMLForm(e)?new FormData(e):e);ne.getAdapter=na.getAdapter;ne.HttpStatusCode=Jt;ne.default=ne;const{Axios:Bi,AxiosError:Fi,CanceledError:zi,isCancel:qi,CancelToken:Vi,VERSION:Hi,all:Gi,Cancel:Wi,isAxiosError:Ji,spread:Ki,toFormData:Xi,AxiosHeaders:Qi,HttpStatusCode:Yi,formToJSON:Zi,getAdapter:el,mergeConfig:tl}=ne,Z=ne.create({baseURL:"http://localhost:8000/api/v1",timeout:3e5,headers:{"Content-Type":"application/json"}});Z.interceptors.request.use(e=>{var s;try{const a=localStorage.getItem("auth-storage");if(a){const n=(s=JSON.parse(a).state)==null?void 0:s.token;n&&(e.headers.Authorization=`Bearer ${n}`)}}catch{}return e},e=>Promise.reject(e));Z.interceptors.response.use(e=>e,e=>{var a,r,n,o,i,l,c,d;((a=e.response)==null?void 0:a.status)===401&&(localStorage.removeItem("auth-storage"),window.location.href="/login");const s={message:((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||e.message||"Unknown error",code:((i=(o=e.response)==null?void 0:o.data)==null?void 0:i.code)||e.code||"UNKNOWN_ERROR",details:((c=(l=e.response)==null?void 0:l.data)==null?void 0:c.details)||((d=e.response)==null?void 0:d.data)};return Promise.reject(s)});const ht={async login(e){return(await Z.post("/login/json",{username:e.username,password:e.password})).data},async register(e){return(await Z.post("/register",e)).data},async refreshToken(){return(await Z.post("/refresh")).data},async getCurrentUser(){return(await Z.get("/me")).data},async logout(){await Z.post("/logout")}};function ss(){try{const e=localStorage.getItem("auth-storage");if(e){const a=JSON.parse(e);if(a.state&&a.state.token)return console.log("Token found in Zustand storage"),a.state.token}const s=localStorage.getItem("auth-token");return s?(console.log("Token found in direct storage"),s):(console.warn("No token found in any storage"),null)}catch(e){return console.error("Error getting token:",e),null}}function ro(){const e=ss(),s={};return e?(s.Authorization=`Bearer ${e}`,console.log("Auth headers generated with token length:",e.length)):console.warn("No token available for auth headers"),s}function no(){const s=!!ss();return console.log("Authentication check:",{hasToken:s}),s}function Kt(e){try{localStorage.setItem("auth-token",e),console.log("Token stored in direct storage")}catch(s){console.error("Error storing token:",s)}}const pt=Object.freeze(Object.defineProperty({__proto__:null,getAuthHeaders:ro,getAuthToken:ss,isAuthenticated:no,storeToken:Kt},Symbol.toStringTag,{value:"Module"})),Te=Et()(Rr((e,s)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,login:async a=>{e({isLoading:!0});try{const r=await ht.login(a),n=r.access_token;Kt(n),e({user:r.user,token:n,isAuthenticated:!0,isLoading:!1})}catch(r){throw e({isLoading:!1}),r}},register:async a=>{e({isLoading:!0});try{const r=await ht.register(a),n=r.access_token;Kt(n),e({user:r.user,token:n,isAuthenticated:!0,isLoading:!1})}catch(r){throw e({isLoading:!1}),r}},logout:()=>{ht.logout().catch(()=>{}),s().clearAuth()},refreshToken:async()=>{try{const a=await ht.refreshToken();e({token:a.access_token})}catch(a){throw s().clearAuth(),a}},setUser:a=>{e({user:a,isAuthenticated:!!a})},setToken:a=>{e({token:a,isAuthenticated:!!a})},setLoading:a=>{e({isLoading:a})},clearAuth:()=>{e({user:null,token:null,isAuthenticated:!1,isLoading:!1})}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}));var oo=function(e,s){for(var a={};e.length;){var r=e[0],n=r.code,o=r.message,i=r.path.join(".");if(!a[i])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];a[i]={message:l.message,type:l.code}}else a[i]={message:o,type:n};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(m){return e.push(m)})}),s){var c=a[i].types,d=c&&c[r.code];a[i]=Aa(i,s,a,n,d?[].concat(d,r.message):r.message)}e.shift()}return a},io=function(e,s,a){return a===void 0&&(a={}),function(r,n,o){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(e[a.mode==="sync"?"parse":"parseAsync"](r,s)).then(function(d){return o.shouldUseNativeValidation&&Ea({},o),{errors:{},values:a.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:Ca(oo(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}}};const lo=()=>{const e=Te();return{user:e.user,token:e.token,isAuthenticated:e.isAuthenticated,isLoading:e.isLoading,login:e.login,register:e.register,logout:e.logout,refreshToken:e.refreshToken}},co=Ra({username:ns().min(1,"Nome de usurio  obrigatrio"),password:ns().min(1,"Senha  obrigatria")}),uo=()=>{const{login:e,isLoading:s}=lo();Ie.useEffect(()=>{document.title="AVALIA Code Quality System - Login"},[]);const{register:a,handleSubmit:r,formState:{errors:n}}=ka({resolver:io(co)}),o=async i=>{try{console.log("Tentando fazer login com:",i),await e(i),console.log("Login realizado com sucesso!"),window.location.href="/dashboard"}catch(l){console.error("Erro no login:",l),alert("Erro ao fazer login. Verifique o console para mais detalhes.")}};return t.jsxs("div",{className:"login-page",children:[t.jsxs("div",{className:"logo-container",children:[t.jsx("div",{className:"logo",children:t.jsx("span",{className:"logo-text",children:"A"})}),t.jsxs("h1",{className:"app-title",children:["AVAL",t.jsx("span",{style:{color:"#EAB308"},children:"IA"})]}),t.jsx("p",{className:"app-subtitle",children:"Sistema de Qualidade de Cdigo com IA"})]}),t.jsx("div",{className:"login-form-container",children:t.jsxs("div",{className:"br-card",children:[t.jsxs("div",{className:"card-header text-center",children:[t.jsx("h2",{className:"text-h2",children:"Entrar na sua conta"}),t.jsx("p",{className:"text-regular",children:"Digite suas credenciais para acessar o sistema"})]}),t.jsx("div",{className:"card-content",children:t.jsxs("form",{onSubmit:r(o),className:"login-form",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"username",className:"form-label",children:"Nome de usurio"}),t.jsx("input",{...a("username"),type:"text",id:"username",placeholder:"Digite seu nome de usurio",disabled:s,className:`form-input ${n.username?"error":""}`}),n.username&&t.jsx("span",{className:"error-message",children:n.username.message})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"password",className:"form-label",children:"Senha"}),t.jsx("input",{...a("password"),type:"password",id:"password",placeholder:"Digite sua senha",disabled:s,className:`form-input ${n.password?"error":""}`}),n.password&&t.jsx("span",{className:"error-message",children:n.password.message})]}),t.jsx("button",{type:"submit",disabled:s,className:"login-button",children:s?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"loading-spinner"}),"Entrando..."]}):"Entrar"}),t.jsx("div",{className:"register-link",children:t.jsxs("p",{className:"text-regular",children:["No tem uma conta?"," ",t.jsx(xe,{to:"/register",className:"link",children:"Registre-se"})]})})]})})]})})]})},De={getPrompts:async()=>(await Z.get("/prompts/config")).data,savePrompts:async e=>(await De.createVersionBackup(e),(await Z.post("/prompts/backup",e)).data),createVersionBackup:async e=>{try{await Z.post("/prompts/backup",e)}catch(s){console.warn("Failed to create version backup:",s)}},getVersionHistory:async e=>{try{return(await Z.get(`/prompts/${e}/versions`)).data}catch(s){return console.warn("Failed to fetch version history:",s),[]}},restoreVersion:async(e,s)=>(await Z.post(`/prompts/${e}/restore`,{version:s})).data,restoreDefaults:async()=>(await Z.post("/prompts/restore-defaults")).data,validatePrompt:async e=>(await Z.post("/prompts/validate",{content:e})).data,exportPrompts:async()=>(await Z.get("/prompts/export")).data,importPrompts:async e=>(await Z.post("/prompts/import",{data:e})).data},qe=e=>({id:"",name:e==="general"?"Critrios Gerais":e==="architectural"?"Conformidade Arquitetural":"Conformidade Negocial",type:e,description:e==="general"?"Critrios gerais de anlise de cdigo":e==="architectural"?"Critrios de conformidade arquitetural":"Critrios de conformidade negocial",content:"",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date}),mo=Et()(wr((e,s)=>({prompts:{general:qe("general"),architectural:qe("architectural"),business:qe("business")},isSaving:!1,lastSaved:null,hasUnsavedChanges:!1,error:null,autoSaveTimer:null,activePromptType:"general",updatePrompt:(a,r)=>{e(n=>({prompts:{...n.prompts,[a]:{...n.prompts[a],content:r,updatedAt:new Date}},hasUnsavedChanges:!0})),s().triggerAutoSave()},setActivePromptType:a=>{e({activePromptType:a})},triggerAutoSave:()=>{const a=s();a.autoSaveTimer&&clearTimeout(a.autoSaveTimer);const r=setTimeout(()=>{s().savePrompts()},3e4);e({autoSaveTimer:r})},savePrompts:async()=>{const a=s();if(a.hasUnsavedChanges){e({isSaving:!0,error:null});try{await s().createVersionBackup(),await De.savePrompts(a.prompts),e({isSaving:!1,lastSaved:new Date,hasUnsavedChanges:!1,error:null})}catch(r){e({isSaving:!1,error:r instanceof Error?r.message:"Erro ao salvar prompts"})}}},discardChanges:async()=>{e({isSaving:!0,error:null});try{const a=await De.getPrompts();e({prompts:a,isSaving:!1,hasUnsavedChanges:!1,error:null})}catch(a){e({isSaving:!1,error:a instanceof Error?a.message:"Erro ao descartar alteraes"})}},restoreDefaults:async()=>{e({isSaving:!0,error:null});try{const a=await De.restoreDefaults();e({prompts:a,isSaving:!1,hasUnsavedChanges:!1,lastSaved:new Date,error:null})}catch(a){e({isSaving:!1,error:a instanceof Error?a.message:"Erro ao restaurar padres"})}},loadPrompts:async()=>{e({isSaving:!0,error:null});try{const a=await De.getPrompts();e({prompts:a,isSaving:!1,hasUnsavedChanges:!1,error:null})}catch(a){e({isSaving:!1,error:a instanceof Error?a.message:"Erro ao carregar prompts"})}},clearAutoSaveTimer:()=>{const a=s();a.autoSaveTimer&&(clearTimeout(a.autoSaveTimer),e({autoSaveTimer:null}))},reset:()=>{s().clearAutoSaveTimer(),e({prompts:{general:qe("general"),architectural:qe("architectural"),business:qe("business")},isSaving:!1,lastSaved:null,hasUnsavedChanges:!1,error:null,autoSaveTimer:null,activePromptType:"general"})},getVersionHistory:async a=>{try{const r=s().prompts[a].id;return r?await De.getVersionHistory(r):[]}catch(r){return console.error("Error fetching version history:",r),[]}},restoreVersion:async(a,r)=>{e({isSaving:!0,error:null});try{const n=s().prompts[a].id;if(!n)throw new Error("Prompt ID not found");const o=await De.restoreVersion(n,r);e(i=>({prompts:{...i.prompts,[a]:{...i.prompts[a],...o,updatedAt:new Date}},isSaving:!1,hasUnsavedChanges:!1,lastSaved:new Date,error:null}))}catch(n){e({isSaving:!1,error:n instanceof Error?n.message:"Erro ao restaurar verso"})}},createVersionBackup:async()=>{try{await De.createVersionBackup(s().prompts)}catch(a){console.error("Error creating version backup:",a)}}}),{name:"prompt-store"})),ho=({value:e,onChange:s,language:a="markdown",placeholder:r,disabled:n=!1})=>{const o=y.useRef(null),[i,l]=y.useState(0),[c,d]=y.useState(0),u=f=>{if(!o.current)return;const E=o.current,w=E.selectionStart,R=E.selectionEnd,_=e.substring(w,R),U=f.replace("${selection}",_),se=e.substring(0,w)+U+e.substring(R);s(se),setTimeout(()=>{E.focus(),E.setSelectionRange(w,w+U.length)},0)},m=(f,E=f)=>{if(!o.current)return;const w=o.current,R=w.selectionStart,_=w.selectionEnd,U=e.substring(R,_);if(U){const se=f+U+E,x=e.substring(0,R)+se+e.substring(_);s(x),setTimeout(()=>{w.focus(),w.setSelectionRange(R,R+se.length)},0)}},v=f=>{if(!n){if(f.ctrlKey||f.metaKey)switch(f.key){case"b":f.preventDefault(),m("**","**");break;case"i":f.preventDefault(),m("*","*");break;case"k":f.preventDefault(),m("[","]()");break;case"e":f.preventDefault(),m("`","`");break}f.key==="Tab"&&(f.preventDefault(),u("  "))}},N=()=>{o.current&&(l(o.current.selectionStart),d(o.current.selectionEnd))},h=()=>e.trim()?e.trim().split(/\s+/).length:0,g=()=>e.length;return y.useEffect(()=>{o.current&&(o.current.style.height="auto",o.current.style.height=`${o.current.scrollHeight}px`)},[e]),t.jsxs("div",{className:"br-textarea-wrapper",children:[t.jsxs("div",{className:"editor-toolbar br-button-group",children:[t.jsxs("div",{className:"br-button-group",children:[t.jsx("button",{type:"button",onClick:()=>m("**","**"),title:"Negrito",disabled:n,className:"br-button small","aria-label":"Negrito",children:t.jsx("span",{className:"fas fa-bold"})}),t.jsx("button",{type:"button",onClick:()=>m("*","*"),title:"Itlico",disabled:n,className:"br-button small","aria-label":"Itlico",children:t.jsx("span",{className:"fas fa-italic"})}),t.jsx("button",{type:"button",onClick:()=>m("`","`"),title:"Cdigo",disabled:n,className:"br-button small","aria-label":"Cdigo",children:t.jsx("span",{className:"fas fa-code"})})]}),t.jsxs("div",{className:"br-button-group",children:[t.jsx("button",{type:"button",onClick:()=>m("## "),title:"Ttulo 2",disabled:n,className:"br-button small","aria-label":"Ttulo 2",children:"H2"}),t.jsx("button",{type:"button",onClick:()=>m("### "),title:"Ttulo 3",disabled:n,className:"br-button small","aria-label":"Ttulo 3",children:"H3"}),t.jsx("button",{type:"button",onClick:()=>m("- "),title:"Lista",disabled:n,className:"br-button small","aria-label":"Lista",children:t.jsx("span",{className:"fas fa-list-ul"})})]}),t.jsxs("div",{className:"br-button-group",children:[t.jsx("button",{type:"button",onClick:()=>m("[","]()"),title:"Link",disabled:n,className:"br-button small","aria-label":"Link",children:t.jsx("span",{className:"fas fa-link"})}),t.jsx("button",{type:"button",onClick:()=>m("```\n","\n```"),title:"Bloco de cdigo",disabled:n,className:"br-button small","aria-label":"Bloco de cdigo",children:t.jsx("span",{className:"fas fa-code"})})]})]}),t.jsx("textarea",{ref:o,value:e,onChange:f=>s(f.target.value),onKeyDown:v,onSelect:N,onKeyUp:N,onMouseUp:N,placeholder:r,disabled:n,className:"br-textarea",rows:15,style:{resize:"vertical",minHeight:"400px",fontFamily:'Consolas, Monaco, "Courier New", monospace',fontSize:"14px",lineHeight:"1.5"}}),t.jsxs("div",{className:"editor-footer",children:[t.jsxs("div",{className:"editor-stats text-small text-muted",children:[t.jsxs("span",{className:"me-3",children:[t.jsx("i",{className:"fas fa-font me-1"}),g()," caracteres"]}),t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-align-left me-1"}),h()," palavras"]})]}),a==="markdown"&&t.jsxs("div",{className:"markdown-hint text-small text-muted",children:[t.jsx("i",{className:"fas fa-keyboard me-1"}),"Dica: Ctrl+B para negrito, Ctrl+I para itlico, Ctrl+E para cdigo"]})]})]})},po={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},fo=(e,s,a)=>{let r;const n=po[e];return typeof n=="string"?r=n:s===1?r=n.one:r=n.other.replace("{{count}}",String(s)),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"em "+r:"h "+r:r},go={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},xo={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},bo={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yo={date:Lt({formats:go,defaultWidth:"full"}),time:Lt({formats:xo,defaultWidth:"full"}),dateTime:Lt({formats:bo,defaultWidth:"full"})},vo={lastWeek:e=>{const s=e.getDay();return"'"+(s===0||s===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},jo=(e,s,a,r)=>{const n=vo[e];return typeof n=="function"?n(s):n},No={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},wo={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},So={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Eo={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},Co={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},Ao={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Ro=(e,s)=>{const a=Number(e);return(s==null?void 0:s.unit)==="week"?a+"":a+""},ko={ordinalNumber:Ro,era:Ye({values:No,defaultWidth:"wide"}),quarter:Ye({values:wo,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ye({values:So,defaultWidth:"wide"}),day:Ye({values:Eo,defaultWidth:"wide"}),dayPeriod:Ye({values:Co,defaultWidth:"wide",formattingValues:Ao,defaultFormattingWidth:"wide"})},Do=/^(\d+)[o]?/i,Po=/\d+/i,To={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Io={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Lo={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},_o={any:[/1/i,/2/i,/3/i,/4/i]},Oo={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Mo={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Uo={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},$o={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Bo={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Fo={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},zo={ordinalNumber:Da({matchPattern:Do,parsePattern:Po,valueCallback:e=>parseInt(e,10)}),era:Ze({matchPatterns:To,defaultMatchWidth:"wide",parsePatterns:Io,defaultParseWidth:"any"}),quarter:Ze({matchPatterns:Lo,defaultMatchWidth:"wide",parsePatterns:_o,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ze({matchPatterns:Oo,defaultMatchWidth:"wide",parsePatterns:Mo,defaultParseWidth:"any"}),day:Ze({matchPatterns:Uo,defaultMatchWidth:"wide",parsePatterns:$o,defaultParseWidth:"any"}),dayPeriod:Ze({matchPatterns:Bo,defaultMatchWidth:"any",parsePatterns:Fo,defaultParseWidth:"any"})},ca={code:"pt-BR",formatDistance:fo,formatLong:yo,formatRelative:jo,localize:ko,match:zo,options:{weekStartsOn:0,firstWeekContainsDate:1}},qo=({isSaving:e,lastSaved:s,hasUnsavedChanges:a})=>{const r=()=>e?"Salvando...":a?"No salvo":s?`Salvo ${Pa(s,{addSuffix:!0,locale:ca})}`:"Salvo",n=()=>e?"warning":a?"danger":"success",o=()=>e?"fas fa-spinner fa-spin":a?"fas fa-exclamation-circle":"fas fa-check-circle";return t.jsxs("div",{className:`br-tag ${n()}`,children:[t.jsx("i",{className:`${o()} me-1`}),r()]})},Vo=({versions:e,onRestore:s,currentVersion:a})=>{const r=[...e].sort((n,o)=>o.version-n.version);return t.jsxs("div",{className:"version-history br-card",children:[t.jsx("div",{className:"card-header",children:t.jsx("h3",{className:"text-h3",children:"Histrico de Verses"})}),t.jsx("div",{className:"card-content",children:t.jsx("div",{className:"version-list br-list",children:r.map(n=>t.jsxs("div",{className:`version-item br-item ${n.version===a?"current":""}`,children:[t.jsxs("div",{className:"version-header",children:[t.jsxs("div",{className:"br-list-title",children:[t.jsxs("span",{className:"version-number",children:["v",n.version]}),n.version===a&&t.jsx("span",{className:"br-tag success ms-2",children:"Atual"})]}),t.jsx("div",{className:"br-list-text",children:t.jsx("span",{className:"version-date text-small text-muted",children:Ta(new Date(n.createdAt),"dd/MM/yyyy HH:mm",{locale:ca})})})]}),t.jsxs("div",{className:"version-author text-small text-muted",children:[t.jsx("i",{className:"fas fa-user me-1"}),"por ",n.author]}),n.changeDescription&&t.jsx("div",{className:"version-description mt-2",children:t.jsx("p",{className:"text-regular",children:n.changeDescription})}),n.version!==a&&t.jsx("div",{className:"mt-3",children:t.jsxs("button",{onClick:()=>s(n.version),className:"br-button secondary",type:"button",children:[t.jsx("i",{className:"fas fa-undo me-1"}),"Restaurar esta verso"]})})]},n.version))})})]})},Ho=({onSave:e,onDiscard:s,onRestoreDefaults:a,isSaving:r,hasUnsavedChanges:n,disabled:o=!1})=>t.jsx("div",{className:"prompt-toolbar",children:t.jsxs("div",{className:"br-button-group",children:[t.jsx("button",{onClick:e,disabled:o||r||!n,className:"br-button primary",type:"button",children:r?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-spinner fa-spin me-1"}),"Salvando..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-save me-1"}),"Salvar Alteraes"]})}),t.jsxs("button",{onClick:s,disabled:o||r||!n,className:"br-button secondary",type:"button",children:[t.jsx("i",{className:"fas fa-undo me-1"}),"Descartar"]}),t.jsxs("button",{onClick:a,disabled:o||r,className:"br-button",type:"button",children:[t.jsx("i",{className:"fas fa-refresh me-1"}),"Restaurar Padres"]})]})}),Go=()=>{const{prompts:e,isSaving:s,lastSaved:a,hasUnsavedChanges:r,error:n,activePromptType:o,updatePrompt:i,setActivePromptType:l,savePrompts:c,discardChanges:d,restoreDefaults:u,loadPrompts:m,clearAutoSaveTimer:v,getVersionHistory:N,restoreVersion:h}=mo(),[g,f]=y.useState([]);y.useEffect(()=>(m(),()=>{v()}),[m,v]),y.useEffect(()=>{(async()=>{const j=await N(o);f(j)})()},[o,N]);const E=x=>{i(o,x)},w=x=>{l(x)},R=async x=>{await h(o,x);const j=await N(o);f(j)},_=e[o],U=x=>{switch(x){case"general":return"Critrios Gerais";case"architectural":return"Conformidade Arquitetural";case"business":return"Conformidade Negocial"}},se=x=>{switch(x){case"general":return"Digite os critrios gerais de anlise de cdigo...";case"architectural":return"Digite os critrios de conformidade arquitetural...";case"business":return"Digite os critrios de conformidade negocial..."}};return t.jsxs("div",{className:"prompt-config",children:[t.jsx("div",{className:"prompt-config-header",children:t.jsx("div",{className:"br-card",children:t.jsxs("div",{className:"card-header text-center",children:[t.jsx("h1",{className:"text-h1",children:"Configurao de Prompts"}),t.jsx("p",{className:"text-regular",children:"Personalize os prompts que sero usados para anlise do cdigo-fonte. As alteraes so salvas automaticamente a cada 30 segundos."})]})})}),n&&t.jsxs("div",{className:"br-message danger",role:"alert",children:[t.jsx("div",{className:"icon",children:t.jsx("span",{className:"fas fa-exclamation-triangle"})}),t.jsx("div",{className:"content","aria-label":"Mensagem de erro",children:t.jsx("p",{children:n})})]}),t.jsx("div",{className:"br-tabs","data-tabs":"prompt-tabs",children:t.jsx("nav",{className:"tab-navigation",role:"tablist",children:["general","architectural","business"].map(x=>t.jsx("button",{className:`tab-item ${o===x?"is-active":""}`,role:"tab","aria-selected":o===x,"aria-controls":`tab-${x}`,onClick:()=>w(x),children:t.jsx("span",{className:"name",children:U(x)})},x))})}),t.jsx("div",{className:"br-container",children:t.jsxs("div",{className:"br-grid",children:[t.jsx("div",{className:"br-col-12 br-col-md-8",children:t.jsxs("div",{className:"br-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"row align-items-center",children:[t.jsx("div",{className:"br-col",children:t.jsx("h2",{className:"text-h2",children:U(o)})}),t.jsx("div",{className:"br-col-auto",children:t.jsx(qo,{isSaving:s,lastSaved:a,hasUnsavedChanges:r})})]})}),t.jsxs("div",{className:"card-content",children:[t.jsx(ho,{value:_.content,onChange:E,language:"markdown",placeholder:se(o),disabled:s}),t.jsx("div",{className:"prompt-actions mt-4",children:t.jsx(Ho,{onSave:c,onDiscard:d,onRestoreDefaults:u,isSaving:s,hasUnsavedChanges:r,disabled:s})})]})]})}),t.jsxs("div",{className:"br-col-12 br-col-md-4",children:[t.jsxs("div",{className:"br-card mb-3",children:[t.jsx("div",{className:"card-header",children:t.jsx("h3",{className:"text-h3",children:"Informaes do Prompt"})}),t.jsx("div",{className:"card-content",children:t.jsxs("div",{className:"br-list",children:[t.jsxs("div",{className:"br-item",children:[t.jsx("span",{className:"br-list-title",children:"Nome:"}),t.jsx("span",{className:"br-list-text",children:_.name})]}),t.jsxs("div",{className:"br-item",children:[t.jsx("span",{className:"br-list-title",children:"Descrio:"}),t.jsx("span",{className:"br-list-text",children:_.description})]}),t.jsxs("div",{className:"br-item",children:[t.jsx("span",{className:"br-list-title",children:"Tipo:"}),t.jsx("span",{className:"br-list-text",children:_.type})]}),t.jsxs("div",{className:"br-item",children:[t.jsx("span",{className:"br-list-title",children:"Status:"}),t.jsx("span",{className:`br-tag ${_.isActive?"success":"warning"}`,children:_.isActive?"Ativo":"Inativo"})]}),t.jsxs("div",{className:"br-item",children:[t.jsx("span",{className:"br-list-title",children:"Padro:"}),t.jsx("span",{className:`br-tag ${_.isDefault?"info":"secondary"}`,children:_.isDefault?"Sim":"No"})]}),t.jsxs("div",{className:"br-item",children:[t.jsx("span",{className:"br-list-title",children:"ltima modificao:"}),t.jsx("span",{className:"br-list-text",children:new Date(_.updatedAt).toLocaleString("pt-BR")})]})]})})]}),t.jsxs("div",{className:"br-card",children:[t.jsx("div",{className:"card-header",children:t.jsx("h3",{className:"text-h3",children:"Histrico de Verses"})}),t.jsx("div",{className:"card-content",children:t.jsx(Vo,{versions:g.length>0?g:[{version:_.version||1,content:_.content,createdAt:_.updatedAt,author:"Usurio"}],onRestore:R,currentVersion:_.version||1})})]})]})]})})]})},Wo=()=>t.jsx(Go,{}),Jo="modulepreload",Ko=function(e){return"/"+e},Es={},ft=function(s,a,r){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.allSettled(a.map(c=>{if(c=Ko(c),c in Es)return;Es[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Jo,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((v,N)=>{m.addEventListener("load",v),m.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return n.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return s().catch(o)})},Xo=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const s=Math.random()*16|0;return(e==="x"?s:s&3|8).toString(16)}),Qo=({paths:e=[],onLoadPaths:s,autoRefresh:a=!0,onFolderSelect:r,onError:n,onSelectionComplete:o})=>{const[i,l]=y.useState(e);console.log(" PathList montado com initialPaths:",e),console.log(" initialPaths.length:",e.length);const[c,d]=y.useState(!1),[u,m]=y.useState(null),[v,N]=y.useState(""),[h,g]=y.useState(!1),[f,E]=y.useState(0),[w,R]=y.useState(""),_=y.useRef(null),[U,se]=y.useState("fileName"),[x,j]=y.useState("asc"),[T,$]=y.useState(new Set),q=S=>{if(S===0)return"0 Bytes";const B=1024,G=["Bytes","KB","MB","GB"],b=Math.floor(Math.log(S)/Math.log(B));return parseFloat((S/Math.pow(B,b)).toFixed(2))+" "+G[b]};y.useCallback(S=>{try{const B=S.map(G=>({id:G.id,name:G.fileName,size:G.fileSize||0,type:`application/${G.fileExtension}`,path:G.fullPath,status:"completed",progress:100,uploadedAt:new Date}));B.forEach(G=>{l(b=>[...b])}),console.log(`Sincronizados ${B.length} arquivos para o upload store`)}catch(B){console.error("Erro ao sincronizar paths com upload store:",B)}},[]);const A=S=>new Date(S).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),I=S=>{const B=S.split(".");return B.length>1?B[B.length-1].toLowerCase():""},J=y.useCallback(async S=>{var B,G;console.log("handleFolderSelect called with:",{fileCount:S.length,firstFileName:(B=S[0])==null?void 0:B.name,firstFilePath:(G=S[0])==null?void 0:G.webkitRelativePath});try{g(!0),E(0);const b=S[0];if(!b){n&&n("No files selected");return}const C=b.webkitRelativePath||"",F=C.split("/")[0]||"selected_folder";console.log("Processing folder:",{folderPath:F,relativePath:C}),R(F);const P=[];for(let k=0;k<S.length;k++){const K=S[k],X=K.webkitRelativePath||"",D=X.split("/"),O=D[D.length-1],W=D.slice(0,-1).join("/"),V=X.startsWith(W+"/")?X:`${W}/${X}`,ge={id:Xo(),fullPath:V,fileName:O,fileExtension:I(O),folderPath:W,fileSize:K.size,lastModified:new Date(K.lastModified),file:K};P.push(ge),E((k+1)/S.length*100),await new Promise(L=>setTimeout(L,50))}try{console.log("Attempting to upload files and save paths to database...");const{getAuthHeaders:k}=await ft(async()=>{const{getAuthHeaders:X}=await Promise.resolve().then(()=>pt);return{getAuthHeaders:X}},void 0),K=k();if(console.log("Auth headers:",{hasAuth:!!K.Authorization}),K.Authorization){const X=new FormData;P.forEach(O=>{O.file&&X.append("files",O.file)});const D=await fetch("/api/v1/upload/folder",{method:"POST",headers:{...K},body:X});if(console.log("Database response:",{status:D.status,statusText:D.statusText}),D.ok){const O=await D.json();if(console.log("Upload result:",O),O.failed_files&&O.failed_files.length>0&&console.warn("Some files could not be uploaded:",O.failed_files),console.log(`Successfully uploaded ${O.total_uploaded} files`),r){const W=O.uploaded_files.map(V=>({id:V.id,fullPath:V.path,fileName:V.name,fileExtension:V.name.split(".").pop()||"",folderPath:V.path.split("/").slice(0,-1).join("/"),fileSize:V.size,lastModified:new Date(V.upload_date),is_processed:!0,processing_status:"completed"}));r(W)}}else if(D.status===401)console.warn("Authentication failed - continuing without upload");else{const O=await D.text();console.error("Server error response:",O)}}else console.warn("No authentication token - skipping upload"),r&&r(P)}catch(k){console.warn("Error uploading files (continuing anyway):",k),r&&r(P)}console.log("Refreshing file list after upload..."),await ee(),o&&o()}catch(b){console.error("Error scanning folder:",b),n&&n(b instanceof Error?b.message:"Failed to scan folder")}finally{g(!1),E(0)}},[r,n,o]),le=S=>{var B,G,b;console.log("File input changed:",{files:S.target.files,fileCount:(B=S.target.files)==null?void 0:B.length,firstFile:(b=(G=S.target.files)==null?void 0:G[0])==null?void 0:b.name}),S.target.files&&S.target.files.length>0?J(S.target.files):(console.warn("No files selected"),n&&n("Nenhum arquivo selecionado. Por favor, escolha uma pasta com arquivos."))},ee=async()=>{try{console.log(" PathList.loadPaths() - Iniciando carregamento..."),d(!0),m(null);const{getAuthHeaders:S,isAuthenticated:B}=await ft(async()=>{const{getAuthHeaders:k,isAuthenticated:K}=await Promise.resolve().then(()=>pt);return{getAuthHeaders:k,isAuthenticated:K}},void 0);if(!B()){console.log(" Usurio no autenticado"),m("Por favor, faa login para ver os caminhos de arquivos.");return}console.log(" Usurio autenticado, fazendo requisio para /api/v1/file-paths/");const G=S();console.log(" Auth headers:",Object.keys(G));const b="/api/v1/file-paths/public";console.log(" Fazendo requisio para endpoint pblico (todos os arquivos):",b),console.log(" URL completa:",window.location.origin+b);const C=await fetch(b);if(console.log(" Resposta da API:",{status:C.status,statusText:C.statusText,ok:C.ok}),!C.ok)throw C.status===401?new Error("Sesso expirada. Por favor, faa login novamente."):new Error("Failed to load file paths");const F=await C.json();console.log(" Dados recebidos da API:",F);const P=(F.file_paths||[]).map((k,K)=>{if(typeof k=="object"&&k!==null)return{id:k.file_id||k.id,fullPath:k.full_path,fileName:k.file_name,fileExtension:k.file_extension,folderPath:k.folder_path,fileSize:k.file_size,lastModified:k.last_modified?new Date(k.last_modified):void 0,created_at:k.created_at};const X=k,D=X.split("/").pop()||X,O=D.includes(".")?D.split(".").pop():"";return{id:`path_${K}`,fullPath:X,fileName:D,fileExtension:O,folderPath:X.includes("/")?X.split("/")[0]:"",fileSize:void 0,lastModified:void 0,created_at:void 0}});console.log(" Paths transformados (TODOS OS ARQUIVOS):",P.slice(0,3)),console.log(" Total de paths:",P.length),console.log(" CARREGADOS TODOS OS ARQUIVOS - SEM LIMITE "),console.log(" Primeiro arquivo transformado:",P[0]),l(P),s&&s(P)}catch(S){const B=S instanceof Error?S.message:"Failed to load paths";m(B),console.error(" Error loading paths:",S)}finally{d(!1)}};y.useEffect(()=>{a&&ee()},[a]);const ce=Ie.useMemo(()=>{let S=i;if(v){const B=v.toLowerCase();S=S.filter(G=>G.fileName.toLowerCase().includes(B)||G.fullPath.toLowerCase().includes(B)||G.fileExtension.toLowerCase().includes(B)||G.folderPath.toLowerCase().includes(B))}return S.sort((B,G)=>{let b=B[U],C=G[U];return U==="fileSize"&&(b=b||0,C=C||0),b<C?x==="asc"?-1:1:b>C?x==="asc"?1:-1:0})},[i,v,U,x]),me=S=>{$(B=>{const G=new Set(B);return G.has(S)?G.delete(S):G.add(S),G})},_e=()=>{T.size===ce.length?$(new Set):$(new Set(ce.map(S=>S.id)))},Oe=async()=>{if(T.size===0)return;const S=`Tem certeza que deseja remover ${T.size} arquivo(s) selecionados? Esta ao ir remover os arquivos do banco de dados e tambm deletar os arquivos fsicos da pasta de uploads.`;if(confirm(S))try{const{getAuthHeaders:B}=await ft(async()=>{const{getAuthHeaders:C}=await Promise.resolve().then(()=>pt);return{getAuthHeaders:C}},void 0),G=B(),b=await fetch("/api/v1/file-paths/",{method:"DELETE",headers:{"Content-Type":"application/json",...G},body:JSON.stringify(Array.from(T))});if(b.ok){const C=await b.json();l(P=>P.filter(k=>!T.has(k.id))),$(new Set);const F=C.errors&&C.errors.length>0?`Removidos ${C.deleted_db_records} registros do banco de dados e ${C.deleted_physical_files} arquivos fsicos. Alguns erros ocorreram: ${C.errors.join(", ")}`:`Removidos ${C.deleted_db_records} registros do banco de dados e ${C.deleted_physical_files} arquivos fsicos com sucesso!`;alert(F),console.log("Remoo concluda:",C)}else{const C=await b.text();console.error("Erro ao remover arquivos selecionados:",C),alert("Erro ao remover arquivos selecionados. Por favor, tente novamente.")}}catch(B){console.error("Erro ao remover arquivos selecionados:",B),alert("Erro ao remover arquivos selecionados. Por favor, tente novamente.")}},oe=async S=>{if(confirm("Tem certeza que deseja remover este arquivo? Esta ao ir remover o arquivo do banco de dados e tambm deletar o arquivo fsico da pasta de uploads."))try{const{getAuthHeaders:B}=await ft(async()=>{const{getAuthHeaders:C}=await Promise.resolve().then(()=>pt);return{getAuthHeaders:C}},void 0),G=B(),b=await fetch("/api/v1/file-paths/",{method:"DELETE",headers:{"Content-Type":"application/json",...G},body:JSON.stringify([S])});if(b.ok){const C=await b.json();l(P=>P.filter(k=>k.id!==S)),$(P=>{const k=new Set(P);return k.delete(S),k});const F=C.errors&&C.errors.length>0?`Removido 1 registro do banco de dados e ${C.deleted_physical_files} arquivo(s) fsico(s). Alguns erros ocorreram: ${C.errors.join(", ")}`:`Removido 1 registro do banco de dados e ${C.deleted_physical_files} arquivo(s) fsico(s) com sucesso!`;alert(F),console.log("Remoo individual concluda:",C)}else{const C=await b.text();console.error("Erro ao remover arquivo:",C),alert("Erro ao remover arquivo. Por favor, tente novamente.")}}catch(B){console.error("Erro ao remover arquivo:",B),alert("Erro ao remover arquivo. Por favor, tente novamente.")}},fe=async()=>{if(confirm("Tem certeza que deseja fazer um reset completo? Isso vai limpar todo o cache e recarregar a pgina.")){console.log(" Iniciando reset completo...");try{console.log(" Limpando localStorage..."),Object.keys(localStorage).forEach(S=>{(S.includes("auth")||S.includes("upload")||S.includes("file")||S.includes("path"))&&(console.log(`  Removendo: ${S}`),localStorage.removeItem(S))}),console.log(" Limpando sessionStorage..."),Object.keys(sessionStorage).forEach(S=>{(S.includes("auth")||S.includes("upload")||S.includes("file")||S.includes("path"))&&(console.log(`  Removendo: ${S}`),sessionStorage.removeItem(S))}),console.log(" Recarregando pgina..."),window.location.reload()}catch(S){console.error(" Erro durante reset:",S),alert("Erro durante o reset. Por favor, recarregue a pgina manualmente (F5).")}}},Re=S=>{navigator.clipboard.writeText(S).then(()=>{}).catch(B=>{console.error("Failed to copy text:",B)})},ke=()=>{const S=[["File Path","File Name","Extension","Folder Path","Size","Modified"],...ce.map(C=>[C.fullPath,C.fileName,C.fileExtension,C.folderPath,C.fileSize?q(C.fileSize):"",C.lastModified?A(C.lastModified.toString()):""])].map(C=>C.map(F=>`"${F}"`).join(",")).join(`
`),B=new Blob([S],{type:"text/csv;charset=utf-8;"}),G=document.createElement("a"),b=URL.createObjectURL(B);G.setAttribute("href",b),G.setAttribute("download",`file_paths_${new Date().toISOString().split("T")[0]}.csv`),G.style.visibility="hidden",document.body.appendChild(G),G.click(),document.body.removeChild(G)};if(c)return t.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),t.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando caminhos de arquivos..."})]})});if(u){const S=u.includes("login")||u.includes("Sesso expirada");return t.jsx("div",{className:`${S?"bg-blue-50 border-blue-200":"bg-red-50 border-red-200"} rounded-lg p-6`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:`text-sm font-medium ${S?"text-blue-800":"text-red-800"}`,children:S?"Autenticao necessria":"Erro ao carregar caminhos"}),t.jsx("p",{className:`text-sm ${S?"text-blue-600":"text-red-600"} mt-1`,children:u})]}),!S&&t.jsx("button",{onClick:ee,className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Tentar novamente"})]})})}return t.jsxs("div",{className:"path-list",children:[t.jsx("input",{ref:_,id:"folder-input",type:"file",webkitdirectory:"",directory:"",multiple:!0,className:"hidden",onChange:le,disabled:h}),t.jsx("div",{className:"path-list-header",children:t.jsx("div",{className:"br-card",children:t.jsxs("div",{className:"card-header",children:[t.jsx("h2",{className:"text-h2",children:"Caminhos de Arquivos"}),t.jsxs("p",{className:"text-regular",children:[ce.length," arquivo(s) encontrado(s)"]})]})})}),t.jsxs("div",{className:"path-list-controls",children:[t.jsx("div",{className:"search-box",children:t.jsx("input",{type:"text",placeholder:"Buscar arquivos...",value:v,onChange:S=>N(S.target.value),className:"br-input"})}),t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{onClick:ee,className:"br-button secondary small",type:"button",title:"Atualizar lista de arquivos",children:" Atualizar"}),ce.length>0&&t.jsxs("div",{className:"selection-controls",children:[t.jsx("button",{onClick:_e,className:"br-button secondary small",type:"button",children:T.size===ce.length?"Desmarcar Todos":"Selecionar Todos"}),T.size>0&&t.jsxs("button",{onClick:Oe,className:"br-button danger small",type:"button",children:["Remover Selecionados (",T.size,")"]})]}),t.jsx("button",{onClick:()=>{var S;return(S=document.getElementById("folder-input"))==null?void 0:S.click()},disabled:h,className:"br-button",type:"button",children:h?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t.jsx("span",{children:"Selecionando..."})]}):"Selecionar Pasta"}),t.jsx("button",{onClick:ke,disabled:ce.length===0,className:"br-button secondary",type:"button",children:"Exportar CSV"}),t.jsx("button",{onClick:fe,className:"br-button danger",type:"button",title:"Limpar completamente cache e recarregar",children:" Reset Completo"})]})]}),h&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Selecionando pasta..."}),t.jsxs("span",{className:"text-sm text-blue-600",children:[Math.round(f),"%"]})]}),t.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${f}%`}})}),t.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Extraindo caminhos dos arquivos e salvando no banco de dados..."})]}),t.jsx("div",{className:"br-card",children:ce.length===0?t.jsx("div",{className:"empty-state",children:t.jsx("p",{className:"text-center",children:v?"Nenhum arquivo encontrado para os termos de busca.":"Selecione uma pasta para comear."})}):t.jsx("div",{className:"path-items",children:ce.map(S=>t.jsxs("div",{className:`path-item ${T.has(S.id)?"selected":""}`,children:[t.jsxs("div",{className:"path-item-header",children:[t.jsx("div",{className:"path-checkbox",children:t.jsx("input",{type:"checkbox",checked:T.has(S.id),onChange:()=>me(S.id),className:"br-checkbox"})}),t.jsxs("div",{className:"path-content",children:[t.jsx("code",{className:"path-text",children:S.fullPath}),t.jsxs("div",{className:"path-meta",children:[t.jsx("span",{className:"path-filename",children:S.fileName}),t.jsx("span",{className:"path-size",children:S.fileSize?q(S.fileSize):""}),t.jsxs("span",{className:"path-extension",children:[".",S.fileExtension]})]})]})]}),t.jsxs("div",{className:"path-actions",children:[t.jsx("button",{onClick:()=>Re(S.fullPath),className:"br-button circle small",type:"button",title:"Copiar caminho",children:t.jsx("svg",{className:"br-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),t.jsx("button",{onClick:()=>oe(S.id),className:"br-button circle small danger",type:"button",title:"Remover arquivo",children:t.jsx("svg",{className:"br-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},S.id))})}),i.length>0&&t.jsx("div",{className:"path-list-footer",children:t.jsxs("p",{className:"text-center text-regular",children:["Mostrando ",ce.length," de ",i.length," arquivos"]})})]})},Yo=()=>{const[e,s]=y.useState(0),a=o=>{ls.success(`${o.length} caminho(s) extrado(s) com sucesso!`)},r=o=>{ls.error(`Erro: ${o}`)},n=()=>{s(o=>o+1)};return t.jsx("div",{className:"code-upload-page",children:t.jsx("div",{className:"path-list-section",children:t.jsx(Qo,{autoRefresh:!0,onFolderSelect:a,onError:r,onSelectionComplete:n},e)})})};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),da=(...e)=>e.filter((s,a,r)=>!!s&&r.indexOf(s)===a).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ei={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=y.forwardRef(({color:e="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:n="",children:o,iconNode:i,...l},c)=>y.createElement("svg",{ref:c,...ei,width:s,height:s,stroke:e,strokeWidth:r?Number(a)*24/Number(s):a,className:da("lucide",n),...l},[...i.map(([d,u])=>y.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=(e,s)=>{const a=y.forwardRef(({className:r,...n},o)=>y.createElement(ti,{ref:o,iconNode:s,className:da(`lucide-${Zo(e)}`,r),...n}));return a.displayName=`${e}`,a};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=Y("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=Y("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=Y("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=Y("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Y("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=Y("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=Y("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Y("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=Y("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Y("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=Y("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=Y("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=Y("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=Y("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=Y("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Y("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=Y("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=Y("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=Y("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Y("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=Y("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Y("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Y("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Y("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Y("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ne="http://localhost:8000/api/v1",Ce={async getCriteria(){const{token:e,isAuthenticated:s}=Te.getState();console.log(" SERVICE DEBUG: getCriteria called"),console.log(" SERVICE DEBUG: Token:",e?"exists":"none"),console.log(" SERVICE DEBUG: isAuthenticated:",s);const a=localStorage.getItem("auth-storage");console.log(" SERVICE DEBUG: Stored auth:",a);try{console.log(" SERVICE DEBUG: Trying public criteria endpoint...");const r=await fetch(`${Ne}/general-analysis/criteria-working`,{headers:{"Content-Type":"application/json"}});if(r.ok){const n=await r.json();return console.log(" SERVICE DEBUG: Got criteria from public endpoint:",n.length),localStorage.setItem("criteria-storage",JSON.stringify(n)),n}else console.log(" SERVICE DEBUG: Public endpoint failed with status:",r.status)}catch(r){console.log(" SERVICE DEBUG: Public endpoint error:",r)}if(!e||!s){console.log(" SERVICE DEBUG: Using localStorage for criteria");const r=localStorage.getItem("criteria-storage");if(console.log(" SERVICE DEBUG: Stored criteria from localStorage:",r),r)try{const o=JSON.parse(r);return console.log(" SERVICE DEBUG: Parsed criteria:",o),console.log(" SERVICE DEBUG: Returning criteria with length:",o.length),o}catch(o){console.error("Failed to parse stored criteria:",o)}console.log(" SERVICE DEBUG: No stored criteria found, calling API directly");try{console.log(" SERVICE DEBUG: Making forced API call to public endpoint...");const o=await fetch(`${Ne}/general-analysis/criteria-working`,{headers:{"Content-Type":"application/json"}});if(o.ok){const i=await o.json();return console.log(" SERVICE DEBUG: Got criteria from forced API call:",i.length),localStorage.setItem("criteria-storage",JSON.stringify(i)),i}}catch(o){console.error(" SERVICE DEBUG: Forced API call failed:",o)}console.log(" SERVICE DEBUG: API failed completely, using emergency fallback criteria");const n=[{id:"criteria_66",text:"Princpios SOLID: Analisar a aplicao de princpios de design consolidados, como a Responsabilidade nica - SRP (evitando componentes que acumulam funes dspares) como controllers com mltiplos endpoints e a Inverso de Dependncia (favorecendo o uso de mecanismos de injeo de dependncia em vez da instanciao manual de componentes) como a instanciao manual de dependncias em vez de usar a injeo padro do NestJS",active:!0,order:1},{id:"criteria_67",text:"Acoplamento a Frameworks: Detectar o uso de funcionalidades que acoplam o cdigo a implementaes especficas do framework (ex: uso de @Res() do Express no NestJS), o que dificulta a manuteno e a aplicao de interceptors e pipes globais.",active:!0,order:2},{id:"criteria_68",text:"Violao de Camadas: Identificar se a lgica de negcio est incorretamente localizada em camadas de interface (como controladores de API), em vez de residir em camadas de servio ou domnio dedicadas.",active:!0,order:3},{id:"criteria_69",text:"Presso sobre a Memria: Analisar rotinas e laos que criam um volume excessivo de objetos de curta durao, pressionando o coletor de lixo (Garbage Collector) e causando pausas desnecessrias na aplicao. Avaliar se objetos poderiam ser reutilizados para otimizar o uso da memria.",active:!0,order:4},{id:"criteria_70",text:"Ciclo de Vida de Recursos Externos: Verificar se recursos externos, como arquivos temporrios ou conexes de rede, so liberados de forma determinstica em todos os fluxos de execuo (sucesso, erro e finalizao), evitando vazamentos de recursos.",active:!0,order:5},{id:"criteria_71",text:"Operaes de I/O Bloqueantes ou Inseguras: Inspecionar chamadas de rede e outras operaes de entrada/sada para garantir a configurao de tempos limite (timeouts) e limites de tamanho de payload, prevenindo que a aplicao fique bloqueada ou vulnervel a sobrecargas.",active:!0,order:6},{id:"criteria_72",text:"Manuseio de Dados em Larga Escala: Detectar o carregamento de grandes volumes de dados (como arquivos ou resultados de consultas) diretamente para a memria. Recomendar a utilizao de padres como streaming para processamento de dados em partes (chunks).",active:!0,order:7},{id:"criteria_73",text:'Condies de Corrida em Persistncia: Identificar padres de "leitura-seguida-de-escrita" em operaes de banco de dados que podem introduzir inconsistncias de dados devido  concorrncia, sugerindo o uso de transaes ou operaes atmicas.',active:!0,order:8},{id:"criteria_74",text:"Validao de Entradas: Verificar se os pontos de entrada da aplicao que recebem dados, especialmente arquivos, possuem validaes, filtros de tipo e limites de tamanho para mitigar riscos de segurana. Analisar se objetos de transferncia de dados (DTOs) so utilizados com bibliotecas de validao para garantir a integridade e o formato dos dados.",active:!0,order:9},{id:"criteria_75",text:"Acesso a Recursos do Sistema: Inspecionar o cdigo que interage com o sistema de arquivos para identificar o uso de entradas do usurio na construo de caminhos, o que pode levar a vulnerabilidades de acesso indevido a arquivos (Path Traversal).",active:!0,order:10},{id:"criteria_76",text:"Tratamento de Erros: Sinalizar blocos de captura de exceo vazios ou que apenas registram o erro sem um tratamento adequado, pois eles podem ocultar falhas crticas de segurana ou de lgica de negcio.",active:!0,order:11},{id:"criteria_77",text:"Consistncia de Contratos de API: Analisar as sadas da aplicao para detectar rotas que retornam tipos de dados inconsistentes dependendo do fluxo de execuo, o que viola o contrato da API e pode causar falhas em sistemas clientes.",active:!0,order:12}];return localStorage.setItem("criteria-storage",JSON.stringify(n)),console.log(" SERVICE DEBUG: Saved emergency criteria with all 12 items"),n}try{const r=await fetch(`${Ne}/general-analysis/criteria`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok){const n=await r.text();return console.error("Get criteria failed:",r.status,n),console.log("Falling back to empty array"),[]}return r.json()}catch(r){return console.error("Get criteria error:",r),[]}},async createCriterion(e){const{token:s,isAuthenticated:a}=Te.getState();if(console.log("Token in createCriterion:",s?"exists":"none"),console.log("isAuthenticated:",a),!s||!a){const n=localStorage.getItem("criteria-storage"),o=n?JSON.parse(n):[],l=(o.length>0?Math.max(...o.map(u=>u.order||0)):0)+1,c={id:Date.now(),text:e,active:!0,order:l},d=[...o,c];return localStorage.setItem("criteria-storage",JSON.stringify(d)),console.log("Saved new criterion to localStorage with order:",l),c}const r=await fetch(`${Ne}/general-analysis/criteria`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({text:e})});if(!r.ok){const n=await r.text();console.error("Create criterion failed:",r.status,n),console.log("Falling back to localStorage");const o=localStorage.getItem("criteria-storage"),i=o?JSON.parse(o):[],c=(i.length>0?Math.max(...i.map(m=>m.order||0)):0)+1,d={id:Date.now(),text:e,active:!0,order:c},u=[...i,d];return localStorage.setItem("criteria-storage",JSON.stringify(u)),console.log("Created new criterion in localStorage fallback with order:",c),d}return r.json()},async updateCriterion(e,s){const{token:a,isAuthenticated:r}=Te.getState();console.log(" SERVICE DEBUG: updateCriterion called with id:",e,"text:",s),console.log(" SERVICE DEBUG: Token value:",a),console.log(" SERVICE DEBUG: Token type:",typeof a),console.log(" SERVICE DEBUG: isAuthenticated:",r);const n=localStorage.getItem("auth-storage");if(console.log(" SERVICE DEBUG: Stored auth:",n),!a||!r){console.log(" SERVICE DEBUG: No valid token found, using localStorage"),console.log(" SERVICE DEBUG: About to read criteria-storage...");const i=localStorage.getItem("criteria-storage");console.log(" SERVICE DEBUG: Stored criteria:",i),i||(console.log(" SERVICE DEBUG: No stored criteria found, creating empty array"),localStorage.setItem("criteria-storage",JSON.stringify([])));const l=i?JSON.parse(i):[];console.log(" SERVICE DEBUG: Parsed current criteria:",l),console.log(" SERVICE DEBUG: Current criteria length:",l.length);const c=l.map(u=>(console.log(` SERVICE DEBUG: Checking criterion ${u.id} against ${e}`),u.id===e?{...u,text:s}:u));console.log(" SERVICE DEBUG: Updated criteria:",c),localStorage.setItem("criteria-storage",JSON.stringify(c)),console.log(" SERVICE DEBUG: Saved to localStorage successfully");const d=localStorage.getItem("criteria-storage");return console.log(" SERVICE DEBUG: Verification - saved criteria:",d),{id:e,text:s,active:!0,order:1}}const o=await fetch(`${Ne}/general-analysis/criteria/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({text:s})});if(!o.ok){const i=await o.text();return console.error("Update criterion failed:",o.status,i),console.log("Falling back to mock response"),{id:e,text:s,active:!0,order:1}}return o.json()},async deleteCriterion(e){const{token:s}=Te.getState();let a=e;if(typeof e=="string"&&e.startsWith("criteria_")&&(a=parseInt(e.replace("criteria_",""),10)),!s){console.log("No auth token found, deleting from localStorage"),console.log("Deleting criterion with ID:",e,"numeric ID:",a);const r=localStorage.getItem("criteria-storage"),n=r?JSON.parse(r):[];console.log("Current criteria in localStorage:",n.length);const o=n.filter(i=>{let l=i.id;typeof i.id=="string"&&i.id.startsWith("criteria_")&&(l=parseInt(i.id.replace("criteria_",""),10));const c=l!==a;return c||console.log("Removing criterion:",i),c});localStorage.setItem("criteria-storage",JSON.stringify(o)),console.log("Deleted criterion from localStorage. Remaining criteria:",o.length);return}try{const r=`criteria_${a}`;if((await fetch(`${Ne}/general-analysis/criteria/${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).ok){console.log("Criterion deleted successfully using DELETE method");return}if((await fetch(`${Ne}/general-analysis/criteria/${r}/delete`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).ok){console.log("Criterion deleted successfully using POST method");return}if((await fetch(`${Ne}/general-analysis/criteria/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).ok){console.log("Criterion deleted successfully using fallback numeric ID");return}if((await fetch(`${Ne}/general-analysis/criteria/${a}/delete`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).ok){console.log("Criterion deleted successfully using fallback POST with numeric ID");return}throw console.error("All deletion methods failed"),new Error("Failed to delete criterion: All methods failed")}catch(r){throw console.error("Delete criterion error:",r),r}},async toggleCriterion(e,s){const{token:a,isAuthenticated:r}=Te.getState();if(!a||!r){const o=localStorage.getItem("criteria-storage"),i=o?JSON.parse(o):[],l=i.map(c=>c.id===e?{...c,active:s}:c);return localStorage.setItem("criteria-storage",JSON.stringify(l)),console.log("Toggled criterion active status in localStorage"),i.find(c=>c.id===e)}const n=await fetch(`${Ne}/general-analysis/criteria/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({active:s})});if(!n.ok){const o=await n.text();console.error("Toggle criterion failed:",n.status,o);const i=localStorage.getItem("criteria-storage");return(i?JSON.parse(i):[]).find(c=>c.id===e)||{id:e,active:s,text:""}}return n.json()}},li=({onCriteriaSelect:e,onAnalyzeCriterion:s,onAnalyzeSelected:a,onCriteriaChange:r})=>{const[n,o]=y.useState([]),[i,l]=y.useState(!1),[c,d]=y.useState(null),[u,m]=y.useState(""),[v,N]=y.useState(new Set);y.useEffect(()=>{console.log(" DEBUG: Criteria state changed:",n)},[n]);const h=[...n].sort((A,I)=>(A.order||0)-(I.order||0)).map((A,I)=>({...A,displayOrder:I+1}));y.useEffect(()=>{g()},[]);const g=async()=>{l(!0);try{console.log(" DEBUG: Loading criteria...");const A=await Ce.getCriteria();console.log(" DEBUG: Data received from service:",A),console.log(" DEBUG: About to setCriteria with data length:",A.length),o(A),console.log(" DEBUG: setCriteria called, current criteria state length:",n.length),console.log(" DEBUG: State updated with",A.length,"criteria")}catch(A){console.error(" DEBUG: Failed to load criteria:",A)}finally{l(!1)}},f=async()=>{try{const A=await Ce.createCriterion("Novo critrio de avaliao");o([...n,A]),d(A.id),m(A.text),r&&r()}catch(A){console.error("Failed to create criterion:",A)}},E=async(A,I)=>{try{if(console.log(" DEBUG: updateCriterion called with:",A,I),I.text){console.log(" DEBUG: Calling criteriaService.updateCriterion..."),await Ce.updateCriterion(A,I.text),console.log(" DEBUG: Service update completed");const J=n.map(le=>le.id===A?{...le,text:I.text||""}:le);console.log(" DEBUG: Updating state directly with:",J),o(J),console.log(" DEBUG: Reloading criteria for consistency..."),await g(),console.log(" DEBUG: Criteria reloaded"),r&&r()}}catch(J){console.error(" DEBUG: Failed to update criterion:",J)}},w=async A=>{try{await Ce.deleteCriterion(A),await g(),c===A&&d(null),r&&r()}catch(I){console.error("Failed to delete criterion:",I)}},R=A=>{d(A.id),m(A.text)},_=async()=>{if(console.log(" DEBUG: saveEdit called"),console.log(" DEBUG: editingCriterion:",c),console.log(" DEBUG: editingText:",u),c&&u.trim()){console.log(" DEBUG: Starting save edit..."),console.log(" DEBUG: Editing criterion:",c),console.log(" DEBUG: New text:",u.trim());try{console.log(" DEBUG: About to call updateCriterion..."),await E(c,{text:u.trim()}),console.log(" DEBUG: Update completed successfully"),d(null),m(""),console.log(" DEBUG: Edit mode closed")}catch(A){console.error(" DEBUG: Error in saveEdit:",A),console.error(" DEBUG: Error details:",JSON.stringify(A,null,2))}}else console.log(" DEBUG: Invalid input for save edit"),console.log(" DEBUG: editingCriterion is null/empty:",!c),console.log(" DEBUG: editingText is empty:",!u.trim())},U=()=>{d(null),m("")},se=async A=>{const I=n.find(J=>J.id===A);if(I)try{await Ce.toggleCriterion(A,!I.active),await g(),r&&r()}catch(J){console.error("Failed to toggle criterion:",J)}},x=A=>{s&&s(A)},j=A=>{const I=new Set(v);I.has(A)?I.delete(A):I.add(A),N(I),Array.from(I).map(J=>`criteria_${J}`),e(Array.from(I))},T=()=>{const A=h.map(J=>J.id);v.size===h.length?N(new Set):(N(new Set(A)),h.forEach(J=>{J.active||se(J.id)}));const I=v.size===h.length?[]:A;e(I)},$=()=>h.length>0&&v.size===h.length,q=()=>{if(console.log(" DEBUG: handleAnalyzeSelected called"),console.log(" DEBUG: selectedCriteria.size:",v.size),console.log(" DEBUG: onAnalyzeSelected exists:",!!a),a&&v.size>0){const A=h.filter(I=>v.has(I.id)).map(I=>I.id).map(I=>`criteria_${I}`);console.log(" DEBUG: selectedIds:",A),console.log(" DEBUG: Calling onAnalyzeSelected..."),a(A),console.log(" DEBUG: onAnalyzeSelected called successfully")}else console.log(" DEBUG: Cannot call onAnalyzeSelected - missing criteria or callback"),a||console.log(" DEBUG: onAnalyzeSelected is undefined"),v.size===0&&console.log(" DEBUG: No criteria selected")};return t.jsxs("div",{className:"br-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"row align-items-center",children:[t.jsxs("div",{className:"br-col",children:[t.jsx("h2",{className:"text-h2",children:"Critrios de Avaliao"}),t.jsx("p",{className:"text-regular text-muted",children:"Configure os critrios que sero usados para anlise do cdigo-fonte"})]}),t.jsx("div",{className:"br-col-auto",children:t.jsxs("div",{className:"btn-group",children:[t.jsxs("button",{onClick:T,disabled:i||h.length===0,className:"br-button secondary",children:[$()?t.jsx(ni,{className:"w-4 h-4 mr-2"}):t.jsx(oi,{className:"w-4 h-4 mr-2"}),"Selecionar Todos"]}),t.jsxs("button",{onClick:q,disabled:i||v.size===0,className:"br-button primary",children:[t.jsx(As,{className:"w-4 h-4 mr-2"}),"Analisar Selecionados (",v.size,")"]}),t.jsxs("button",{onClick:f,disabled:i,className:"br-button primary",children:[i?t.jsx(Ge,{className:"w-4 h-4 animate-spin mr-2"}):t.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Novo Critrio"]})]})})]})}),t.jsx("div",{className:"card-content",children:i?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Ge,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-gray-400"}),t.jsx("p",{className:"text-gray-500",children:"Carregando critrios..."})]}):t.jsxs("div",{className:"space-y-4",children:[h.map(A=>t.jsx("div",{className:`br-item ${A.active?"is-active":""} ${c===A.id?"ring-2 ring-blue-400":""}`,children:t.jsxs("div",{className:"row align-items-start",children:[t.jsx("div",{style:{width:"35px",backgroundColor:"#e9ecef",borderRight:"2px solid #adb5bd",padding:"8px 4px",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"40px"},children:t.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"#495057"},children:A.displayOrder})}),t.jsx("div",{className:"br-col-auto",children:t.jsxs("div",{className:"br-checkbox",children:[t.jsx("input",{type:"checkbox",id:`criterion-${A.id}`,checked:v.has(A.id),onChange:()=>{j(A.id),A.active||se(A.id)},disabled:i}),t.jsx("label",{htmlFor:`criterion-${A.id}`,className:"br-checkbox-label"})]})}),t.jsx("div",{className:"br-col",style:{maxWidth:"none",flex:"1 1 0%"},children:c===A.id?t.jsxs("div",{className:"space-y-3",children:[t.jsx("textarea",{value:u,onChange:I=>m(I.target.value),className:"br-textarea",rows:3,placeholder:"Digite o critrio de avaliao...",style:{width:"100%",minWidth:"800px"}}),t.jsxs("div",{className:"btn-group",children:[t.jsxs("button",{onClick:_,disabled:i,className:"br-button success",children:[i?t.jsx(Ge,{className:"w-4 h-4 animate-spin mr-2"}):t.jsx(pa,{className:"w-4 h-4 mr-2"}),"Salvar"]}),t.jsxs("button",{onClick:U,className:"br-button secondary",children:[t.jsx(ba,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]}):t.jsx("div",{children:t.jsx("p",{className:"text-regular",children:A.text})})}),c!==A.id&&t.jsx("div",{className:"br-col-auto",children:t.jsxs("div",{className:"btn-group",children:[t.jsx("button",{onClick:()=>R(A),disabled:i,className:"br-button circle",title:"Editar critrio",children:t.jsx(ri,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>w(A.id),disabled:i,className:"br-button circle",title:"Excluir critrio",children:t.jsx(ga,{className:"w-4 h-4"})}),s&&t.jsx("button",{onClick:()=>x(A),disabled:i||!A.active,className:`br-button circle ${A.active?"primary":"secondary"}`,title:"Analisar critrio",children:t.jsx(As,{className:"w-4 h-4"})})]})})]})},A.id)),h.length===0&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx("p",{className:"text-regular text-muted mb-4",children:"Nenhum critrio configurado ainda."}),t.jsxs("button",{onClick:f,disabled:i,className:"br-button primary mx-auto",children:[i?t.jsx(Ge,{className:"w-4 h-4 animate-spin mr-2"}):t.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Adicionar Primeiro Critrio"]})]})]})})]})},ci=({progress:e,status:s,message:a,onCancel:r})=>{const n=()=>{switch(s){case"processing":return t.jsx(Ge,{className:"w-6 h-6 animate-spin text-blue-600"});case"completed":return t.jsx(Be,{className:"w-6 h-6 text-green-600"});case"failed":return t.jsx(st,{className:"w-6 h-6 text-red-600"});case"cancelled":return t.jsx(st,{className:"w-6 h-6 text-gray-600"});default:return t.jsx(Ve,{className:"w-6 h-6 text-gray-400"})}},o=()=>{switch(s){case"pending":return"Aguardando incio da anlise...";case"processing":return a||`Processando anlise... ${e}%`;case"completed":return"Anlise concluda com sucesso!";case"failed":return"Falha na anlise";case"cancelled":return"Anlise cancelada";default:return a||"Preparando anlise..."}},i=()=>{switch(s){case"processing":return"bg-blue-600";case"completed":return"bg-green-600";case"failed":return"bg-red-600";case"cancelled":return"bg-gray-600";default:return"bg-gray-300"}},l=[{id:"preparing",name:"Preparao",description:"Preparando arquivos e configurao",icon:t.jsx(Ve,{className:"w-4 h-4"}),completed:e>=10,active:e>0&&e<30},{id:"processing",name:"Processamento",description:"Otimizando contedo para anlise",icon:t.jsx(Ve,{className:"w-4 h-4"}),completed:e>=30,active:e>=20&&e<50},{id:"analyzing",name:"Anlise IA",description:"Executando anlise com inteligncia artificial",icon:t.jsx(Ve,{className:"w-4 h-4"}),completed:e>=50,active:e>=40&&e<80},{id:"finalizing",name:"Finalizao",description:"Processando resultados e gerando relatrio",icon:t.jsx(Ve,{className:"w-4 h-4"}),completed:e>=80,active:e>=70&&e<100}];return t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Status da Anlise"}),s==="processing"&&t.jsxs("button",{onClick:r,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors flex items-center gap-2",children:[t.jsx(st,{className:"w-4 h-4"}),"Cancelar"]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[n(),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:o()})]}),t.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e,"%"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${i()}`,style:{width:`${e}%`}})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Etapas da Anlise"}),t.jsx("div",{className:"space-y-3",children:l.map((c,d)=>t.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg transition-all ${c.active?"bg-blue-50 border border-blue-200":c.completed?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"}`,children:[t.jsx("div",{className:"flex-shrink-0",children:c.completed?t.jsx(Be,{className:"w-5 h-5 text-green-600"}):c.active?t.jsx(Ge,{className:"w-5 h-5 animate-spin text-blue-600"}):t.jsx(Ve,{className:"w-5 h-5 text-gray-400"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-sm font-medium ${c.active?"text-blue-800":c.completed?"text-green-800":"text-gray-600"}`,children:c.name}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:c.description})]}),c.completed&&t.jsx(Be,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]},c.id))})]}),s==="processing"&&t.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"Importante:"})," Esta anlise pode levar alguns minutos dependendo do tamanho do cdigo e da complexidade dos critrios avaliados."]})})]})},di=({code:e,language:s,fileName:a,lineNumbers:r})=>{const n=l=>{switch(l.toLowerCase()){case"python":return"language-python";case"javascript":case"js":return"language-javascript";case"typescript":case"ts":return"language-typescript";case"java":return"language-java";case"cpp":case"c++":return"language-cpp";case"c":return"language-c";case"html":return"language-html";case"css":return"language-css";case"sql":return"language-sql";case"json":return"language-json";case"xml":return"language-xml";case"yaml":case"yml":return"language-yaml";default:return"language-plaintext"}},i=r?((l,c,d)=>{if(!c||!d)return l;const u=l.split(`
`),m=[],v=[];for(let N=0;N<u.length;N++){const h=c+N;m.push(h),v.push(u[N])}return{formattedLines:v,lineNumbers:m}})(e,r[0],r[1]):{formattedLines:e.split(`
`),lineNumbers:null};return t.jsxs("div",{className:"relative",children:[(a||s)&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 text-gray-200 text-sm rounded-t-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[a&&t.jsx("span",{className:"font-medium",children:a}),t.jsx("span",{className:"text-gray-400",children:s.toUpperCase()})]}),r&&t.jsxs("span",{className:"text-xs text-gray-400",children:["Linhas ",r[0],"-",r[1]]})]}),t.jsx("div",{className:`bg-gray-900 rounded-lg ${!a&&!s?"rounded-t-lg":"rounded-t-none"}`,children:t.jsx("pre",{className:"overflow-x-auto p-4 text-sm",children:t.jsx("code",{className:n(s),children:i.formattedLines.map((l,c)=>t.jsxs("div",{className:"flex",children:[i.lineNumbers&&t.jsx("span",{className:"text-gray-500 text-right pr-4 select-none min-w-[50px]",children:i.lineNumbers[c]}),t.jsx("span",{className:"text-gray-300",children:l||" "})]},c))})})})]})},ui=({results:e,onDownloadDocx:s,onDeleteResults:a})=>{const[r,n]=y.useState(new Set),[o,i]=y.useState(new Set),[l,c]=y.useState(!1),[d,u]=y.useState({}),[m,v]=y.useState([]);console.log(" ResultsTable renderizado com:",e.length,"resultados"),console.log(" IDs dos resultados:",e.map(x=>({id:x.id,criterion:x.criterion.substring(0,50)+"..."}))),console.log(" Resultados com IDs vlidos:",e.filter(x=>x.id!==void 0&&!isNaN(x.id)).length,"de",e.length),console.log(" Resultados com IDs invlidos:",e.filter(x=>x.id===void 0||isNaN(x.id)).length,"de",e.length),y.useEffect(()=>{(async()=>{try{const j=await Ce.getCriteria();v(j);const T={};j.forEach($=>{const q=$.text.split(":")[0];T[q]=$.text,T[$.text]=$.text}),u(T),console.log(" Critrios carregados:",j.length,"mapeamento criado")}catch(j){console.error("Erro ao carregar critrios:",j)}})()},[]);const N=x=>{if(x.includes(":")||x.length>50)return x;if(d[x])return d[x];const j=m.find(T=>T.text.includes(x)||x.includes(T.text.split(":")[0]));return j?j.text:x},h=[...e].sort((x,j)=>(x.order||0)-(j.order||0)).map((x,j)=>({...x,id:x.id||Date.now()+j,displayOrder:j+1})),g=x=>{const j=new Set(r);j.has(x)?j.delete(x):j.add(x),n(j)},f=x=>{console.log(" handleSelectResult chamado com resultId:",x),console.log(" selectedResults antes:",Array.from(o));const j=new Set(o);j.has(x)?(j.delete(x),console.log(" Removendo resultId da seleo")):(j.add(x),console.log(" Adicionando resultId  seleo")),console.log(" selectedResults depois:",Array.from(j)),i(j),c(j.size>0)},E=()=>{const x=h.map(j=>j.id);o.size===x.length?(i(new Set),c(!1)):(i(new Set(x)),c(!0))},w=()=>{o.size>0&&a&&(a(Array.from(o)),i(new Set),c(!1))},R=x=>{switch(x){case"compliant":return t.jsx(Be,{className:"w-4 h-4 text-success"});case"partially_compliant":return t.jsx(as,{className:"w-4 h-4 text-warning"});case"non_compliant":return t.jsx(st,{className:"w-4 h-4 text-danger"});default:return t.jsx(Cs,{className:"w-4 h-4 text-muted"})}},_=x=>{switch(x){case"compliant":return"Conforme";case"partially_compliant":return"Parcialmente Conforme";case"non_compliant":return"No Conforme";default:return"No Avaliado"}},U=x=>{switch(x){case"compliant":return"success";case"partially_compliant":return"warning";case"non_compliant":return"danger";default:return"secondary"}},se=x=>x.split(`

`).map((j,T)=>t.jsx("div",{className:"mb-3 last:mb-0",children:j.split(`
`).map(($,q)=>{var A;if($.trim().startsWith("#")){const I=((A=$.trim().match(/^#+/))==null?void 0:A[0].length)||1,J=$.trim().replace(/^#+\s*/,""),le=`h${Math.min(I+2,6)}`;return t.jsx(le,{className:`mt-4 mb-2 text-h${Math.min(I+2,6)}`,children:J},`${T}-${q}`)}if($.trim().startsWith("-")||$.trim().startsWith("*")){const I=$.trim().replace(/^[-*]\s*/,"");return t.jsxs("div",{className:"d-flex align-items-start mb-1 ms-3",children:[t.jsx("div",{className:"w-2 h-2 bg-primary rounded-circle mt-2 flex-shrink-0 me-2"}),t.jsx("span",{className:"text-regular",children:I})]},`${T}-${q}`)}return t.jsx("p",{className:"mb-2 last:mb-0",children:$},`${T}-${q}`)})},T));return e.length===0?t.jsx("div",{className:"br-card text-center",children:t.jsxs("div",{className:"card-content",children:[t.jsx(Cs,{className:"w-12 h-12 text-muted mx-auto mb-4"}),t.jsx("h3",{className:"text-h3 text-muted mb-2",children:"Nenhum resultado disponvel"}),t.jsx("p",{className:"text-regular text-muted",children:"Aguarde a concluso da anlise ou inicie uma nova anlise."})]})}):t.jsxs("div",{className:"br-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"row align-items-center",children:[t.jsxs("div",{className:"br-col",children:[t.jsx("h2",{className:"text-h2",children:"Resultados da Anlise"}),t.jsx("p",{className:"text-regular text-muted",children:e.length>0?`Anlise concluda com ${e.length} critrios avaliados`:"Nenhuma anlise concluda ainda"})]}),t.jsx("div",{className:"br-col-auto",children:t.jsxs("div",{className:"d-flex gap-2",children:[l&&t.jsxs("button",{onClick:w,className:"br-button danger",title:`Excluir ${o.size} resultado(s) selecionado(s)`,children:[t.jsx(ga,{className:"w-4 h-4 mr-2"}),"Excluir (",o.size,")"]}),e.length>0&&t.jsxs("button",{onClick:s,className:"br-button secondary",title:"Baixar relatrio em formato DOCX editvel",children:[t.jsx(rt,{className:"w-4 h-4 mr-2"}),"Baixar Relatrio (DOCX)"]})]})})]})}),t.jsx("div",{className:"card-content p-0",children:t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table table-hover",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-center",style:{width:"50px"},children:t.jsx("input",{type:"checkbox",className:"form-check-input",checked:e.length>0&&o.size===h.length,onChange:E,disabled:e.length===0,title:"Selecionar todos"})}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Critrio"}),t.jsx("th",{children:"Avaliao"})]})}),t.jsx("tbody",{children:h.map(x=>t.jsxs(Ie.Fragment,{children:[t.jsxs("tr",{style:{borderBottom:"1px solid #e9ecef"},children:[t.jsx("td",{className:"text-center align-middle",style:{width:"60px",backgroundColor:"#f8f9fa",borderRight:"3px solid #dee2e6",verticalAlign:"middle",padding:"16px 8px",borderBottom:"1px solid #e9ecef"},children:t.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[t.jsx("input",{type:"checkbox",className:"form-check-input me-2",checked:x.id?o.has(x.id):!1,onChange:()=>{console.log(" Checkbox clicado para resultado:",x.criterion.substring(0,30)+"...","ID:",x.id),x.id?f(x.id):console.log(" ID invlido, no pode selecionar")},disabled:!x.id,title:x.id?"Selecionar resultado":"ID invlido - no pode selecionar"}),t.jsx("span",{className:"text-regular fw-bold text-dark",children:x.displayOrder})]})}),t.jsx("td",{className:"align-middle",style:{borderRight:"1px solid #e9ecef",padding:"16px 12px",borderBottom:"1px solid #e9ecef"},children:t.jsxs("div",{className:"d-flex align-items-center gap-2",children:[R(x.status),t.jsx("span",{className:`badge bg-${U(x.status)}`,children:_(x.status)})]})}),t.jsx("td",{className:"align-middle",style:{width:"35%",borderRight:"1px solid #e9ecef",padding:"16px 12px",borderBottom:"1px solid #e9ecef"},children:t.jsxs("div",{children:[t.jsx("div",{className:"text-regular fw-medium",children:N(x.criterion)}),t.jsxs("div",{className:"text-small text-muted mt-1",children:["Confiana: ",Math.round(x.confidence*100),"%"]})]})}),t.jsx("td",{className:"align-middle",style:{width:"55%",borderRight:"1px solid #e9ecef",padding:"16px 12px",borderBottom:"1px solid #e9ecef"},children:t.jsx("div",{className:"text-regular text-truncate",style:{maxWidth:"none"},children:x.assessment.length>100?t.jsxs(t.Fragment,{children:[x.assessment.substring(0,100),"...",t.jsx("button",{onClick:()=>g(x.criterion),className:"btn btn-link p-0 ms-1 text-primary",children:"Ver mais"})]}):x.assessment})})]}),r.has(x.criterion)&&t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"p-0",children:t.jsx("div",{className:"br-item-expanded",children:t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"d-flex align-items-center justify-content-between mb-3",children:t.jsx("h4",{className:"text-h4",children:"Avaliao"})}),t.jsx("div",{className:"br-card",children:t.jsx("div",{className:"card-content p-0",children:t.jsx("div",{className:"p-4 text-regular",style:{maxHeight:"600px",overflowY:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word"},children:se(x.assessment)})})})]}),x.evidence.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-h4 mb-3",children:"Evidncias"}),t.jsx("div",{className:"space-y-3",children:x.evidence.map((j,T)=>t.jsxs("div",{className:"br-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[t.jsxs("span",{className:"text-regular fw-medium",children:[j.filePath,j.lineNumbers&&t.jsxs("span",{className:"text-small text-muted ms-2",children:["(Linhas ",j.lineNumbers[0],"-",j.lineNumbers[1],")"]})]}),t.jsx(ai,{className:"w-4 h-4 text-muted"})]})}),t.jsx("div",{className:"card-content p-0",children:t.jsx("div",{className:"p-3",children:t.jsx(di,{code:j.code,language:j.language})})})]},T))})]}),x.recommendations.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-h4 mb-3",children:"Recomendaes"}),t.jsx("ul",{className:"list-unstyled",children:x.recommendations.map((j,T)=>t.jsxs("li",{className:"d-flex align-items-start gap-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-primary rounded-circle mt-2 flex-shrink-0"}),t.jsx("span",{className:"text-regular",children:j})]},T))})]})]})})})})]},x.criterion))})]})})})]})},be={create:async e=>(await Z.post("/analysis",e)).data,getById:async e=>(await Z.get(`/analysis/${e}`)).data,getResults:async e=>(await Z.get(`/analysis/${e}/results`)).data,getSummary:async e=>(await Z.get(`/analysis/${e}/summary`)).data,cancel:async e=>{await Z.post(`/analysis/${e}/cancel`)},retry:async e=>(await Z.post(`/analysis/${e}/retry`)).data,exportResults:async(e,s)=>(await Z.get(`/analysis/${e}/export`,{params:{format:s},responseType:"blob"})).data,analyzeSelectedCriteria:async e=>{try{return(await Z.post("/general-analysis/analyze-selected",e)).data}catch(s){throw console.error("Error analyzing selected criteria:",s),s}},getAnalysisResults:async()=>{try{return(await Z.get("/general-analysis/results")).data}catch(e){return console.error("Error fetching analysis results:",e),{success:!0,results:[],total:0}}},deleteAnalysisResult:async e=>{try{return(await Z.delete(`/general-analysis/results/${e}`)).data}catch(s){throw console.error("Error deleting analysis result:",s),s}},deleteMultipleAnalysisResults:async e=>{try{return(await Z.delete("/general-analysis/results",{data:{result_ids:e}})).data}catch(s){throw console.error("Error deleting multiple analysis results:",s),s}},deleteAllAnalysisResults:async()=>{try{return(await Z.delete("/general-analysis/results/all")).data}catch(e){throw console.error("Error deleting all analysis results:",e),e}},getLatestPrompt:async()=>{try{return(await Z.get("/general-analysis/latest-prompt")).data}catch(e){throw console.error("Error getting latest prompt:",e),e}},getLatestResponse:async()=>{try{return(await Z.get("/general-analysis/latest-response")).data}catch(e){throw console.error("Error getting latest response:",e),e}},getLatestRawResponse:async()=>{try{return(await Z.get("/general-analysis/latest-raw-response")).data}catch(e){throw console.error("Error getting latest raw response:",e),e}}},mi=()=>{const[e,s]=y.useState(null),[a,r]=y.useState(!1),[n,o]=y.useState(null),i=async()=>{r(!0),o(null);try{const m=await be.getLatestPrompt();s(m)}catch(m){o(m instanceof Error?m.message:"Erro ao carregar prompt"),console.error("Error loading latest prompt:",m)}finally{r(!1)}};y.useEffect(()=>{i()},[]);const l=m=>m<1024?`${m} B`:m<1024*1024?`${(m/1024).toFixed(1)} KB`:`${(m/(1024*1024)).toFixed(1)} MB`,c=m=>new Date(m*1e3).toLocaleString("pt-BR"),d=m=>m>=1e6?`${(m/1e6).toFixed(1)}M`:m>=1e3?`${(m/1e3).toFixed(1)}K`:m.toString(),u=()=>{if(!(e!=null&&e.prompt_content))return;const m=new Blob([e.prompt_content],{type:"text/plain;charset=utf-8"}),v=URL.createObjectURL(m),N=document.createElement("a");N.href=v,N.download=`prompt_${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.txt`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(v)};return a?t.jsx("div",{className:"br-card",children:t.jsx("div",{className:"card-content",children:t.jsxs("div",{className:"d-flex align-items-center justify-content-center",style:{minHeight:"200px"},children:[t.jsx(We,{className:"animate-spin mr-2"}),t.jsx("span",{children:"Carregando prompt..."})]})})}):n?t.jsx("div",{className:"br-card",children:t.jsx("div",{className:"card-content",children:t.jsxs("div",{className:"d-flex align-items-center text-danger",children:[t.jsx(ze,{className:"mr-2"}),t.jsxs("span",{children:["Erro: ",n]})]})})}):!e||!e.file_exists?t.jsx("div",{className:"br-card",children:t.jsx("div",{className:"card-content",children:t.jsxs("div",{className:"text-center py-5",children:[t.jsx(Ke,{className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),t.jsx("h3",{className:"text-h3 mb-2",children:"Nenhum prompt encontrado"}),t.jsx("p",{className:"text-regular text-muted mb-4",children:"Execute uma anlise primeiro para gerar um prompt."}),t.jsxs("button",{className:"br-button primary",onClick:i,type:"button",children:[t.jsx(We,{className:"mr-1"}),"Atualizar"]})]})})}):t.jsxs("div",{className:"br-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-h2 mb-1",children:"ltimo Prompt Enviado para LLM"}),t.jsxs("div",{className:"d-flex align-items-center text-muted text-small",children:[t.jsx(ua,{className:"mr-1",style:{width:"14px",height:"14px"}}),t.jsx("span",{children:e.modified_time?c(e.modified_time):"Data no disponvel"}),e.file_size&&t.jsxs("span",{className:"ml-3",children:["Tamanho: ",l(e.file_size)]}),e.token_usage&&e.token_usage.prompt_tokens&&t.jsxs("span",{className:"ml-3",children:["Tokens enviados: ",d(e.token_usage.prompt_tokens)]})]})]}),t.jsxs("div",{className:"d-flex gap-2",children:[t.jsx("button",{className:"br-button circle",onClick:i,title:"Atualizar",type:"button",children:t.jsx(We,{})}),t.jsx("button",{className:"br-button circle",onClick:u,title:"Baixar prompt",type:"button",children:t.jsx(rt,{})})]})]})}),t.jsx("div",{className:"card-content",children:t.jsx("div",{className:"br-scrollbar",style:{maxHeight:"600px",overflow:"auto"},children:t.jsx("pre",{className:"prompt-content",style:{fontFamily:'Consolas, Monaco, "Courier New", monospace',fontSize:"14px",lineHeight:"1.5",whiteSpace:"pre-wrap",wordWrap:"break-word",margin:0,padding:"1rem",backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"4px"},children:e.prompt_content})})})]})},hi=()=>{const[e,s]=y.useState(null),[a,r]=y.useState(!1),[n,o]=y.useState(null),i=async()=>{r(!0),o(null);try{const m=await be.getLatestResponse();s(m)}catch(m){o(m instanceof Error?m.message:"Erro ao carregar resposta da LLM"),console.error("Error loading latest response:",m)}finally{r(!1)}};y.useEffect(()=>{i()},[]);const l=m=>m<1024?`${m} B`:m<1024*1024?`${(m/1024).toFixed(1)} KB`:`${(m/(1024*1024)).toFixed(1)} MB`,c=m=>new Date(m*1e3).toLocaleString("pt-BR"),d=m=>m>=1e6?`${(m/1e6).toFixed(1)}M`:m>=1e3?`${(m/1e3).toFixed(1)}K`:m.toString(),u=()=>{if(!(e!=null&&e.response_content))return;const m=new Blob([e.response_content],{type:"text/plain;charset=utf-8"}),v=URL.createObjectURL(m),N=document.createElement("a");N.href=v,N.download=`resposta_llm_${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.txt`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(v)};return a?t.jsx("div",{className:"br-card",children:t.jsx("div",{className:"card-content",children:t.jsxs("div",{className:"d-flex align-items-center justify-content-center",style:{minHeight:"200px"},children:[t.jsx(We,{className:"animate-spin mr-2"}),t.jsx("span",{children:"Carregando resposta da LLM..."})]})})}):n?t.jsx("div",{className:"br-card",children:t.jsx("div",{className:"card-content",children:t.jsxs("div",{className:"d-flex align-items-center text-danger",children:[t.jsx(ze,{className:"mr-2"}),t.jsxs("span",{children:["Erro: ",n]})]})})}):!e||!e.file_exists?t.jsx("div",{className:"br-card",children:t.jsx("div",{className:"card-content",children:t.jsxs("div",{className:"text-center py-5",children:[t.jsx(Ke,{className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),t.jsx("h3",{className:"text-h3 mb-2",children:"Nenhuma resposta da LLM encontrada"}),t.jsx("p",{className:"text-regular text-muted mb-4",children:"Execute uma anlise primeiro para gerar uma resposta da LLM."}),t.jsxs("button",{className:"br-button primary",onClick:i,type:"button",children:[t.jsx(We,{className:"mr-1"}),"Atualizar"]})]})})}):t.jsxs("div",{className:"br-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-h2 mb-1",children:"ltima Resposta da LLM"}),t.jsxs("div",{className:"d-flex align-items-center text-muted text-small",children:[t.jsx(ua,{className:"mr-1",style:{width:"14px",height:"14px"}}),t.jsx("span",{children:e.modified_time?c(e.modified_time):"Data no disponvel"}),e.file_size&&t.jsxs("span",{className:"ml-3",children:["Tamanho: ",l(e.file_size)]}),e.token_usage&&e.token_usage.completion_tokens&&t.jsxs("span",{className:"ml-3",children:["Tokens recebidos: ",d(e.token_usage.completion_tokens)]})]})]}),t.jsxs("div",{className:"d-flex gap-2",children:[t.jsx("button",{className:"br-button circle",onClick:i,title:"Atualizar",type:"button",children:t.jsx(We,{})}),t.jsx("button",{className:"br-button circle",onClick:u,title:"Baixar resposta",type:"button",children:t.jsx(rt,{})})]})]})}),t.jsx("div",{className:"card-content",children:t.jsx("div",{className:"br-scrollbar",style:{maxHeight:"1000px",overflow:"auto"},children:t.jsx("pre",{className:"response-content",style:{fontFamily:'Consolas, Monaco, "Courier New", monospace',fontSize:"14px",lineHeight:"1.5",whiteSpace:"pre-wrap",wordWrap:"break-word",margin:0,padding:"1rem",backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"4px"},children:e.response_content})})})]})},pi=Et(e=>({files:[],uploadProgress:{},uploading:!1,error:null,uploadFiles:async s=>{e({uploading:!0,error:null});try{for(const a of s){const r={id:Date.now().toString()+Math.random(),name:a.name,size:a.size,type:a.type,path:a.name,status:"uploading",progress:0};e(o=>({files:[...o.files,r]}));const n=setInterval(()=>{e(o=>{const i=o.uploadProgress[r.id]||0;return i<100?{uploadProgress:{...o.uploadProgress,[r.id]:Math.min(i+10,100)}}:(clearInterval(n),o)})},200);await new Promise(o=>setTimeout(o,2e3)),clearInterval(n),e(o=>({files:o.files.map(i=>i.id===r.id?{...i,status:"completed",uploadedAt:new Date}:i),uploadProgress:{...o.uploadProgress,[r.id]:100}}))}}catch(a){e({error:a instanceof Error?a.message:"Unknown error"})}finally{e({uploading:!1})}},removeFile:s=>{e(a=>({files:a.files.filter(r=>r.id!==s),uploadProgress:Object.fromEntries(Object.entries(a.uploadProgress).filter(([r])=>r!==s))}))},clearFiles:()=>{e({files:[],uploadProgress:{},error:null})}})),fi=()=>{const e=pi();Ie.useEffect(()=>{document.title="AVALIA Code Quality System - Anlise Geral"},[]),Ie.useEffect(()=>{e.files.length>0&&(console.log(" GeneralAnalysisPage montado - limpando upload store para sincronizar com banco de dados"),e.clearFiles()),n()},[e]);const s=(e==null?void 0:e.files)||[],[a,r]=y.useState([]);console.log(" DEBUG - Fontes de arquivos:"),console.log("  - uploadedFiles (uploadStore):",s),console.log("  - uploadedFiles.length:",s.length),console.log("  - dbFilePaths:",a),console.log("  - dbFilePaths.length:",a.length);const n=async()=>{try{console.log(" Recarregando paths do banco de dados...");const b=["/api/v1/file-paths/dev-paths","/public/file-paths","/api/v1/file-paths/test"];for(const C of b)try{const F=await fetch(C,{headers:{"Content-Type":"application/json"}});if(F.ok){const P=await F.json();console.log(` Resposta do endpoint ${C}:`,P);let k=[];return P.file_paths&&Array.isArray(P.file_paths)?typeof P.file_paths[0]=="string"?k=P.file_paths:k=P.file_paths.map(K=>K.full_path):P.items&&Array.isArray(P.items)&&(k=P.items.map(K=>K.full_path)),r(k),console.log(" Paths recarregados do banco de dados:",k),k}}catch(F){console.warn(` Erro ao tentar endpoint ${C}:`,F)}return console.warn(" Todos os endpoints falharam"),[]}catch(b){return console.error(" Erro ao recarregar paths do banco:",b),[]}};y.useEffect(()=>{n()},[]);const o=y.useCallback(async()=>{if(console.log(" getAnalysisFilePaths chamado para anlise geral:",{uploadedFiles:s.length,dbFilePaths:a.length,uploadedFilesContent:s,dbFilePathsContent:a}),console.log(" Anlise geral: usando apenas arquivos do banco de dados"),a.length===0){console.log(" Nenhum path em cache, recarregando do banco...");const b=await n();if(b.length>0)return console.log(" Usando paths recarregados do banco:",b),b}else return console.log(" Usando paths do banco de dados em cache:",a),a;return console.log(" Nenhum path encontrado no banco de dados!"),[]},[a]),[i,l]=y.useState(null),[c,d]=y.useState([]),[u,m]=y.useState(!1),[v,N]=y.useState(!1),[h,g]=y.useState("criteria"),[f,E]=y.useState([]),[w,R]=y.useState(!1),[_,U]=y.useState(0),[se,x]=y.useState(!1),[j,T]=y.useState(null);console.log(" DEBUG: Modal render - confirmModalOpen:",se);const[$,q]=y.useState(null);y.useEffect(()=>{(async()=>{if(c.length>0){console.log("J existem resultados na tela, pulando carregamento do banco de dados");return}if(v){console.log("Resultados foram excludos manualmente pelo usurio, pulando carregamento automtico");return}try{console.log("Carregando resultados salvos do banco de dados...");const C=await be.getAnalysisResults();if(C.success&&C.results&&C.results.length>0){const F=await Ce.getCriteria(),P=new Map;console.log(" Carregando critrios para mapeamento:",F.length),F.forEach(X=>{P.set(X.text,X.id);const D=X.text.split(":")[0].trim();D!==X.text&&P.set(D,X.id)});const k=C.results[0];console.log(" Usando apenas a anlise mais recente:",k.analysis_name);const K=[];k.criteria_results&&typeof k.criteria_results=="object"&&Object.entries(k.criteria_results).forEach(([X,D])=>{if(D&&D.content){let O=.8;const W=D.content.match(/(confiana|confidence)[^\d]*(\d+(?:\.\d+)?)/i);if(W){const M=parseFloat(W[2]);O=M>1?Math.min(M/100,1):Math.min(M,1)}let V="compliant";const ge=D.content.match(/\*\*Status:\*\*\s*([^*\n]+)/i);if(ge){const M=ge[1].trim().toLowerCase();console.log(`[DEBUG] Status extracted: "${M}" from criterion: ${D.name}`),M==="no conforme"||M==="nao conforme"||M.startsWith("no conforme")||M.startsWith("nao conforme")?V="non_compliant":M==="parcialmente conforme"||M.startsWith("parcialmente conforme")?V="partially_compliant":M==="conforme"||M.startsWith("conforme")?V="compliant":M.includes("no conforme")||M.includes("nao conforme")?V="non_compliant":M.includes("parcialmente conforme")?V="partially_compliant":M.includes("conforme")&&!M.includes("no")&&!M.includes("nao")&&(V="compliant"),console.log(`[DEBUG] Status mapped to: ${V} for criterion: ${D.name}`)}else{const M=D.content.toLowerCase();console.log(`[DEBUG] No structured status found, using content search for criterion: ${D.name}`),M.includes("no atende")||M.includes("no cumpre")||M.includes("viol")||M.includes("defeito")?V="non_compliant":(M.includes("parcialmente")||M.includes("atende parcialmente")||M.includes("precisa melhorar"))&&(V="partially_compliant"),console.log(`[DEBUG] Fallback status mapped to: ${V} for criterion: ${D.name}`)}const L=D.name||`Critrio ${X}`,Q=P.get(L)||P.get(L.split(":")[0].trim()),te=F.find(M=>M.id===Q),z=te?te.text:L;Q||console.log(` Critrio no encontrado no mapa: "${L}"`),te&&console.log(` Critrio encontrado no mapa: "${L}" -> "${te.text}"`),K.push({id:Q||k.id*1e3+parseInt(X.replace(/\D/g,"")),criterion:z,assessment:D.content,status:V,confidence:O,evidence:[],recommendations:[],resultId:k.id,criterionKey:X,criteriaId:Q})}}),console.log(`Carregados ${K.length} resultados salvos`),console.log("Resultados formatados:",K),d(K)}else console.log("Nenhum resultado salvo encontrado"),d([])}catch(C){console.error("Erro ao carregar resultados salvos:",C),d([])}})()},[]);const A=async()=>{console.log("Funo refreshResults desativada - mantendo tela limpa")},I=async()=>{try{const[b,C]=await Promise.all([be.getLatestPrompt().catch(()=>null),be.getLatestResponse().catch(()=>null)]),F={};b!=null&&b.token_usage&&(F.prompt=b.token_usage),C!=null&&C.token_usage&&(F.response=C.token_usage),Object.keys(F).length>0&&q(F)}catch(b){console.error("Erro ao carregar informaes de tokens:",b)}};y.useEffect(()=>{(h==="prompt"||h==="response")&&I()},[h]);const J=()=>{l(null),d([]),m(!1)},le=async b=>{if(b.length===0)return;const C=c.filter(D=>D.id!==void 0&&b.includes(D.id)),F=C.filter(D=>D.resultId),P=C.filter(D=>!D.resultId),k=[...new Set(F.map(D=>D.resultId).filter(Boolean))];if(k.length===0&&P.length===0){alert("No foi possvel identificar os resultados para excluso.");return}let K="Tem certeza que deseja excluir ";if(k.length>0&&(K+=`${k.length} conjunto(s) de anlise do banco de dados`),P.length>0&&(k.length>0&&(K+=" e "),K+=`${P.length} resultado(s) novos`),K+="? Esta ao no pode ser desfeita.",!!confirm(K))try{k.length>0&&(k.length===1?await be.deleteAnalysisResult(k[0]):await be.deleteMultipleAnalysisResults(k)),d(O=>O.filter(W=>W.id===void 0||!b.includes(W.id))),N(!0);let D="";k.length>0&&(D+=`${k.length} conjunto(s) de anlise do banco excludo(s)`),P.length>0&&(k.length>0&&(D+=" e "),D+=`${P.length} resultado(s) novos removido(s)`),D+=" com sucesso!",alert(D)}catch(D){console.error("Erro ao excluir resultados:",D),alert(`Erro ao excluir resultados: ${D instanceof Error?D.message:"Erro desconhecido"}`)}},ee=async b=>{try{console.log(" DEBUG handleAnalyzeCriterion:"),console.log("  - criterionObj recebido:",b);const C=`criteria_${b.id}`;console.log("  - criteriaKey gerado:",C),m(!0);try{console.log(" Excluindo todos os resultados anteriores antes da nova anlise..."),await be.deleteAllAnalysisResults(),console.log(" Todos os resultados anteriores excludos com sucesso")}catch(z){console.warn(" Erro ao excluir resultados anteriores, continuando com anlise:",z)}d([]),N(!1),R(!0),U(0),g("results");const F=setInterval(()=>{U(z=>z<90?Math.min(z+Math.random()*15,90):z)},300),P=await o();if(P.length===0){clearInterval(F),R(!1),U(0),g("criteria"),m(!1),alert("Nenhum arquivo encontrado para anlise. Por favor, faa upload dos arquivos primeiro.");return}const k={criteria_ids:[C],file_paths:P,analysis_name:`Anlise do Critrio: ${b.text}`,temperature:.7,max_tokens:4e3},K=await be.analyzeSelectedCriteria(k);clearInterval(F),U(100);const X=Object.entries(K.criteria_results)[0];if(!X)throw new Error("Nenhum resultado retornado da anlise");const[D,O]=X,W=O.content;let V=.8;const ge=W.match(/(confiana|confidence)[^\d]*(\d+(?:\.\d+)?)/i);if(ge){const z=parseFloat(ge[2]);V=z>1?Math.min(z/100,1):Math.min(z,1)}let L="compliant";const Q=W.match(/\*\*Status:\*\*\s*([^*\n]+)/i);if(Q){const z=Q[1].trim().toLowerCase();console.log(`[DEBUG] Status extracted from structured format: "${z}"`),z==="no conforme"||z==="nao conforme"||z.startsWith("no conforme")||z.startsWith("nao conforme")?L="non_compliant":z==="parcialmente conforme"||z.startsWith("parcialmente conforme")?L="partially_compliant":z==="conforme"||z.startsWith("conforme")?L="compliant":z.includes("no conforme")||z.includes("nao conforme")?L="non_compliant":z.includes("parcialmente conforme")?L="partially_compliant":z.includes("conforme")&&!z.includes("no")&&!z.includes("nao")&&(L="compliant"),console.log(`[DEBUG] Status mapped to: ${L}`)}else console.log("[DEBUG] No structured status found, using content search"),W.toLowerCase().includes("no atende")||W.toLowerCase().includes("no cumpre")||W.toLowerCase().includes("viol")||W.toLowerCase().includes("defeito")||W.toLowerCase().includes("problema")?L="non_compliant":(W.toLowerCase().includes("parcialmente")||W.toLowerCase().includes("atende parcialmente")||W.toLowerCase().includes("precisa melhorar")||W.toLowerCase().includes("recomenda"))&&(L="partially_compliant"),console.log(`[DEBUG] Fallback status mapped to: ${L}`);const te={id:b.id,criterion:b.text,assessment:W,status:L,confidence:Math.max(0,Math.min(1,V)),evidence:[],recommendations:[],resultId:K.db_result_id,criterionKey:C,criteriaId:b.id};console.log(" DEBUG handleAnalyzeCriterion - criao do resultado:"),console.log("  - criterionObj.text (original):",b.text),console.log("  - result.name (LLM):",O.name),console.log("  - newResult.criterion (usado):",te.criterion),console.log("  - result.name do backend:",O.name),O.name&&O.name!==D&&(te.criterion=O.name,console.log("  - Usando nome do backend:",te.criterion)),R(!1),U(0),d(z=>{const M=z.findIndex(re=>re.criteriaId&&re.criteriaId===b.id||re.criterion===b.text||re.criterion.includes(b.text)||b.text.includes(re.criterion));if(M>=0){console.log(` ANLISE INDIVIDUAL - Atualizando resultado existente para: ${b.text}`);const re=[...z];return re[M]={...z[M],assessment:W,status:L,confidence:Math.max(0,Math.min(1,V)),criterionKey:C},re}else return console.log(` ANLISE INDIVIDUAL - Adicionando novo resultado para: ${b.text}`),[...z,te]}),console.log(` Anlise individual concluda com sucesso para: ${b.text}`)}catch(C){console.error("Erro na anlise do critrio:",C),alert("Erro ao analisar o critrio. Por favor, tente novamente."),R(!1),U(0)}finally{m(!1)}},ce=async b=>{if(console.log(" DEBUG: GeneralAnalysisPage.handleAnalyzeSelected called"),console.log(" DEBUG: selectedCriteriaIds:",b),console.log(" DEBUG: results.length:",c.length),b.length===0){console.log(" DEBUG: No criteria selected, showing alert"),alert("Por favor, selecione pelo menos um critrio para anlise.");return}if(c.length>0){console.log(" DEBUG: Previous results found, showing confirmation modal"),T(b),console.log(" DEBUG: Setting confirmModalOpen to true"),x(!0),console.log(" DEBUG: confirmModalOpen state updated");return}console.log(" DEBUG: No previous results, proceeding directly to analysis"),me(b)},me=async b=>{try{m(!0),E(b);try{console.log(" Excluindo todos os resultados anteriores antes da nova anlise..."),await be.deleteAllAnalysisResults(),console.log(" Todos os resultados anteriores excludos com sucesso")}catch(O){console.warn(" Erro ao excluir resultados anteriores, continuando com anlise:",O)}d([]),N(!1),R(!0),U(0),g("results");const C=setInterval(()=>{U(O=>O<90?Math.min(O+Math.random()*15,90):O)},300),F=await o();if(F.length===0){clearInterval(C),R(!1),U(0),g("criteria"),m(!1),alert("Nenhum arquivo encontrado para anlise. Por favor, faa upload dos arquivos primeiro.");return}const P={criteria_ids:b,file_paths:F,analysis_name:"Anlise de Critrios Selecionados",temperature:.7,max_tokens:4e3},k=await be.analyzeSelectedCriteria(P);clearInterval(C),U(100);const K=new Map;b.forEach(O=>{const W=parseInt(O.replace("criteria_",""));K.set(O,W)});const X=await Ce.getCriteria(),D=Object.entries(k.criteria_results).map(([O,W])=>{const V=W.content;console.log(" FRONTEND: Processando resultado:",{key:O,result:W,name:W.name});let ge=.8;const L=V.match(/(confiana|confidence)[^\d]*(\d+(?:\.\d+)?)/i);if(L){const ae=parseFloat(L[2]);ge=ae>1?Math.min(ae/100,1):Math.min(ae,1)}let Q="compliant";const te=V.match(/\*\*Status:\*\*\s*([^*\n]+)/i);if(te){const ae=te[1].trim().toLowerCase();console.log(`[DEBUG] Status extracted from structured format: "${ae}"`),ae==="no conforme"||ae==="nao conforme"||ae.startsWith("no conforme")||ae.startsWith("nao conforme")?Q="non_compliant":ae==="parcialmente conforme"||ae.startsWith("parcialmente conforme")?Q="partially_compliant":ae==="conforme"||ae.startsWith("conforme")?Q="compliant":ae.includes("no conforme")||ae.includes("nao conforme")?Q="non_compliant":ae.includes("parcialmente conforme")?Q="partially_compliant":ae.includes("conforme")&&!ae.includes("no")&&!ae.includes("nao")&&(Q="compliant"),console.log(`[DEBUG] Status mapped to: ${Q}`)}else console.log("[DEBUG] No structured status found, using content search"),V.toLowerCase().includes("no atende")||V.toLowerCase().includes("no cumpre")||V.toLowerCase().includes("viol")||V.toLowerCase().includes("defeito")||V.toLowerCase().includes("problema")?Q="non_compliant":(V.toLowerCase().includes("parcialmente")||V.toLowerCase().includes("atende parcialmente")||V.toLowerCase().includes("precisa melhorar")||V.toLowerCase().includes("recomenda"))&&(Q="partially_compliant"),console.log(`[DEBUG] Fallback status mapped to: ${Q}`);const z=parseInt(O.replace("criteria_",""))-1,M=b[z]||b[0],re=K.get(M);console.log(` MAPEAMENTO: key=${O}, keyIndex=${z}, originalCriteriaId=${M}, criteriaId=${re}`),console.log(" TODOS OS SELECTED:",b),console.log(" MAPA COMPLETO:",Array.from(K.entries()));let ve=X.find(ae=>ae.id===re);if(!ve&&M){const ae=parseInt(M.replace("criteria_",""));ve=X.find(ya=>ya.id===ae)}let Me=ve?ve.text:`Critrio ${re||O}`;!ve&&re&&(Me=`Critrio ID ${re}`),console.log(` Mapeamento de critrio: key=${O}, criteriaId=${re}, matchingCriterion=${ve?"SIM":"NO"}, textoFinal="${Me}"`),console.log(` result.name do backend: "${W.name}"`);const rs=W.name&&W.name!==O?W.name:Me;return console.log(` Texto final usado: "${rs}"`),{id:re||Date.now()+parseInt(O.replace(/\D/g,"")),criterion:rs,assessment:V,status:Q,confidence:Math.max(0,Math.min(1,ge)),evidence:[],recommendations:[],resultId:k.db_result_id,criterionKey:M,criteriaId:re}});R(!1),U(0),d(O=>{console.log(` Processando ${O.length} resultados existentes e ${D.length} novos resultados`),console.log(" EXISTENTES DETALHADOS:"),O.forEach((L,Q)=>console.log(`  ${Q}: criteriaId=${L.criteriaId}, criterion="${L.criterion.substring(0,40)}..."`)),console.log(" NOVOS DETALHADOS:"),D.forEach((L,Q)=>console.log(`  ${Q}: criteriaId=${L.criteriaId}, criterion="${L.criterion.substring(0,40)}..."`));const W=O.map(L=>{const Q=D.find(te=>te.criteriaId&&L.criteriaId&&te.criteriaId===L.criteriaId);if(Q)return console.log(` ENCONTROU MATCH por ID - Atualizando resultado existente para critrio ID ${L.criteriaId}`),console.log(`   Existente: "${L.criterion.substring(0,30)}..."`),console.log(`   Novo:      "${Q.criterion.substring(0,30)}..."`),{...L,assessment:Q.assessment,status:Q.status,confidence:Q.confidence,evidence:Q.evidence,recommendations:Q.recommendations,criterionKey:Q.criterionKey};if(!L.criteriaId){const te=D.find(z=>{const M=L.criterion.toLowerCase().trim(),re=z.criterion.toLowerCase().trim();if(M===re||M.includes(re)||re.includes(M))return!0;const ve=M.split(":")[0].replace(/princpios?/i,"").trim(),Me=re.split(":")[0].replace(/princpios?/i,"").trim();return ve===Me||ve.includes(Me)||Me.includes(ve)});if(te)return console.log(" ENCONTROU MATCH por texto - Atualizando resultado sem ID"),console.log(`   Existente: "${L.criterion.substring(0,30)}..."`),console.log(`   Novo:      "${te.criterion.substring(0,30)}..."`),{...L,assessment:te.assessment,status:te.status,confidence:te.confidence,evidence:te.evidence,recommendations:te.recommendations,criterionKey:te.criterionKey}}return L}),V=D.filter(L=>L.criteriaId&&W.some(z=>z.criteriaId&&z.criteriaId===L.criteriaId)?(console.log(` Ignorando novo resultado com criteriaId ${L.criteriaId} - j existe nos mesclados`),!1):W.some(te=>{if(te.criteriaId===L.criteriaId)return!0;const z=te.criterion.toLowerCase().trim(),M=L.criterion.toLowerCase().trim();return z===M||z.includes(M)||M.includes(z)})?(console.log(` Ignorando novo resultado por correspondncia de texto - "${L.criterion.substring(0,30)}..."`),!1):!0),ge=new Set(O.map(L=>L.criteriaId).filter(Boolean));return console.log(` CRITRIOS EXISTENTES: ${Array.from(ge)}`),console.log(` NOVOS CRITRIOS SEM MATCH: ${V.map(L=>({id:L.criteriaId,name:L.criterion.substring(0,30)}))}`),console.log(` Anlise concluda: ${W.length} atualizados, ${V.length} novos critrios`),[...W,...V]}),setTimeout(()=>{alert(`Anlise concluda com sucesso!

Modelo: ${k.model_used}
Critrios analisados: ${k.criteria_count}
Tokens usados: ${k.usage.total_tokens||"N/A"}`)},500)}catch(C){console.error("Erro na anlise:",C),alert(`Erro ao realizar anlise: ${C instanceof Error?C.message:"Erro desconhecido"}`),setTimeout(()=>{R(!1),U(0)},3e3)}finally{m(!1)}},_e=()=>{x(!1),j&&(me(j),T(null))},Oe=()=>{x(!1),T(null)},[oe,fe]=y.useState([]),[Re,ke]=y.useState({}),S=async()=>{try{const b=await Ce.getCriteria();fe(b);const C={};b.forEach(F=>{C[F.text]=F.text}),ke(C)}catch(b){console.error("Erro ao carregar critrios:",b)}};y.useEffect(()=>{S()},[]);const B=()=>{const b=new Date().toLocaleDateString("pt-BR"),C=new Date().toLocaleTimeString("pt-BR");let F=`
      <html xmlns:o='urn:schemas-microsoft-com:office:office'
            xmlns:w='urn:schemas-microsoft-com:office:word'
            xmlns='http://www.w3.org/TR/REC-html40'>
      <head>
        <meta charset='utf-8'>
        <title>Relatrio de Anlise de Cdigo</title>
        <style>
          @page Section1 {
            size: 21.0cm 29.7cm;
            margin: 1.2cm 1.5cm 1.2cm 1.5cm;
            mso-header-margin: 1cm;
            mso-footer-margin: 1cm;
            mso-paper-source: 0;
          }
          div.Section1 { page: Section1; }
          body {
            font-family: 'Calibri', 'Arial', sans-serif;
            font-size: 11pt;
            line-height: 1.4;
            margin: 0;
            padding: 0;
          }
          h1 {
            font-size: 16pt;
            color: #2C5282;
            text-align: center;
            border-bottom: 2pt solid #2C5282;
            padding-bottom: 8pt;
            margin: 0 0 15pt 0;
          }
          h2 {
            font-size: 14pt;
            color: #2C5282;
            margin: 15pt 0 8pt 0;
          }
          h3 {
            font-size: 12pt;
            color: #2C5282;
            border-left: 3pt solid #2C5282;
            padding-left: 6pt;
            margin: 12pt 0 6pt 0;
          }
          h4 {
            font-size: 11pt;
            color: #2C5282;
            margin: 8pt 0 4pt 0;
          }
          .header {
            text-align: center;
            margin-bottom: 20pt;
          }
          .summary {
            background-color: #F7FAFC;
            padding: 10pt;
            border: 1pt solid #E2E8F0;
            margin-bottom: 15pt;
          }
          .result-item {
            margin-bottom: 15pt;
            page-break-inside: avoid;
          }
          .status-conforme { color: #38A169; font-weight: bold; }
          .status-parcial { color: #D69E2E; font-weight: bold; }
          .status-nao-conforme { color: #E53E3E; font-weight: bold; }
          .confidence { font-style: italic; color: #718096; }
          .recommendations { margin-top: 8pt; }
          .recommendations ul { margin: 4pt 0; padding-left: 18pt; }
          .evidence {
            background-color: #F7FAFC;
            padding: 8pt;
            border: 1pt solid #E2E8F0;
            margin: 8pt 0;
            font-family: 'Courier New', monospace;
            font-size: 10pt;
          }
          .footer {
            text-align: center;
            margin-top: 20pt;
            font-size: 10pt;
            color: #718096;
            border-top: 1pt solid #E2E8F0;
            padding-top: 8pt;
          }
          p { margin: 4pt 0; }
          div { margin: 0; }
        </style>
      </head>
      <body>
        <div class="Section1">
          <div class="header">
            <h1>Relatrio de Anlise de Cdigo</h1>
            <h2>AVALIA Code Quality System</h2>
            <p>Gerado em: ${b} s ${C}</p>
          </div>

          <div class="summary">
            <h3>Resumo da Anlise</h3>
            <p><strong>Total de critrios analisados:</strong> ${c.length}</p>
            <p><strong>Critrios conformes:</strong> ${c.filter(P=>P.status==="compliant").length}</p>
            <p><strong>Critrios parcialmente conformes:</strong> ${c.filter(P=>P.status==="partially_compliant").length}</p>
            <p><strong>Critrios no conformes:</strong> ${c.filter(P=>P.status==="non_compliant").length}</p>
            <p><strong>Confiana mdia:</strong> ${Math.round(c.reduce((P,k)=>P+k.confidence,0)/c.length*100)}%</p>
          </div>`;return c.forEach((P,k)=>{const K=P.status==="compliant"?"status-conforme":P.status==="partially_compliant"?"status-parcial":"status-nao-conforme",X=P.status==="compliant"?"Conforme":P.status==="partially_compliant"?"Parcialmente Conforme":"No Conforme";F+=`
        <div class="result-item">
          <h3>${k+1}. ${P.criterion}</h3>
          <p><strong>Status:</strong> <span class="${K}">${X}</span></p>
          <p><strong>Confiana:</strong> <span class="confidence">${Math.round(P.confidence*100)}%</span></p>

          <div>
            <h4>Avaliao</h4>
            <div style="margin: 0;">${(()=>{let D=P.assessment;return D=D.replace(/`([^`]+)`/g,'<code style="background-color: #e9ecef; padding: 2px 4px; border-radius: 3px; font-family: monospace;">$1</code>'),D=D.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),D=D.replace(/\n/g,"<br>"),D})()}</div>
          </div>`,P.recommendations&&P.recommendations.length>0&&(F+=`
          <div class="recommendations">
            <h4>Recomendaes</h4>
            <ul>
              ${P.recommendations.map(D=>`<li>${D}</li>`).join("")}
            </ul>
          </div>`),P.evidence&&P.evidence.length>0&&(F+=`
          <div>
            <h4>Evidncias de Cdigo</h4>
            ${P.evidence.map(D=>`
              <div class="evidence">
                <p><strong>Arquivo:</strong> ${D.filePath}</p>
                <p><strong>Linguagem:</strong> ${D.language}</p>
                <pre>${D.code}</pre>
              </div>
            `).join("")}
          </div>`),F+="</div>"}),F+=`
          <div class="footer">
            <p>Relatrio gerado automaticamente pelo AVALIA Code Quality System</p>
            <p>Este relatrio  confidencial e deve ser tratado de acordo com as polticas da organizao.</p>
          </div>
        </div>
      </body>
      </html>`,F},G=()=>{if(c.length===0){alert("Nenhum resultado para gerar relatrio.");return}try{const b=B(),C=new Blob(["\uFEFF",b],{type:"application/msword"}),P=`relatorio-analise-codigo-${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}.doc`,k=document.createElement("a");k.href=URL.createObjectURL(C),k.download=P,k.click(),URL.revokeObjectURL(k.href)}catch(b){console.error("Erro ao gerar DOCX:",b),alert("Erro ao gerar o relatrio DOCX. Por favor, tente novamente.")}};return t.jsxs("div",{className:"general-analysis-page",children:[w&&t.jsx("div",{className:"progress-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:9998,display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsxs("div",{className:"progress-card",style:{backgroundColor:"white",borderRadius:"8px",padding:"24px",minWidth:"400px",maxWidth:"500px",boxShadow:"0 4px 24px rgba(0, 0, 0, 0.15)",zIndex:9999},children:[t.jsxs("div",{className:"progress-header",style:{textAlign:"center",marginBottom:"20px"},children:[t.jsx("h3",{className:"text-h3",style:{margin:"0 0 8px 0",color:"#1351b4"},children:"Analisando Critrios"}),t.jsx("p",{className:"text-regular text-muted",style:{margin:0,fontSize:"14px"},children:"Processando anlise com inteligncia artificial..."})]}),t.jsx("div",{className:"progress-bar-container",style:{width:"100%",height:"8px",backgroundColor:"#e9ecef",borderRadius:"4px",overflow:"hidden",marginBottom:"16px"},children:t.jsx("div",{className:"progress-bar-fill",style:{height:"100%",backgroundColor:"#1351b4",width:`${_}%`,transition:"width 0.3s ease",borderRadius:"4px"}})}),t.jsxs("div",{className:"progress-text",style:{textAlign:"center",fontSize:"14px",color:"#6c757d",fontWeight:500},children:[Math.round(_),"% concludo"]})]})}),t.jsx("div",{className:"general-analysis-header",children:t.jsx("div",{className:"br-card",children:t.jsx("div",{className:"card-header",children:t.jsx("div",{className:"row align-items-center",children:t.jsxs("div",{className:"br-col",children:[t.jsx("h1",{className:"text-h1",children:"Anlise de Critrios Gerais"}),t.jsx("p",{className:"text-regular",children:"Configure seus critrios de avaliao, faa upload dos arquivos e execute anlises de cdigo baseadas em padres de qualidade gerais"})]})})})})}),t.jsx("div",{className:"br-tabs","data-tabs":"analysis-tabs",children:t.jsx("nav",{className:"tab-navigation",role:"tablist",children:[{id:"criteria",name:"Critrios",icon:fa},{id:"results",name:"Resultados",icon:Ke},{id:"prompt",name:"ltimo Prompt Enviado",icon:ha},{id:"response",name:"ltima Resposta da LLM",icon:Ke}].map(b=>t.jsxs("button",{className:`tab-item ${h===b.id?"is-active":""}`,role:"tab","aria-selected":h===b.id,"aria-controls":`tab-${b.id}`,onClick:()=>g(b.id),children:[t.jsx(b.icon,{className:"w-4 h-4 mr-2"}),b.name]},b.id))})}),t.jsxs("div",{className:"br-container",children:[h==="criteria"&&t.jsx(li,{onCriteriaSelect:b=>console.log("Selected criteria:",b),onAnalyzeCriterion:ee,onAnalyzeSelected:b=>ce(b),onCriteriaChange:A}),h==="results"&&t.jsx(ui,{results:c,onDownloadDocx:G,onDeleteResults:le}),h==="prompt"&&t.jsx(mi,{}),h==="response"&&t.jsx(hi,{}),i&&t.jsxs("div",{className:"br-card mt-4",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h2",{className:"text-h2",children:"Executar Anlise"}),t.jsx("p",{className:"text-regular text-muted",children:"Inicie a anlise de cdigo com base nos critrios configurados"})]}),t.jsx("div",{className:"card-content",children:t.jsx(ci,{progress:i.progress,status:i.status,message:"Analisando cdigo com base nos critrios configurados...",onCancel:J})})]})]}),se&&t.jsx("div",{style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:"9999",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:"4px",boxShadow:"0 8px 25px rgba(0, 0, 0, 0.15)",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto",border:"1px solid #dee2e6"},children:[t.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"1rem",borderBottom:"1px solid #dee2e6",borderTopLeftRadius:"4px",borderTopRightRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("h3",{style:{margin:"0",fontSize:"1.25rem",fontWeight:"600",color:"#495057"},children:" Confirmar Nova Anlise"}),t.jsx("button",{onClick:Oe,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#6c757d",padding:"0",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"Fechar",children:""})]}),t.jsxs("div",{style:{padding:"1.5rem"},children:[t.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"4px",padding:"1rem",marginBottom:"1rem",borderLeft:"4px solid #f39c12"},children:t.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[t.jsx("span",{style:{fontSize:"1.2rem",marginRight:"0.75rem",color:"#f39c12"},children:""}),t.jsxs("div",{children:[t.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#856404",fontWeight:"600"},children:"Ateno!"}),t.jsxs("p",{style:{margin:"0",color:"#856404",lineHeight:"1.5"},children:["Voc est prestes a iniciar uma nova anlise, e todos os resultados das anlises anteriores sero ",t.jsx("strong",{children:"permanentemente perdidos"}),"."]})]})]})}),t.jsxs("div",{style:{backgroundColor:"#e3f2fd",border:"1px solid #bbdefb",borderRadius:"4px",padding:"1rem",marginBottom:"1rem"},children:[t.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#0d47a1",fontSize:"0.9rem",fontWeight:"600"},children:" Recomendao:"}),t.jsx("p",{style:{margin:"0",color:"#1565c0",fontSize:"0.875rem",lineHeight:"1.5"},children:"Antes de prosseguir, considere gerar um relatrio da anlise atual para salvar seus resultados. Voc pode exportar os resultados usando os botes de download disponveis na aba de resultados."})]}),t.jsx("div",{style:{backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"4px",padding:"1rem",marginBottom:"1.5rem"},children:t.jsx("p",{style:{margin:"0",color:"#495057",fontSize:"0.9rem",fontWeight:"500",textAlign:"center"},children:t.jsx("strong",{children:"Deseja prosseguir com a nova anlise?"})})})]}),t.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"1rem 1.5rem",borderTop:"1px solid #dee2e6",borderBottomLeftRadius:"4px",borderBottomRightRadius:"4px",display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:[t.jsx("button",{onClick:Oe,style:{backgroundColor:"#6c757d",color:"#ffffff",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",transition:"background-color 0.2s"},onMouseOver:b=>b.currentTarget.style.backgroundColor="#5a6268",onMouseOut:b=>b.currentTarget.style.backgroundColor="#6c757d",children:" Cancelar"}),t.jsx("button",{onClick:_e,style:{backgroundColor:"#0d47a1",color:"#ffffff",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",transition:"background-color 0.2s"},onMouseOver:b=>b.currentTarget.style.backgroundColor="#0a3570",onMouseOut:b=>b.currentTarget.style.backgroundColor="#0d47a1",children:"Prosseguir"})]})]})})]})},gi=()=>{const[e,s]=y.useState("overview"),[a,r]=y.useState(!1),[n,o]=y.useState([]),i=[{id:"1",title:"Separao de Camadas",status:"compliant",description:"A separao entre camadas de apresentao, negcio e dados est adequada",details:`MVC: Controller  Service  Repository
Clean Architecture: Entity  Use Case  Controller`,severity:"low"},{id:"2",title:"Injeo de Dependncias",status:"warning",description:"Detectada dependncia direta entre componentes que deveriam ser desacoplados",details:`Arquivo: src/controllers/UserController.ts
Linha 45: import { Database } from '../database'
Sugesto: Usar interface abstrata`,severity:"medium"},{id:"3",title:"Padres de Projeto",status:"non-compliant",description:"Identificada violao do padro Singleton em classe de configurao",details:`Arquivo: src/config/Database.ts
Linha 12-25: Implementao direta sem gerenciamento adequado
Recomendao: Usar factory pattern`,severity:"high"}],l=u=>{const m=u.target.files;m&&m.length>0&&console.log("Files uploaded:",m)},c=()=>{r(!0),setTimeout(()=>{o(i),r(!1)},3e3)},d=u=>{switch(u){case"compliant":return t.jsx(Be,{size:20,className:"text-green-600"});case"warning":return t.jsx(as,{size:20,className:"text-yellow-600"});case"non-compliant":return t.jsx(st,{size:20,className:"text-red-600"});default:return t.jsx(Ke,{size:20,className:"text-gray-600"})}};return t.jsxs("div",{className:"architectural-analysis-page",children:[t.jsx("div",{className:"architectural-analysis-header",children:t.jsx("div",{className:"br-card",children:t.jsxs("div",{className:"card-header text-center",children:[t.jsx("h1",{className:"text-h1",children:"Anlise de Conformidade Arquitetural"}),t.jsx("p",{className:"text-regular",children:"Avalie a conformidade do seu cdigo com os padres arquiteturais definidos, identifique violaes e receba recomendaes para melhorar a estrutura do projeto"})]})})}),t.jsxs("div",{className:"main-content",children:[t.jsx("div",{className:"upload-section",children:t.jsx("div",{className:"br-card",children:t.jsx("div",{className:"card-content",children:t.jsxs("div",{className:"upload-area",children:[t.jsx(xa,{size:64,className:"upload-icon"}),t.jsx("h3",{className:"upload-title",children:"Upload dos Arquivos de Cdigo"}),t.jsx("p",{className:"upload-description",children:"Selecione os arquivos ou diretrios que deseja analisar quanto  conformidade arquitetural"}),t.jsx("input",{type:"file",multiple:!0,accept:".ts,.js,.py,.java,.cpp,.cs",onChange:l,style:{display:"none"},id:"file-upload"}),t.jsx("label",{htmlFor:"file-upload",className:"upload-button",children:"Selecionar Arquivos"})]})})})}),t.jsx("div",{className:"config-section",children:t.jsx("div",{className:"br-card",children:t.jsxs("div",{className:"card-content",children:[t.jsxs("h3",{children:[t.jsx(fa,{size:20,style:{marginRight:"8px"}}),"Configuraes da Anlise"]}),t.jsxs("div",{className:"config-item",children:[t.jsx("label",{className:"config-label",children:"Padro Arquitetural"}),t.jsxs("select",{className:"config-input",children:[t.jsx("option",{children:"MVC (Model-View-Controller)"}),t.jsx("option",{children:"Clean Architecture"}),t.jsx("option",{children:"Hexagonal Architecture"}),t.jsx("option",{children:"Layered Architecture"}),t.jsx("option",{children:"Microservices"})]})]}),t.jsxs("div",{className:"config-item",children:[t.jsx("label",{className:"config-label",children:"Nvel de Rigidez"}),t.jsxs("select",{className:"config-input",children:[t.jsx("option",{children:"Baixa (apenas violaes crticas)"}),t.jsx("option",{children:"Mdia (violaes importantes)"}),t.jsx("option",{children:"Alta (todas as violaes)"})]})]}),t.jsxs("div",{className:"config-item",children:[t.jsx("label",{className:"config-label",children:"Regras Customizadas"}),t.jsx("textarea",{className:"config-input config-textarea",placeholder:"Defina regras especficas para seu projeto..."})]})]})})}),t.jsx("div",{className:"analysis-section",children:t.jsx("div",{className:"br-card",children:t.jsxs("div",{className:"card-content",children:[t.jsxs("h3",{children:[t.jsx(si,{size:20,style:{marginRight:"8px"}}),"Resumo da Anlise"]}),t.jsxs("div",{className:"analysis-item",children:[t.jsx("div",{className:"analysis-item-title",children:"Padres Identificados"}),t.jsx("p",{className:"analysis-item-description",children:"MVC, Singleton, Factory, Repository Pattern, Dependency Injection"})]}),t.jsxs("div",{className:"analysis-item",children:[t.jsx("div",{className:"analysis-item-title",children:"Componentes Analisados"}),t.jsx("p",{className:"analysis-item-description",children:"15 controllers, 23 services, 8 repositories, 12 models"})]}),t.jsxs("div",{className:"analysis-item",children:[t.jsx("div",{className:"analysis-item-title",children:"Mtricas de Qualidade"}),t.jsx("p",{className:"analysis-item-description",children:"Acoplamento: Baixo | Coeso: Alta | Complexidade: Moderada"})]}),t.jsx("button",{className:"action-button primary",onClick:c,disabled:a,children:a?"Analisando...":"Iniciar Anlise"})]})})})]}),n.length>0&&t.jsx("div",{className:"results-section",children:t.jsx("div",{className:"br-card",children:t.jsxs("div",{className:"card-content",children:[t.jsxs("div",{className:"results-tabs",children:[t.jsx("button",{className:`results-tab ${e==="overview"?"active":""}`,onClick:()=>s("overview"),children:"Viso Geral"}),t.jsx("button",{className:`results-tab ${e==="patterns"?"active":""}`,onClick:()=>s("patterns"),children:"Padres"}),t.jsx("button",{className:`results-tab ${e==="violations"?"active":""}`,onClick:()=>s("violations"),children:"Violaes"})]}),t.jsx("div",{className:"results-content",children:n.map(u=>t.jsxs("div",{className:"result-item",children:[t.jsxs("div",{className:"result-header",children:[t.jsxs("div",{className:"result-title",children:[d(u.status),t.jsx("span",{style:{marginLeft:"8px"},children:u.title})]}),t.jsx("span",{className:`result-status ${u.status}`,children:u.status==="compliant"?"Conforme":u.status==="warning"?"Ateno":"No Conforme"})]}),t.jsx("p",{className:"result-description",children:u.description}),t.jsx("div",{className:"result-details",children:u.details})]},u.id))}),t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"action-button primary",children:"Gerar Relatrio"}),t.jsx("button",{className:"action-button secondary",children:"Exportar Resultados"})]})]})})})]})},de=[];for(let e=0;e<256;++e)de.push((e+256).toString(16).slice(1));function xi(e,s=0){return(de[e[s+0]]+de[e[s+1]]+de[e[s+2]]+de[e[s+3]]+"-"+de[e[s+4]]+de[e[s+5]]+"-"+de[e[s+6]]+de[e[s+7]]+"-"+de[e[s+8]]+de[e[s+9]]+"-"+de[e[s+10]]+de[e[s+11]]+de[e[s+12]]+de[e[s+13]]+de[e[s+14]]+de[e[s+15]]).toLowerCase()}let $t;const bi=new Uint8Array(16);function yi(){if(!$t){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$t=crypto.getRandomValues.bind(crypto)}return $t(bi)}const vi=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ps={randomUUID:vi};function ji(e,s,a){var n;e=e||{};const r=e.random??((n=e.rng)==null?void 0:n.call(e))??yi();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,xi(r)}function Ni(e,s,a){return Ps.randomUUID&&!e?Ps.randomUUID():ji(e)}const It=Et((e,s)=>({businessDocuments:[],selectedDocuments:[],isUploading:!1,uploadProgress:0,currentAnalysis:null,isAnalyzing:!1,progress:0,error:null,lastPromptSent:null,lastLLMResponse:null,llmCommunicationHistory:[],activeTab:"upload",isManualMode:!1,analysisSettings:{includeUserStories:!0,includeEpics:!0,includeBusinessRules:!0,includeRequirements:!0,sensitivityThreshold:.7,businessWeight:"balanced"},tabStatuses:{upload:{hasContent:!1,isAccessible:!0,lastUpdated:null},results:{hasContent:!1,isAccessible:!1,lastUpdated:null},prompt:{hasContent:!1,isAccessible:!1,lastUpdated:null},response:{hasContent:!1,isAccessible:!1,lastUpdated:null}},uploadDocuments:a=>{e(r=>({businessDocuments:[...r.businessDocuments,...a],selectedDocuments:[...r.selectedDocuments,...a.map(n=>n.id)],isUploading:!1,uploadProgress:100,tabStatuses:{...r.tabStatuses,upload:{...r.tabStatuses.upload,hasContent:!0,lastUpdated:new Date,status:"success"}}}))},selectDocument:a=>{e(r=>({selectedDocuments:r.selectedDocuments.includes(a)?r.selectedDocuments:[...r.selectedDocuments,a]}))},deselectDocument:a=>{e(r=>({selectedDocuments:r.selectedDocuments.filter(n=>n!==a)}))},toggleDocumentSelection:a=>{e(r=>({selectedDocuments:r.selectedDocuments.includes(a)?r.selectedDocuments.filter(n=>n!==a):[...r.selectedDocuments,a]}))},selectAllDocuments:()=>{e(a=>({selectedDocuments:a.businessDocuments.map(r=>r.id)}))},deselectAllDocuments:()=>{e({selectedDocuments:[]})},deleteDocument:a=>{e(r=>({businessDocuments:r.businessDocuments.filter(n=>n.id!==a),selectedDocuments:r.selectedDocuments.filter(n=>n!==a),tabStatuses:{...r.tabStatuses,upload:{...r.tabStatuses.upload,hasContent:r.businessDocuments.length>1,lastUpdated:new Date}}}))},clearAllDocuments:()=>{e({businessDocuments:[],selectedDocuments:[],tabStatuses:{...s().tabStatuses,upload:{hasContent:!1,isAccessible:!0,lastUpdated:new Date}}})},startAnalysis:()=>{const a=s();if(a.selectedDocuments.length===0){e({error:"Selecione pelo menos um documento para anlise"});return}const r={id:Ni(),analysisType:"business",timestamp:new Date,overallAssessment:`Anlise de ${a.selectedDocuments.length} documentos de negcio revelou bom alinhamento geral com score de 85%. Foram identificadas oportunidades de melhoria em segurana e expanso de funcionalidades.`,businessDocuments:a.businessDocuments.filter(i=>a.selectedDocuments.includes(i.id)),semanticResults:[],alignmentScore:.85,gaps:[{description:"Falta autenticao de dois fatores",severity:"high"},{description:"No h suporte para moedas internacionais",severity:"medium"}],recommendations:["Implementar autenticao de dois fatores","Adicionar suporte para mltiplas moedas","Melhorar validao de crdito com integrao externa"],tokenUsage:{prompt:1500,completion:800,total:2300},processingTime:5e3,status:"completed"},n=`Analise os seguintes documentos de negcio e verifique o alinhamento com o cdigo-fonte implementado:

Documentos:
${a.businessDocuments.filter(i=>a.selectedDocuments.includes(i.id)).map(i=>`- ${i.name} (${i.type}): ${i.content.substring(0,200)}...`).join(`
`)}

Por favor, fornea:
1. Score de alinhamento para cada documento (0-100%)
2. Gaps identificados
3. Recomendaes de melhoria
4. Avaliao geral do alinhamento de negcio`,o=`# Anlise de Documentao de Negcio

## Resumo
Anlise concluda com sucesso. Score geral de alinhamento: 85%

## Resultados por Documento
${a.businessDocuments.filter(i=>a.selectedDocuments.includes(i.id)).map(i=>`### ${i.name}
- **Alinhamento:** ${80+Math.floor(Math.random()*20)}%
- **Status:** Conforme
- **Observaes:** Implementao bem alinhada com os requisitos de negcio`).join(`
`)}

## Recomendaes
1. Implementar autenticao de dois fatores
2. Adicionar suporte para mltiplas moedas
3. Melhorar validao de crdito`;e({isAnalyzing:!0,progress:0,error:null,activeTab:"results",tabStatuses:{...a.tabStatuses,results:{...a.tabStatuses.results,status:"loading",isAccessible:!0}}}),setTimeout(()=>{e({progress:100,isAnalyzing:!1})},3e3),setTimeout(()=>{e({currentAnalysis:r,lastPromptSent:n,lastLLMResponse:o,tabStatuses:{...s().tabStatuses,results:{hasContent:!0,isAccessible:!0,lastUpdated:new Date,status:"success"},prompt:{hasContent:!0,isAccessible:!0,lastUpdated:new Date,status:"success"},response:{hasContent:!0,isAccessible:!0,lastUpdated:new Date,status:"success"}}})},3500)},cancelAnalysis:()=>{e({isAnalyzing:!1,progress:0,tabStatuses:{...s().tabStatuses,results:{...s().tabStatuses.results,status:"warning"}}})},setCurrentAnalysis:a=>{e({currentAnalysis:a})},updateResultManually:a=>{e(r=>({currentAnalysis:r.currentAnalysis?{...r.currentAnalysis,...a}:null,isManualMode:!1}))},setLastPromptSent:a=>{e({lastPromptSent:a})},setLastLLMResponse:a=>{e({lastLLMResponse:a})},addLLMInteraction:a=>{e(r=>({llmCommunicationHistory:[...r.llmCommunicationHistory,a]}))},setActiveTab:a=>{e({activeTab:a})},setIsManualMode:a=>{e({isManualMode:a})},updateAnalysisSettings:a=>{e(r=>({analysisSettings:{...r.analysisSettings,...a}}))},setTabStatus:(a,r)=>{e(n=>({tabStatuses:{...n.tabStatuses,[a]:{...n.tabStatuses[a],...r}}}))},clearError:()=>{e({error:null})},reset:()=>{e({businessDocuments:[],selectedDocuments:[],isUploading:!1,uploadProgress:0,currentAnalysis:null,isAnalyzing:!1,progress:0,error:null,lastPromptSent:null,lastLLMResponse:null,llmCommunicationHistory:[],activeTab:"upload",isManualMode:!1,tabStatuses:{upload:{hasContent:!1,isAccessible:!0,lastUpdated:null},results:{hasContent:!1,isAccessible:!1,lastUpdated:null},prompt:{hasContent:!1,isAccessible:!1,lastUpdated:null},response:{hasContent:!1,isAccessible:!1,lastUpdated:null}}})}})),wi=({onDocumentsUploaded:e,onStartAnalysis:s})=>{const{businessDocuments:a,isUploading:r,uploadDocuments:n,deleteDocument:o,error:i}=It(),[l,c]=y.useState(!1),[d,u]=y.useState(0),[m,v]=y.useState(""),N=y.useRef(null),h=j=>{if(j===0)return"0 Bytes";const T=1024,$=["Bytes","KB","MB","GB"],q=Math.floor(Math.log(j)/Math.log(T));return parseFloat((j/Math.pow(T,q)).toFixed(2))+" "+$[q]},g=j=>new Date(j).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),f=(j,T)=>{const $=j.toLowerCase(),q=T.toLowerCase();return $.includes("user")&&$.includes("story")?"user-story":$.includes("epic")?"epic":$.includes("business")&&($.includes("rule")||$.includes("requirement"))?"business-rule":$.includes("requirement")?"requirement":q.includes("user story")||q.includes("como um")?"user-story":q.includes("epic")||q.includes("pico")?"epic":q.includes("business rule")||q.includes("regra de negcio")?"business-rule":(q.includes("requirement")||q.includes("requisito"),"requirement")},E=j=>{switch(j){case"user-story":return"User Story";case"epic":return"pico";case"business-rule":return"Regra de Negcio";case"requirement":return"Requisito";default:return"Documento"}},w=j=>t.jsx(Ke,{className:"w-4 h-4"}),R=j=>new Promise((T,$)=>{const q=new FileReader;q.onload=A=>{var J;const I=(J=A.target)==null?void 0:J.result;T(I)},q.onerror=A=>{$(new Error("Failed to read file"))},q.readAsText(j)}),_=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(j){const T=Math.random()*16|0;return(j==="x"?T:T&3|8).toString(16)}),U=y.useCallback(async j=>{var T,$;console.log("handleFolderSelect called with:",{fileCount:j.length,firstFileName:(T=j[0])==null?void 0:T.name,firstFilePath:($=j[0])==null?void 0:$.webkitRelativePath});try{c(!0),u(0);const q=j[0];if(!q){console.error("No files selected");return}const A=q.webkitRelativePath||"",I=A.split("/")[0]||"selected_folder";console.log("Processing folder:",{folderPath:I,relativePath:A}),v(I);const J=[];for(let le=0;le<j.length;le++){const ee=j[le],ce=ee.webkitRelativePath||"",me=ee.name.toLowerCase();if(![".md",".txt",".pdf",".docx",".doc"].some(oe=>me.endsWith(oe))){console.log(`Skipping unsupported file: ${ee.name}`),u((le+1)/j.length*100);continue}try{const oe=await R(ee),fe=f(ee.name,oe),Re={id:`doc_${_()}`,name:ce,type:fe,content:oe,uploadDate:new Date,metadata:{fileSize:ee.size,lastModified:new Date(ee.lastModified),originalName:ee.name,relativePath:ce,folderPath:I}};J.push(Re),console.log(`Processed document: ${ee.name} -> ${fe}`)}catch(oe){console.error(`Error processing file ${ee.name}:`,oe)}u((le+1)/j.length*100),await new Promise(oe=>setTimeout(oe,50))}console.log(`Successfully processed ${J.length} business documents from folder: ${I}`),n(J),e==null||e(J),N.current&&(N.current.value="")}catch(q){console.error("Error processing folder:",q)}finally{c(!1),u(0)}},[n,e]),se=y.useCallback(async j=>{var T,$,q;console.log("File input changed:",{files:j.target.files,fileCount:(T=j.target.files)==null?void 0:T.length,firstFile:(q=($=j.target.files)==null?void 0:$[0])==null?void 0:q.name}),j.target.files&&j.target.files.length>0&&await U(j.target.files)},[U]),x=()=>{if(a.length===0){alert("Por favor, selecione uma pasta com documentos de negcio para anlise.");return}s==null||s()};return t.jsxs("div",{className:"business-document-upload",children:[t.jsx("div",{className:"upload-header",children:t.jsx("div",{className:"br-card",children:t.jsxs("div",{className:"card-header text-center",children:[t.jsx("h2",{className:"text-h2",children:"Upload de Documentao Negocial"}),t.jsx("p",{className:"text-regular",children:"Selecione uma pasta contendo documentos de negcio para anlise de alinhamento com o cdigo-fonte"})]})})}),t.jsx("div",{className:"upload-controls",children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{onClick:()=>{var j;return(j=N.current)==null?void 0:j.click()},disabled:l,className:"br-button primary",type:"button",children:l?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"br-loading-small"}),t.jsx("span",{children:"Selecionando..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(gt,{className:"w-4 h-4 mr-2"}),"Selecionar Pasta"]})}),t.jsx("input",{ref:N,id:"business-folder-input",type:"file",webkitdirectory:"",directory:"",multiple:!0,className:"hidden",onChange:se,disabled:l})]})}),m&&t.jsx("div",{className:"folder-path-display",children:t.jsxs("div",{className:"br-message info",children:[t.jsx(gt,{className:"w-4 h-4"}),t.jsxs("div",{children:[t.jsx("strong",{children:"Pasta selecionada:"})," ",m,t.jsxs("p",{className:"text-small mt-1",children:[a.length," documento(s) de negcio encontrados"]})]})]})}),a.length===0&&t.jsx("div",{className:"upload-area",children:t.jsx("div",{className:"br-card",children:t.jsx("div",{className:"card-content",children:l?t.jsxs("div",{className:"scanning-state",children:[t.jsx("div",{className:"br-loading"}),t.jsx("h4",{children:"Processando documentos da pasta..."}),t.jsx("div",{className:"progress-bar",children:t.jsx("div",{className:"progress-fill",style:{width:`${d}%`}})}),t.jsxs("p",{className:"text-small",children:[Math.round(d),"% concludo"]}),m&&t.jsxs("p",{className:"text-small text-muted mt-2",children:["Pasta: ",m]})]}):t.jsxs("div",{className:"upload-prompt",children:[t.jsx(gt,{className:"upload-icon"}),t.jsx("h4",{children:"Selecione uma pasta de documentos de negcio"}),t.jsx("p",{children:'Clique no boto "Selecionar Pasta" para continuar'}),t.jsx("p",{className:"text-small",children:"Sero processados arquivos: .md, .txt, .pdf, .docx, .doc"}),t.jsx("p",{className:"text-small",children:"Formatos detectados: User Stories, picos, Regras de Negcio, Requisitos"})]})})})}),a.length>0&&t.jsx("div",{className:"documents-list",children:t.jsxs("div",{className:"br-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsxs("h3",{className:"text-h3",children:["Documentos de Negcio (",a.length,")"]}),t.jsx("p",{className:"text-regular",children:"Documentos encontrados na pasta selecionada"})]}),t.jsxs("div",{className:"card-content",children:[i&&t.jsxs("div",{className:"br-message danger mb-3",children:[t.jsx(ze,{className:"w-4 h-4"}),t.jsx("span",{children:i})]}),t.jsx("div",{className:"document-items",children:a.map(j=>{var T,$,q;return t.jsx("div",{className:"document-item",children:t.jsx("div",{className:"document-info",children:t.jsxs("div",{className:"document-details",children:[t.jsxs("div",{className:"document-header",children:[w(j.type),t.jsxs("div",{className:"document-name-container",children:[t.jsx("span",{className:"document-name",children:j.name}),((T=j.metadata)==null?void 0:T.originalName)&&j.metadata.originalName!==j.name&&t.jsxs("span",{className:"original-name",children:["(",j.metadata.originalName,")"]})]}),t.jsx("span",{className:`document-type-badge type-${j.type}`,children:E(j.type)})]}),t.jsxs("div",{className:"document-meta",children:[t.jsx("span",{className:"text-small text-muted",children:h((($=j.metadata)==null?void 0:$.fileSize)||0)}),t.jsx("span",{className:"text-small text-muted",children:g(j.uploadDate)}),((q=j.metadata)==null?void 0:q.folderPath)&&t.jsxs("span",{className:"text-small text-muted",children:["Pasta: ",j.metadata.folderPath]})]})]})})},j.id)})}),t.jsx("div",{className:"analysis-actions",children:t.jsxs("div",{className:"action-buttons",children:[t.jsxs("button",{className:"br-button secondary",onClick:()=>{var j;return(j=N.current)==null?void 0:j.click()},disabled:l,children:[t.jsx(gt,{className:"w-4 h-4 mr-2"}),"Selecionar Outra Pasta"]}),t.jsx("button",{className:"br-button primary",onClick:x,disabled:a.length===0||r,children:r?"Analisando...":"Iniciar Anlise de Negcio"})]})})]})]})})]})},Si=({results:e,onDownloadReport:s})=>{if(!e)return t.jsx("div",{className:"br-tab-panel",children:t.jsx("div",{className:"br-card",children:t.jsxs("div",{className:"card-content text-center",children:[t.jsx(Xt,{className:"w-16 h-16 text-muted mx-auto mb-4"}),t.jsx("h4",{children:"Nenhuma anlise realizada ainda"}),t.jsx("p",{children:"Faa upload dos documentos e inicie a anlise para ver os resultados"})]})})});const a=[{id:"1",documentName:"US-001: Login do Usurio",documentType:"user-story",alignmentScore:85,assessment:"O cdigo implementa bem a funcionalidade de login com autenticao segura e validao adequada. Foram encontrados pontos fortes na implementao e pequenas oportunidades de melhoria.",gaps:["Falta implementao de autenticao de dois fatores","No h taxa limite de tentativas de login","Logs de segurana poderiam ser mais detalhados"],recommendations:["Implementar 2FA para maior segurana","Adicionar rate limiting para prevenir brute force","Melhorar logs de auditoria de segurana"],businessImpact:"high"},{id:"2",documentName:"pico-005: Gesto de Pagamentos",documentType:"epic",alignmentScore:92,assessment:"Implementao robusta do sistema de pagamentos com boa cobertura dos casos de uso e tratamento adequado de erros. A arquitetura suporta bem os requisitos de negcio.",gaps:["Falta tratamento para moedas internacionais","No implementado reconciliao automtica","Relatrios financeiros poderiam ser mais detalhados"],recommendations:["Expandir suporte para mltiplas moedas","Implementar sistema de reconciliao automtica","Criar relatrios financeiros avanados"],businessImpact:"high"},{id:"3",documentName:"BR-012: Regra de negcio - Validao de crdito",documentType:"business-rule",alignmentScore:78,assessment:"A validao de crdito est implementada mas poderia ser mais robusta. Alguns edge cases no so tratados adequadamente e as regras de negcio poderiam estar mais centralizadas.",gaps:["No h validao para mltiplos cartes de crdito","Regras de score no so atualizadas dinamicamente","Falta integrao com servios de verificao externos"],recommendations:["Implementar validao para mltiplos mtodos de pagamento","Criar sistema de score dinmico","Integrar com bureaus de crdito"],businessImpact:"medium"}],r=d=>d>=90?"success":d>=70?"warning":"danger",n=d=>{switch(d){case"high":return t.jsx(as,{className:"w-4 h-4 text-danger"});case"medium":return t.jsx(ze,{className:"w-4 h-4 text-warning"});case"low":return t.jsx(Be,{className:"w-4 h-4 text-success"});default:return t.jsx(Ds,{className:"w-4 h-4 text-muted"})}},o=d=>{switch(d){case"high":return"Alto Impacto";case"medium":return"Mdio Impacto";case"low":return"Baixo Impacto";default:return"No Avaliado"}},i=d=>{switch(d){case"user-story":return"User Story";case"epic":return"pico";case"business-rule":return"Regra de Negcio";case"requirement":return"Requisito";default:return"Documento"}},c=(()=>{if(a.length===0)return 0;const d=a.reduce((u,m)=>u+m.alignmentScore,0);return Math.round(d/a.length)})();return t.jsx("div",{className:"br-tab-panel",children:t.jsxs("div",{className:"br-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsx("h3",{className:"text-h3",children:"Resultados da Anlise de Negcio"}),t.jsx("p",{className:"text-regular text-muted",children:"Anlise de alinhamento entre documentao de negcio e implementao do cdigo"})]}),t.jsx("div",{className:"header-actions",children:t.jsxs("button",{className:"br-button secondary",onClick:s,children:[t.jsx(rt,{className:"w-4 h-4 mr-2"}),"Baixar Relatrio"]})})]}),t.jsxs("div",{className:"card-content",children:[t.jsx("div",{className:"overall-summary mb-4",children:t.jsxs("div",{className:"summary-cards",children:[t.jsxs("div",{className:"summary-card",children:[t.jsx("div",{className:"summary-icon",children:t.jsx(Ds,{className:"w-6 h-6"})}),t.jsxs("div",{className:"summary-content",children:[t.jsx("div",{className:"summary-label",children:"Alinhamento Geral"}),t.jsxs("div",{className:`summary-value ${r(c)}`,children:[c,"%"]})]})]}),t.jsxs("div",{className:"summary-card",children:[t.jsx("div",{className:"summary-icon",children:t.jsx(Xt,{className:"w-6 h-6"})}),t.jsxs("div",{className:"summary-content",children:[t.jsx("div",{className:"summary-label",children:"Documentos Analisados"}),t.jsx("div",{className:"summary-value",children:a.length})]})]}),t.jsxs("div",{className:"summary-card",children:[t.jsx("div",{className:"summary-icon",children:t.jsx(ii,{className:"w-6 h-6"})}),t.jsxs("div",{className:"summary-content",children:[t.jsx("div",{className:"summary-label",children:"Gaps Identificados"}),t.jsx("div",{className:"summary-value",children:a.reduce((d,u)=>d+u.gaps.length,0)})]})]})]})}),t.jsxs("div",{className:"document-results",children:[t.jsx("h4",{children:"Anlise por Documento"}),a.map(d=>t.jsxs("div",{className:"result-card mb-4",children:[t.jsxs("div",{className:"result-header",children:[t.jsxs("div",{className:"document-info",children:[t.jsx("h5",{className:"document-name",children:d.documentName}),t.jsxs("div",{className:"document-meta",children:[t.jsx("span",{className:"document-type-badge",children:i(d.documentType)}),t.jsxs("div",{className:"alignment-score",children:[t.jsx("span",{className:"score-label",children:"Alinhamento:"}),t.jsxs("span",{className:`score-value ${r(d.alignmentScore)}`,children:[d.alignmentScore,"%"]})]})]})]}),t.jsxs("div",{className:"impact-indicator",children:[n(d.businessImpact),t.jsx("span",{className:"impact-label",children:o(d.businessImpact)})]})]}),t.jsxs("div",{className:"result-content",children:[t.jsxs("div",{className:"assessment-section",children:[t.jsx("h6",{children:"Avaliao"}),t.jsx("p",{className:"assessment-text",children:d.assessment})]}),d.gaps.length>0&&t.jsxs("div",{className:"gaps-section",children:[t.jsx("h6",{children:"Gaps Identificados"}),t.jsx("ul",{className:"gaps-list",children:d.gaps.map((u,m)=>t.jsxs("li",{className:"gap-item",children:[t.jsx(ze,{className:"w-3 h-3 text-warning"}),u]},m))})]}),d.recommendations.length>0&&t.jsxs("div",{className:"recommendations-section",children:[t.jsx("h6",{children:"Recomendaes"}),t.jsx("ul",{className:"recommendations-list",children:d.recommendations.map((u,m)=>t.jsxs("li",{className:"recommendation-item",children:[t.jsx(Be,{className:"w-3 h-3 text-success"}),u]},m))})]})]})]},d.id))]}),t.jsx("div",{className:"export-actions mt-4",children:t.jsx("div",{className:"action-buttons",children:t.jsxs("button",{className:"br-button primary",onClick:s,children:[t.jsx(rt,{className:"w-4 h-4 mr-2"}),"Gerar Relatrio Completo"]})})})]})]})})},Ei=()=>{const{lastPromptSent:e,isAnalyzing:s}=It(),a=()=>{e&&navigator.clipboard.writeText(e).then(()=>{alert("Prompt copiado para a rea de transferncia!")}).catch(o=>{console.error("Failed to copy prompt:",o),alert("Erro ao copiar prompt")})},r=o=>new Date(o).toLocaleString("pt-BR"),n=o=>Math.ceil(o.length/4);return!e&&!s?t.jsx("div",{className:"br-tab-panel",children:t.jsx("div",{className:"br-card",children:t.jsxs("div",{className:"card-content text-center",children:[t.jsx(Qt,{className:"w-16 h-16 text-muted mx-auto mb-4"}),t.jsx("h4",{children:"Nenhum prompt enviado ainda"}),t.jsx("p",{children:"O prompt enviado para a LLM aparecer aqui aps a anlise"})]})})}):t.jsx("div",{className:"br-tab-panel",children:t.jsxs("div",{className:"br-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsx("h3",{className:"text-h3",children:"ltimo Prompt Enviado"}),t.jsx("p",{className:"text-regular text-muted",children:"Prompt enviado para a LLM durante a anlise de documentao de negcio"})]}),t.jsx("div",{className:"header-actions",children:t.jsxs("button",{className:"br-button secondary",onClick:a,disabled:!e,children:[t.jsx(ma,{className:"w-4 h-4 mr-2"}),"Copiar"]})})]}),t.jsx("div",{className:"card-content",children:s?t.jsx("div",{className:"loading-state",children:t.jsxs("div",{className:"loading-content",children:[t.jsx("div",{className:"br-loading"}),t.jsx("h4",{children:"Enviando prompt para a LLM..."}),t.jsx("p",{className:"text-muted",children:"Processando solicitao de anlise de negcio"})]})}):t.jsx(t.Fragment,{children:e?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"prompt-metadata mb-4",children:t.jsxs("div",{className:"metadata-grid",children:[t.jsxs("div",{className:"metadata-item",children:[t.jsx("span",{className:"metadata-label",children:"Enviado em:"}),t.jsx("span",{className:"metadata-value",children:r(new Date)})]}),t.jsxs("div",{className:"metadata-item",children:[t.jsx("span",{className:"metadata-label",children:"Tokens:"}),t.jsx("span",{className:"metadata-value",children:n(e)})]}),t.jsxs("div",{className:"metadata-item",children:[t.jsx("span",{className:"metadata-label",children:"Caracteres:"}),t.jsx("span",{className:"metadata-value",children:e.length.toLocaleString("pt-BR")})]})]})}),t.jsxs("div",{className:"prompt-content",children:[t.jsx("div",{className:"content-header",children:t.jsxs("div",{className:"content-title",children:[t.jsx(ha,{className:"w-4 h-4 mr-2"}),"Contedo do Prompt"]})}),t.jsx("div",{className:"prompt-text-container",children:t.jsx("textarea",{value:e,readOnly:!0,className:"br-textarea prompt-textarea",rows:20})})]}),t.jsx("div",{className:"prompt-analysis-info mt-4",children:t.jsxs("div",{className:"br-message info",children:[t.jsx(ze,{className:"w-4 h-4"}),t.jsxs("div",{children:[t.jsx("h5",{children:"Informaes do Prompt"}),t.jsx("p",{className:"text-small",children:"Este prompt foi gerado automaticamente com base nos documentos de negcio selecionados e enviado para a LLM para anlise semntica e verificao de alinhamento."})]})]})})]}):t.jsxs("div",{className:"empty-state",children:[t.jsx(Qt,{className:"w-12 h-12 text-muted mx-auto mb-3"}),t.jsx("h5",{children:"Nenhum prompt disponvel"}),t.jsx("p",{className:"text-muted",children:"Inicie uma anlise para ver o prompt enviado para a LLM"})]})})})]})})},Ci=()=>{const{lastLLMResponse:e,isAnalyzing:s,updateResultManually:a}=It(),[r,n]=y.useState(!1),[o,i]=y.useState(""),[l,c]=y.useState(!1),d=()=>{const w=r?o:e||"";w&&navigator.clipboard.writeText(w).then(()=>{alert("Resposta copiada para a rea de transferncia!")}).catch(R=>{console.error("Failed to copy response:",R),alert("Erro ao copiar resposta")})},u=()=>{i(e||""),n(!0),c(!1)},m=()=>{l&&!confirm("Voc tem alteraes no salvas. Deseja cancelar a edio?")||(n(!1),i(""),c(!1))},v=()=>{l&&o.trim()&&(a({overallAssessment:o}),n(!1),c(!1),alert("Resposta atualizada com sucesso!"))},N=w=>{i(w),c(w!==(e||""))},h=w=>new Date(w).toLocaleString("pt-BR"),g=w=>Math.ceil(w.length/4),E=r?o:e||`# Anlise de Documentao de Negcio

## Resumo da Anlise

Foram analisados 3 documentos de negcio para verificar o alinhamento com a implementao atual do cdigo-fonte. A anlise revelou uma boa aderncia geral aos requisitos, com alguns pontos de ateno identificados.

## Resultados por Documento

### US-001: Login do Usurio
- **Alinhamento:** 85%
- **Status:** Parcialmente Conforme
- **Observaes:** Implementao robusta mas falta autenticao de dois fatores

### pico-005: Gesto de Pagamentos
- **Alinhamento:** 92%
- **Status:** Conforme
- **Observaes:** Implementao completa e bem estruturada

### BR-012: Validao de Crdito
- **Alinhamento:** 78%
- **Status:** Parcialmente Conforme
- **Observaes:** Funcionalidade bsica implementada mas precisa melhorias

## Recomendaes Principais

1. Implementar autenticao de dois fatores para maior segurana
2. Adicionar suporte para moedas internacionais no sistema de pagamentos
3. Melhorar validao de crdito com integrao a bureaus externos
4. Implementar rate limiting para prevenir ataques de brute force

## Concluso

O sistema est bem alinhado com os requisitos de negcio, com um score geral de 85%. As oportunidades de melhoria identificadas so principalmente relacionadas a segurana e expanso de funcionalidades.`;return!e&&!s?t.jsx("div",{className:"br-tab-panel",children:t.jsx("div",{className:"br-card",children:t.jsxs("div",{className:"card-content text-center",children:[t.jsx(tt,{className:"w-16 h-16 text-muted mx-auto mb-4"}),t.jsx("h4",{children:"Nenhuma resposta recebida ainda"}),t.jsx("p",{children:"A resposta da LLM aparecer aqui aps a anlise"})]})})}):t.jsx("div",{className:"br-tab-panel",children:t.jsxs("div",{className:"br-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsx("h3",{className:"text-h3",children:"ltima Resposta da LLM"}),t.jsx("p",{className:"text-regular text-muted",children:"Resposta completa da inteligncia artificial para a anlise de negcio"})]}),t.jsxs("div",{className:"header-actions",children:[!r&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:"br-button secondary",onClick:d,disabled:!E,children:[t.jsx(ma,{className:"w-4 h-4 mr-2"}),"Copiar"]}),e&&t.jsxs("button",{className:"br-button secondary",onClick:u,disabled:s,children:[t.jsx(ks,{className:"w-4 h-4 mr-2"}),"Editar Manualmente"]})]}),r&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:"br-button primary",onClick:v,disabled:!l||!o.trim(),children:[t.jsx(pa,{className:"w-4 h-4 mr-2"}),"Salvar"]}),t.jsxs("button",{className:"br-button secondary",onClick:m,children:[t.jsx(ba,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]})]}),t.jsx("div",{className:"card-content",children:s?t.jsx("div",{className:"loading-state",children:t.jsxs("div",{className:"loading-content",children:[t.jsx("div",{className:"br-loading"}),t.jsx("h4",{children:"Aguardando resposta da LLM..."}),t.jsx("p",{className:"text-muted",children:"Processando anlise de documentao de negcio"})]})}):t.jsx(t.Fragment,{children:E?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"response-metadata mb-4",children:t.jsxs("div",{className:"metadata-grid",children:[t.jsxs("div",{className:"metadata-item",children:[t.jsx("span",{className:"metadata-label",children:"Recebido em:"}),t.jsx("span",{className:"metadata-value",children:h(new Date)})]}),t.jsxs("div",{className:"metadata-item",children:[t.jsx("span",{className:"metadata-label",children:"Tokens:"}),t.jsx("span",{className:"metadata-value",children:g(E)})]}),t.jsxs("div",{className:"metadata-item",children:[t.jsx("span",{className:"metadata-label",children:"Caracteres:"}),t.jsx("span",{className:"metadata-value",children:E.length.toLocaleString("pt-BR")})]})]})}),r&&t.jsxs("div",{className:"br-message warning mb-4",children:[t.jsx(ks,{className:"w-4 h-4"}),t.jsxs("div",{children:[t.jsx("h5",{children:"Modo de Edio"}),t.jsx("p",{className:"text-small",children:"Voc est editando manualmente a resposta da LLM. As alteraes sero salvas e substituiro a resposta original."})]})]}),t.jsxs("div",{className:"response-content",children:[t.jsxs("div",{className:"content-header",children:[t.jsxs("div",{className:"content-title",children:[t.jsx(tt,{className:"w-4 h-4 mr-2"}),r?"Editando Resposta":"Contedo da Resposta"]}),r&&l&&t.jsx("div",{className:"changes-indicator",children:t.jsxs("span",{className:"text-small text-warning",children:[t.jsx(ze,{className:"w-3 h-3 mr-1"}),"Alteraes no salvas"]})})]}),r?t.jsxs("div",{className:"response-editor",children:[t.jsx("textarea",{value:o,onChange:w=>N(w.target.value),className:"br-textarea response-textarea",rows:25,placeholder:"Edite a resposta da LLM aqui..."}),t.jsx("div",{className:"editor-footer",children:t.jsxs("span",{className:"text-small text-muted",children:[o.length," caracteres"]})})]}):t.jsx("div",{className:"response-viewer",children:t.jsx("div",{className:"br-markdown",children:t.jsx("pre",{className:"response-text",children:E})})})]}),t.jsx("div",{className:"response-analysis-info mt-4",children:t.jsxs("div",{className:"br-message info",children:[t.jsx(tt,{className:"w-4 h-4"}),t.jsxs("div",{children:[t.jsx("h5",{children:"Informaes da Resposta"}),t.jsxs("p",{className:"text-small",children:["Esta resposta foi gerada pela LLM com base na anlise semntica dos documentos de negcio.",e?" Voc pode editar manualmente esta resposta se necessrio.":" Esta  uma resposta de demonstrao."]})]})]})})]}):t.jsxs("div",{className:"empty-state",children:[t.jsx(tt,{className:"w-12 h-12 text-muted mx-auto mb-3"}),t.jsx("h5",{children:"Nenhuma resposta disponvel"}),t.jsx("p",{className:"text-muted",children:"Inicie uma anlise para ver a resposta completa da LLM"})]})})})]})})},Ai=()=>{const[e,s]=y.useState("upload"),{businessDocuments:a,selectedDocuments:r,isUploading:n,isAnalyzing:o,currentAnalysis:i,lastPromptSent:l,lastLLMResponse:c,startAnalysis:d,uploadDocuments:u}=It(),m=h=>{u(h)},v=()=>{d(),s("results")},N=()=>{i&&(alert("Relatrio de anlise de negcio baixado com sucesso!"),console.log("Business Analysis Report:",i))};return t.jsxs("div",{className:"business-analysis-page",children:[t.jsx("div",{className:"business-analysis-header",children:t.jsx("div",{className:"br-card",children:t.jsxs("div",{className:"card-header text-center",children:[t.jsx("h1",{className:"text-h1",children:"Anlise de Negcio"}),t.jsx("p",{className:"text-regular",children:"Upload de documentao negocial e anlise de alinhamento com o cdigo-fonte"})]})})}),t.jsx("div",{className:"br-tabs","data-tabs":"business-analysis-tabs",children:t.jsx("nav",{className:"tab-navigation",role:"tablist",children:[{id:"upload",name:"Upload documentao negocial",icon:xa},{id:"results",name:"Resultados",icon:Xt},{id:"prompt",name:"ltimo Prompt Enviado",icon:Qt},{id:"response",name:"ltima Resposta da LLM",icon:tt}].map(h=>t.jsxs("button",{className:`tab-item ${e===h.id?"is-active":""}`,role:"tab","aria-selected":e===h.id,"aria-controls":`tab-${h.id}`,onClick:()=>s(h.id),children:[t.jsx(h.icon,{className:"w-4 h-4 mr-2"}),h.name]},h.id))})}),t.jsxs("div",{className:"br-container",children:[e==="upload"&&t.jsx(wi,{onDocumentsUploaded:m,onStartAnalysis:v}),e==="results"&&t.jsx(Si,{results:i,onDownloadReport:N}),e==="prompt"&&t.jsx(Ei,{}),e==="response"&&t.jsx(Ci,{})]})]})},He=({children:e})=>{const{isAuthenticated:s,isLoading:a}=Te();return a?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900 mx-auto"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando..."})]})}):s?t.jsx(t.Fragment,{children:e}):t.jsx(Nt,{to:"/login",replace:!0})},Ri=()=>t.jsxs("div",{className:"dashboard-page",children:[t.jsx("div",{className:"dashboard-header",children:t.jsx("div",{className:"br-card",children:t.jsxs("div",{className:"card-header text-center",children:[t.jsxs("h1",{className:"text-h3",children:["Bem-vindo ao AVAL",t.jsx("span",{style:{color:"#EAB308"},children:"IA"}),"!"]}),t.jsx("p",{className:"text-regular",children:"Sistema de Qualidade de Cdigo com IA"})]})})}),t.jsx("div",{className:"dashboard-content",children:t.jsx("div",{className:"br-card",children:t.jsxs("div",{className:"card-content",children:[t.jsxs("div",{className:"welcome-section",children:[t.jsx("h2",{className:"text-h2",children:" Login realizado com sucesso!"}),t.jsx("p",{className:"text-regular",children:"Voc est autenticado no sistema. Abaixo esto as funcionalidades disponveis:"})]}),t.jsxs("div",{className:"features-grid",children:[t.jsxs(xe,{to:"/prompt-config",className:"feature-card",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("h3",{className:"feature-title",children:"Configurao de Prompts"}),t.jsx("p",{className:"feature-description",children:"Configure e gerencie os prompts de anlise de cdigo"})]}),t.jsxs(xe,{to:"/code-upload",className:"feature-card",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("h3",{className:"feature-title",children:"Upload de Cdigo"}),t.jsx("p",{className:"feature-description",children:"Faa upload dos arquivos de cdigo para anlise"})]}),t.jsxs(xe,{to:"/general-analysis",className:"feature-card",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("h3",{className:"feature-title",children:"Anlise Geral"}),t.jsx("p",{className:"feature-description",children:"Anlise de cdigo baseada em critrios gerais de qualidade"})]}),t.jsxs(xe,{to:"/architectural-analysis",className:"feature-card",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("h3",{className:"feature-title",children:"Anlise Arquitetural"}),t.jsx("p",{className:"feature-description",children:"Avaliao da arquitetura e estrutura do projeto"})]}),t.jsxs(xe,{to:"/business-analysis",className:"feature-card",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("h3",{className:"feature-title",children:"Anlise de Negcio"}),t.jsx("p",{className:"feature-description",children:"Anlise de impacto e valor de negcio do cdigo"})]})]}),t.jsx("div",{className:"features-list",children:t.jsxs("div",{className:"br-list",children:[t.jsxs(xe,{to:"/prompt-config",className:"br-item",children:[t.jsx("span",{className:"br-list-title",children:""}),t.jsx("span",{className:"br-list-text",children:"Configurao de Prompts"})]}),t.jsxs(xe,{to:"/code-upload",className:"br-item",children:[t.jsx("span",{className:"br-list-title",children:""}),t.jsx("span",{className:"br-list-text",children:"Upload de Cdigo"})]}),t.jsxs(xe,{to:"/general-analysis",className:"br-item",children:[t.jsx("span",{className:"br-list-title",children:""}),t.jsx("span",{className:"br-list-text",children:"Anlise Geral"})]}),t.jsxs(xe,{to:"/architectural-analysis",className:"br-item",children:[t.jsx("span",{className:"br-list-title",children:""}),t.jsx("span",{className:"br-list-text",children:"Anlise Arquitetural"})]}),t.jsxs(xe,{to:"/business-analysis",className:"br-item",children:[t.jsx("span",{className:"br-list-title",children:""}),t.jsx("span",{className:"br-list-text",children:"Anlise de Negcio"})]})]})}),t.jsx("div",{className:"logout-section",children:t.jsx("button",{onClick:()=>{localStorage.removeItem("auth-storage"),window.location.reload()},className:"logout-button",children:"Sair do Sistema"})})]})})})]});function ki(){return Ie.useEffect(()=>{document.title="AVALIA Code Quality System"},[]),Ie.useEffect(()=>{var a,r;const e={user:{id:"dev-user-1",username:"dev",email:"dev@verificai.com",full_name:"Developer User"},token:"dev-token-12345",isAuthenticated:!0,isLoading:!1},s=localStorage.getItem("auth-storage");if(!s)localStorage.setItem("auth-storage",JSON.stringify({state:e}));else try{const n=JSON.parse(s);(!((a=n.state)!=null&&a.user)||!((r=n.state)!=null&&r.token))&&localStorage.setItem("auth-storage",JSON.stringify({state:e}))}catch{localStorage.setItem("auth-storage",JSON.stringify({state:e}))}},[]),t.jsxs(wa,{children:[t.jsx(Se,{path:"/dashboard",element:t.jsx(He,{children:t.jsx(Ri,{})})}),t.jsx(Se,{path:"/prompt-config",element:t.jsx(He,{children:t.jsx(Wo,{})})}),t.jsx(Se,{path:"/code-upload",element:t.jsx(He,{children:t.jsx(Yo,{})})}),t.jsx(Se,{path:"/general-analysis",element:t.jsx(He,{children:t.jsx(fi,{})})}),t.jsx(Se,{path:"/architectural-analysis",element:t.jsx(He,{children:t.jsx(gi,{})})}),t.jsx(Se,{path:"/business-analysis",element:t.jsx(He,{children:t.jsx(Ai,{})})}),t.jsx(Se,{path:"/login",element:t.jsx(Di,{children:t.jsx(uo,{})})}),t.jsx(Se,{path:"/",element:t.jsx(Nt,{to:"/dashboard",replace:!0})}),t.jsx(Se,{path:"*",element:t.jsx(Nt,{to:"/dashboard",replace:!0})})]})}const Di=({children:e})=>{const{isAuthenticated:s,isLoading:a}=Te();return a?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900 mx-auto"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando..."})]})}):s?t.jsx(Nt,{to:"/dashboard",replace:!0}):t.jsx(t.Fragment,{children:e})},Pi=new va({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});Bt.createRoot(document.getElementById("root")).render(t.jsx(Ie.StrictMode,{children:t.jsx(ja,{client:Pi,children:t.jsxs(Sa,{children:[t.jsx(ki,{}),t.jsx(vr,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})}));
//# sourceMappingURL=index-C5icXwnn.js.map
