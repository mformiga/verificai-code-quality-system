{"version":3,"mappings":"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","names":["m","require$$0","client","e","t","l","a","n","o","r","c","s","i","p","u","d","f","g","h","j","Z","W","E","re","k","H","v","Y","_","Q","S","se","V","te","oe","ee","T","ie","P","ce","w","ne","A","X","R","z","O","K","B","I","de","M","me","le","C","pe","Te","fe","F","ue","ge","q","he","L","ye","be","U","Se","Ae","xe","Pe","$","b.createElement","Re","Ee","ve","De","Oe","J","Ie","ke","G","N","y.memo","y.createElement","y.Fragment","Ve","x.createElement","we","x.useCallback","Me","Ce","_e","D","Fe","zt","trackedConnections","getTrackedConnectionState","name","api","key","api2","extractConnectionInformation","store","extensionConnector","options","existingConnection","newConnection","devtoolsImpl","fn","devtoolsOptions","set","get","enabled","anonymousActionType","__vite_import_meta_env__","connection","connectionInformation","isRecording","state","replace","nameOrAction","action","setStateFromDevtools","originalIsRecording","initialState","store2","didWarnAboutReservedActionType","originalDispatch","message","_a","parseJsonThen","stateFromDevtools","nextLiftedState","lastComputedState","devtools","stringified","parsed","createJSONStorage","getStorage","storage","parse","str2","str","newValue","toThenable","input","result","onFulfilled","_onRejected","_onFulfilled","onRejected","oldImpl","config","baseOptions","persistedState","currentState","hasHydrated","hydrationListeners","finishHydrationListeners","args","thenableSerialize","setItem","errorInSync","thenable","serializedValue","savedSetState","configResult","stateFromStorage","hydrate","cb","postRehydrationCallback","storageValue","deserializedStorageValue","migratedState","_a2","newOptions","newImpl","_b","migrationResult","migrated","persistImpl","persist","bind","thisArg","toString","getPrototypeOf","iterator","toStringTag","kindOf","cache","thing","kindOfTest","type","typeOfTest","isArray","isUndefined","isBuffer","val","isFunction","isArrayBuffer","isArrayBufferView","isString","isNumber","isObject","isBoolean","isPlainObject","prototype","isEmptyObject","isDate","isFile","isBlob","isFileList","isStream","isFormData","kind","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","trim","forEach","obj","allOwnKeys","keys","len","findKey","_key","_global","isContextDefined","context","merge","caseless","skipUndefined","assignValue","targetKey","extend","b","stripBOM","content","inherits","constructor","superConstructor","props","descriptors","toFlatObject","sourceObj","destObj","filter","propFilter","prop","merged","endsWith","searchString","position","lastIndex","toArray","arr","isTypedArray","TypedArray","forEachEntry","_iterator","pair","matchAll","regExp","matches","isHTMLForm","toCamelCase","p1","p2","hasOwnProperty","isRegExp","reduceDescriptors","reducer","reducedDescriptors","descriptor","ret","freezeMethods","value","toObjectSet","arrayOrString","delimiter","define","noop","toFiniteNumber","defaultValue","isSpecCompliantForm","toJSONObject","stack","visit","source","target","reducedValue","isAsyncFn","isThenable","_setImmediate","setImmediateSupported","postMessageSupported","token","callbacks","data","asap","isIterable","utils$1","AxiosError","code","request","response","utils","error","customProps","axiosError","msg","errCode","httpAdapter","isVisitable","removeBrackets","renderKey","path","dots","isFlatArray","predicates","toFormData","formData","option","metaTokens","visitor","defaultVisitor","indexes","useBlob","convertValue","el","index","exposedHelpers","build","encode","charMap","match","AxiosURLSearchParams","params","encoder","_encode","buildURL","url","serializeFn","serializedParams","hashmarkIndex","InterceptorManager","fulfilled","rejected","id","transitionalDefaults","URLSearchParams$1","FormData$1","Blob$1","platform$1","URLSearchParams","FormData","Blob","hasBrowserEnv","_navigator","hasStandardBrowserEnv","hasStandardBrowserWebWorkerEnv","origin","platform","toURLEncodedForm","helpers","parsePropPath","arrayToObject","formDataToJSON","buildPath","isNumericKey","isLast","stringifySafely","rawValue","parser","defaults","headers","contentType","hasJSONContentType","isObjectPayload","_FormData","transitional","forcedJSONParsing","JSONRequested","strictJSONParsing","status","method","ignoreDuplicateOf","parseHeaders","rawHeaders","line","$internals","normalizeHeader","header","normalizeValue","parseTokens","tokens","tokensRE","isValidHeaderName","matchHeaderValue","isHeaderNameFilter","formatHeader","char","buildAccessors","accessorName","methodName","arg1","arg2","arg3","AxiosHeaders$1","valueOrRewrite","rewrite","self","setHeader","_value","_header","_rewrite","lHeader","setHeaders","dest","entry","matcher","deleted","deleteHeader","format","normalized","targets","asStrings","first","computed","accessors","defineAccessor","AxiosHeaders","mapped","headerValue","transformData","fns","isCancel","CanceledError","settle","resolve","reject","validateStatus","parseProtocol","speedometer","samplesCount","min","bytes","timestamps","head","tail","firstSampleTS","chunkLength","now","startedAt","bytesCount","passed","throttle","freq","timestamp","threshold","lastArgs","timer","invoke","progressEventReducer","listener","isDownloadStream","bytesNotified","_speedometer","loaded","total","progressBytes","rate","inRange","progressEventDecorator","throttled","lengthComputable","asyncDecorator","isURLSameOrigin","isMSIE","cookies","expires","domain","secure","cookie","isAbsoluteURL","combineURLs","baseURL","relativeURL","buildFullPath","requestedURL","allowAbsoluteUrls","isRelativeUrl","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","resolveConfig","newConfig","withXSRFToken","xsrfHeaderName","xsrfCookieName","auth","formHeaders","allowedHeaders","xsrfValue","isXHRAdapterSupported","xhrAdapter","_config","requestData","requestHeaders","responseType","onUploadProgress","onDownloadProgress","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","done","onloadend","responseHeaders","err","event","timeoutErrorMessage","cancel","protocol","composeSignals","signals","timeout","length","controller","aborted","onabort","reason","unsubscribe","signal","streamChunk","chunk","chunkSize","pos","end","readBytes","iterable","readStream","stream","reader","trackStream","onProgress","onFinish","_onFinish","loadedBytes","DEFAULT_CHUNK_SIZE","globalFetchAPI","Request","Response","ReadableStream","TextEncoder","test","factory","env","envFetch","isFetchSupported","isRequestSupported","isResponseSupported","isReadableStreamSupported","encodeText","supportsRequestStream","duplexAccessed","hasContentType","supportsResponseStream","resolvers","res","getBodyLength","body","resolveBodyLength","cancelToken","withCredentials","fetchOptions","_fetch","composedSignal","requestContentLength","_request","contentTypeHeader","flush","isCredentialsSupported","resolvedOptions","isStreamResponse","responseContentLength","responseData","seedCache","getFetch","fetch","seeds","seed","map","knownAdapters","fetchAdapter.getFetch","renderReason","isResolvedHandle","adapter","adapters","nameOrAdapter","rejectedReasons","reasons","throwIfCancellationRequested","dispatchRequest","VERSION","validators","deprecatedWarnings","validator","version","formatMessage","opt","desc","opts","correctSpelling","assertOptions","schema","allowUnknown","Axios$1","instanceConfig","configOrUrl","dummy","paramsSerializer","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","promise","chain","fullPath","Axios","generateHTTPMethod","isForm","CancelToken$1","CancelToken","executor","resolvePromise","onfulfilled","_resolve","abort","spread","callback","isAxiosError","payload","HttpStatusCode","createInstance","defaultConfig","instance","axios","promises","all","Cancel","formToJSON","getAdapter","apiClient","authData","apiError","_c","_d","_g","_f","_h","authService","credentials","getAuthToken","directToken","getAuthHeaders","isAuthenticated","storeToken","useAuthStore","create","user","loading","useAuth","loginSchema","z.object","z.string","LoginPage","login","isLoading","React","register","handleSubmit","errors","useForm","zodResolver","onSubmit","jsxs","jsx","Fragment","Link","promptService","prompts","promptId","promptsData","createEmptyPrompt","usePromptStore","freshPrompts","defaultPrompts","promptType","restoredPrompt","PromptEditor","onChange","language","placeholder","disabled","editorRef","useRef","selectionStart","setSelectionStart","useState","selectionEnd","setSelectionEnd","insertText","text","textarea","start","selectedText","newText","formatSelection","before","after","handleKeyDown","handleSelectionChange","getWordCount","getCharCount","useEffect","formatDistanceLocale","formatDistance","count","tokenValue","dateFormats","timeFormats","dateTimeFormats","formatLong","buildFormatLongFn","formatRelativeLocale","date","weekday","formatRelative","_baseDate","_options","eraValues","quarterValues","monthValues","dayValues","dayPeriodValues","formattingDayPeriodValues","ordinalNumber","dirtyNumber","number","localize","buildLocalizeFn","quarter","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","buildMatchPatternFn","buildMatchFn","ptBR","AutoSaveIndicator","isSaving","lastSaved","hasUnsavedChanges","getStatusText","formatDistanceToNow","getStatusClass","getStatusIcon","VersionHistory","versions","onRestore","currentVersion","sortedVersions","PromptToolbar","onSave","onDiscard","onRestoreDefaults","PromptConfig","activePromptType","updatePrompt","setActivePromptType","savePrompts","discardChanges","restoreDefaults","loadPrompts","clearAutoSaveTimer","getVersionHistory","restoreVersion","versionHistory","setVersionHistory","history","handlePromptChange","handleTabChange","handleRestoreVersion","currentPrompt","getTabLabel","getPlaceholder","PromptConfigPage","generateUUID","PathList","initialPaths","onLoadPaths","autoRefresh","onFolderSelect","onError","onSelectionComplete","paths","setPaths","setLoading","setError","searchTerm","setSearchTerm","isScanning","setIsScanning","scanProgress","setScanProgress","selectedFolderPath","setSelectedFolderPath","fileInputRef","sortBy","setSortBy","sortOrder","setSortOrder","selectedFiles","setSelectedFiles","formatFileSize","sizes","useCallback","filePaths","mockFiles","mockFile","prevPaths","formatDate","dateString","getFileExtension","fileName","parts","handleFolderSelect","files","firstFile","relativePath","folderPath","file","pathParts","relativePathForStorage","filePath","__vitePreload","authHeaders","uploadedFilePaths","errorText","loadPaths","handleFileInputChange","requestUrl","transformedPaths","pathStr","fileExtension","errorMessage","filteredAndSortedPaths","filtered","term","aValue","bValue","handleFileSelect","fileId","prev","newSet","handleSelectAll","handleRemoveSelected","confirmMessage","handleRemoveFile","handleHardReset","copyToClipboard","exportToCSV","csvContent","row","cell","blob","link","isAuthError","CodeUploadPage","refreshKey","setRefreshKey","toast","handleFolderError","handleSelectionComplete","toKebabCase","string","mergeClasses","classes","className","array","defaultAttributes","Icon","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","children","iconNode","rest","ref","createElement","tag","attrs","createLucideIcon","iconName","Component","ChartBar","ChartColumn","CircleAlert","CircleCheckBig","CircleHelp","CircleX","Circle","Clock","Copy","Download","ExternalLink","Eye","FileText","FolderOpen","LoaderCircle","MessageSquare","Pen","Play","Plus","RefreshCw","Save","Send","Settings","SquareCheckBig","SquarePen","Square","Target","Trash2","TrendingUp","TriangleAlert","Upload","API_BASE_URL","criteriaService","storedAuth","publicResponse","publicCriteria","storedCriteria","forceResponse","forceCriteria","forceError","emergencyCriteria","currentCriteria","newOrder","newCriterion","updatedCriteria","criterion","verifySaved","numericId","criterionId","shouldKeep","formattedId","active","CriteriaList","onCriteriaSelect","onAnalyzeCriterion","onAnalyzeSelected","onCriteriaChange","criteria","setCriteria","editingCriterion","setEditingCriterion","editingText","setEditingText","selectedCriteria","setSelectedCriteria","sortedCriteria","loadCriteria","addCriterion","updateCriterion","updates","deleteCriterion","startEdit","saveEdit","cancelEdit","toggleCriterion","handleAnalyze","toggleCriterionSelection","newSelected","selectAllCriteria","allCriteriaIds","selectedIds","isAllSelected","handleAnalyzeSelected","CheckSquare","Loader2","Edit2","ProgressTracker","progress","onCancel","CheckCircle","XCircle","getStatusMessage","getProgressColor","steps","step","CodeBlock","lineNumbers","getLanguageClass","lang","codeContent","startLine","endLine","lines","formattedLines","lineNumber","ResultsTable","results","onDownloadDocx","onDeleteResults","expandedRows","setExpandedRows","selectedResults","setSelectedResults","showDeleteButton","setShowDeleteButton","fullCriteriaText","setFullCriteriaText","allCriteria","setAllCriteria","textMapping","shortName","getFullCriterionText","criterionName","matchingCriterion","sortedResults","toggleRow","newExpanded","handleSelectResult","resultId","allIds","handleDeleteSelected","AlertTriangle","HelpCircle","getStatusBadge","formatAssessment","assessment","paragraph","pIndex","lIndex","headingLevel","headingText","HeadingTag","itemText","evidence","recommendation","analysisService","resultIds","LatestPromptViewer","promptData","setPromptData","loadLatestPrompt","formatTokenCount","downloadPrompt","AlertCircle","LatestResponseViewer","setResponseData","loadLatestResponse","downloadResponse","useUploadStore","fileData","progressInterval","currentProgress","GeneralAnalysisPage","uploadStore","reloadDbPaths","uploadedFiles","dbFilePaths","setDbFilePaths","endpoints","endpoint","fp","endpointError","getAnalysisFilePaths","freshPaths","currentAnalysis","setCurrentAnalysis","setResults","resultsManuallyCleared","setResultsManuallyCleared","activeTab","setActiveTab","selectedCriteriaIds","setSelectedCriteriaIds","showProgress","setShowProgress","setProgress","confirmModalOpen","setConfirmModalOpen","pendingAnalysis","setPendingAnalysis","latestTokenInfo","setLatestTokenInfo","savedResults","criteriaTextToIdMap","shortText","mostRecentResult","formattedResults","criterionData","confidence","confidenceMatch","confidenceValue","statusMatch","statusText","criterionNameFromDB","criteriaId","finalCriterionText","refreshResults","loadLatestTokenInfo","tokenInfo","handleCancelAnalysis","handleDeleteResults","databaseResults","newResults","uniqueDatabaseResultIds","successMessage","handleAnalyzeCriterion","criterionObj","criteriaKey","deleteError","newResultEntry","newResult","prevResults","existingIndex","updatedResults","executeAnalysis","selectedCriteriaMap","allCriteriaData","keyIndex","originalCriteriaId","criterionText","mergedResults","existingResult","analyzedResult","textMatch","existingText","existingKey","newKey","newCriteriaResults","existing","existingCriteriaIds","handleConfirmAnalysis","handleCancelModalAnalysis","loadAllCriteria","generateReportContent","currentDate","currentTime","acc","statusClass","processedText","rec","ev","handleDownloadDocx","tab","selected","ArchitecturalAnalysisPage","isAnalyzing","setIsAnalyzing","mockResults","handleFileUpload","startAnalysis","BarChart3","byteToHex","unsafeStringify","offset","getRandomValues","rnds8","rng","randomUUID","native","_v4","buf","rnds","v4","useBusinessAnalysisStore","documents","documentId","doc","mockAnalysis","uuidv4","mockPrompt","mockResponse","analysis","prompt","interaction","isManual","settings","BusinessDocumentUpload","onDocumentsUploaded","onStartAnalysis","businessDocuments","isUploading","uploadDocuments","deleteDocument","determineDocumentType","lowerFileName","lowerContent","getDocumentTypeLabel","getDocumentTypeIcon","readFileContent","ext","documentType","document","handleStartAnalysis","BusinessAnalysisResults","onDownloadReport","mockDocumentResults","getAlignmentScoreColor","score","getBusinessImpactIcon","impact","getBusinessImpactLabel","overallAlignment","sum","gap","PromptViewer","lastPromptSent","handleCopyToClipboard","formatTimestamp","countTokens","LLMResponseViewer","lastLLMResponse","updateResultManually","isEditing","setIsEditing","editedResponse","setEditedResponse","hasChanges","setHasChanges","responseToCopy","handleStartEditing","handleCancelEditing","handleSaveEditing","handleResponseChange","responseContent","Edit","BusinessAnalysisPage","selectedDocuments","handleDocumentsUploaded","handleDownloadReport","ProtectedRoute","Navigate","DashboardPage","App","devUser","Routes","Route","PublicRoute","queryClient","QueryClient","ReactDOM","QueryClientProvider","BrowserRouter","Toaster"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,58,64,65,66,67,68,69,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,124,125,126,127],"sources":["../../../node_modules/react-dom/client.js","../../../node_modules/goober/dist/goober.modern.js","../../../node_modules/react-hot-toast/dist/index.mjs","../../../node_modules/zustand/esm/middleware.mjs","../../../node_modules/axios/lib/helpers/bind.js","../../../node_modules/axios/lib/utils.js","../../../node_modules/axios/lib/core/AxiosError.js","../../../node_modules/axios/lib/helpers/null.js","../../../node_modules/axios/lib/helpers/toFormData.js","../../../node_modules/axios/lib/helpers/AxiosURLSearchParams.js","../../../node_modules/axios/lib/helpers/buildURL.js","../../../node_modules/axios/lib/core/InterceptorManager.js","../../../node_modules/axios/lib/defaults/transitional.js","../../../node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","../../../node_modules/axios/lib/platform/browser/classes/FormData.js","../../../node_modules/axios/lib/platform/browser/classes/Blob.js","../../../node_modules/axios/lib/platform/browser/index.js","../../../node_modules/axios/lib/platform/common/utils.js","../../../node_modules/axios/lib/platform/index.js","../../../node_modules/axios/lib/helpers/toURLEncodedForm.js","../../../node_modules/axios/lib/helpers/formDataToJSON.js","../../../node_modules/axios/lib/defaults/index.js","../../../node_modules/axios/lib/helpers/parseHeaders.js","../../../node_modules/axios/lib/core/AxiosHeaders.js","../../../node_modules/axios/lib/core/transformData.js","../../../node_modules/axios/lib/cancel/isCancel.js","../../../node_modules/axios/lib/cancel/CanceledError.js","../../../node_modules/axios/lib/core/settle.js","../../../node_modules/axios/lib/helpers/parseProtocol.js","../../../node_modules/axios/lib/helpers/speedometer.js","../../../node_modules/axios/lib/helpers/throttle.js","../../../node_modules/axios/lib/helpers/progressEventReducer.js","../../../node_modules/axios/lib/helpers/isURLSameOrigin.js","../../../node_modules/axios/lib/helpers/cookies.js","../../../node_modules/axios/lib/helpers/isAbsoluteURL.js","../../../node_modules/axios/lib/helpers/combineURLs.js","../../../node_modules/axios/lib/core/buildFullPath.js","../../../node_modules/axios/lib/core/mergeConfig.js","../../../node_modules/axios/lib/helpers/resolveConfig.js","../../../node_modules/axios/lib/adapters/xhr.js","../../../node_modules/axios/lib/helpers/composeSignals.js","../../../node_modules/axios/lib/helpers/trackStream.js","../../../node_modules/axios/lib/adapters/fetch.js","../../../node_modules/axios/lib/adapters/adapters.js","../../../node_modules/axios/lib/core/dispatchRequest.js","../../../node_modules/axios/lib/env/data.js","../../../node_modules/axios/lib/helpers/validator.js","../../../node_modules/axios/lib/core/Axios.js","../../../node_modules/axios/lib/cancel/CancelToken.js","../../../node_modules/axios/lib/helpers/spread.js","../../../node_modules/axios/lib/helpers/isAxiosError.js","../../../node_modules/axios/lib/helpers/HttpStatusCode.js","../../../node_modules/axios/lib/axios.js","../../../node_modules/axios/index.js","../../src/services/apiClient.ts","../../src/services/authService.ts","../../src/utils/auth.ts","../../src/stores/authStore.ts","../../../node_modules/@hookform/resolvers/zod/dist/zod.mjs","../../src/hooks/useAuth.ts","../../src/pages/LoginPage.tsx","../../src/services/promptService.ts","../../src/stores/promptStore.ts","../../src/components/features/PromptConfig/PromptEditor.tsx","../../../node_modules/date-fns/locale/pt-BR/_lib/formatDistance.js","../../../node_modules/date-fns/locale/pt-BR/_lib/formatLong.js","../../../node_modules/date-fns/locale/pt-BR/_lib/formatRelative.js","../../../node_modules/date-fns/locale/pt-BR/_lib/localize.js","../../../node_modules/date-fns/locale/pt-BR/_lib/match.js","../../../node_modules/date-fns/locale/pt-BR.js","../../src/components/features/PromptConfig/AutoSaveIndicator.tsx","../../src/components/features/PromptConfig/VersionHistory.tsx","../../src/components/features/PromptConfig/PromptToolbar.tsx","../../src/components/features/PromptConfig/PromptConfig.tsx","../../src/pages/PromptConfigPage.tsx","../../src/components/features/CodeUpload/PathList.tsx","../../src/pages/CodeUploadPage.tsx","../../../node_modules/lucide-react/dist/esm/shared/src/utils.js","../../../node_modules/lucide-react/dist/esm/defaultAttributes.js","../../../node_modules/lucide-react/dist/esm/Icon.js","../../../node_modules/lucide-react/dist/esm/createLucideIcon.js","../../../node_modules/lucide-react/dist/esm/icons/chart-bar.js","../../../node_modules/lucide-react/dist/esm/icons/chart-column.js","../../../node_modules/lucide-react/dist/esm/icons/circle-alert.js","../../../node_modules/lucide-react/dist/esm/icons/circle-check-big.js","../../../node_modules/lucide-react/dist/esm/icons/circle-help.js","../../../node_modules/lucide-react/dist/esm/icons/circle-x.js","../../../node_modules/lucide-react/dist/esm/icons/circle.js","../../../node_modules/lucide-react/dist/esm/icons/clock.js","../../../node_modules/lucide-react/dist/esm/icons/copy.js","../../../node_modules/lucide-react/dist/esm/icons/download.js","../../../node_modules/lucide-react/dist/esm/icons/external-link.js","../../../node_modules/lucide-react/dist/esm/icons/eye.js","../../../node_modules/lucide-react/dist/esm/icons/file-text.js","../../../node_modules/lucide-react/dist/esm/icons/folder-open.js","../../../node_modules/lucide-react/dist/esm/icons/loader-circle.js","../../../node_modules/lucide-react/dist/esm/icons/message-square.js","../../../node_modules/lucide-react/dist/esm/icons/pen.js","../../../node_modules/lucide-react/dist/esm/icons/play.js","../../../node_modules/lucide-react/dist/esm/icons/plus.js","../../../node_modules/lucide-react/dist/esm/icons/refresh-cw.js","../../../node_modules/lucide-react/dist/esm/icons/save.js","../../../node_modules/lucide-react/dist/esm/icons/send.js","../../../node_modules/lucide-react/dist/esm/icons/settings.js","../../../node_modules/lucide-react/dist/esm/icons/square-check-big.js","../../../node_modules/lucide-react/dist/esm/icons/square-pen.js","../../../node_modules/lucide-react/dist/esm/icons/square.js","../../../node_modules/lucide-react/dist/esm/icons/target.js","../../../node_modules/lucide-react/dist/esm/icons/trash-2.js","../../../node_modules/lucide-react/dist/esm/icons/trending-up.js","../../../node_modules/lucide-react/dist/esm/icons/triangle-alert.js","../../../node_modules/lucide-react/dist/esm/icons/upload.js","../../../node_modules/lucide-react/dist/esm/icons/x.js","../../src/services/criteriaService.ts","../../src/components/features/Analysis/CriteriaList.tsx","../../src/components/features/Analysis/ProgressTracker.tsx","../../src/components/common/CodeBlock.tsx","../../src/components/features/Analysis/ResultsTable.tsx","../../src/services/analysisService.ts","../../src/components/features/Analysis/LatestPromptViewer.tsx","../../src/components/features/Analysis/LatestResponseViewer.tsx","../../src/stores/uploadStore.ts","../../src/pages/GeneralAnalysisPage.tsx","../../src/pages/ArchitecturalAnalysisPage.tsx","../../../node_modules/uuid/dist/stringify.js","../../../node_modules/uuid/dist/rng.js","../../../node_modules/uuid/dist/native.js","../../../node_modules/uuid/dist/v4.js","../../src/stores/businessAnalysisStore.ts","../../src/components/features/Analysis/BusinessDocumentUpload.tsx","../../src/components/features/Analysis/BusinessAnalysisResults.tsx","../../src/components/features/Analysis/PromptViewer.tsx","../../src/components/features/Analysis/LLMResponseViewer.tsx","../../src/pages/BusinessAnalysisPage.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","let e={data:\"\"},t=t=>\"object\"==typeof window?((t?t.querySelector(\"#_goober\"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement(\"style\")),{innerHTML:\" \",id:\"_goober\"})).firstChild:t||e,r=e=>{let r=t(e),l=r.data;return r.data=\"\",l},l=/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g,a=/\\/\\*[^]*?\\*\\/|  +/g,n=/\\n+/g,o=(e,t)=>{let r=\"\",l=\"\",a=\"\";for(let n in e){let c=e[n];\"@\"==n[0]?\"i\"==n[1]?r=n+\" \"+c+\";\":l+=\"f\"==n[1]?o(c,n):n+\"{\"+o(c,\"k\"==n[1]?\"\":t)+\"}\":\"object\"==typeof c?l+=o(c,t?t.replace(/([^,])+/g,e=>n.replace(/([^,]*:\\S+\\([^)]*\\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+\" \"+t:t)):n):null!=c&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,\"-$&\").toLowerCase(),a+=o.p?o.p(n,c):n+\":\"+c+\";\")}return r+(t&&a?t+\"{\"+a+\"}\":a)+l},c={},s=e=>{if(\"object\"==typeof e){let t=\"\";for(let r in e)t+=r+s(e[r]);return t}return e},i=(e,t,r,i,p)=>{let u=s(e),d=c[u]||(c[u]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return\"go\"+r})(u));if(!c[d]){let t=u!==e?e:(e=>{let t,r,o=[{}];for(;t=l.exec(e.replace(a,\"\"));)t[4]?o.shift():t[3]?(r=t[3].replace(n,\" \").trim(),o.unshift(o[0][r]=o[0][r]||{})):o[0][t[1]]=t[2].replace(n,\" \").trim();return o[0]})(e);c[d]=o(p?{[\"@keyframes \"+d]:t}:t,r?\"\":\".\"+d)}let f=r&&c.g?c.g:null;return r&&(c.g=c[d]),((e,t,r,l)=>{l?t.data=t.data.replace(l,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(c[d],t,i,f),d},p=(e,t,r)=>e.reduce((e,l,a)=>{let n=t[a];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?\".\"+t:e&&\"object\"==typeof e?e.props?\"\":o(e,\"\"):!1===e?\"\":e}return e+l+(null==n?\"\":n)},\"\");function u(e){let r=this||{},l=e.call?e(r.p):e;return i(l.unshift?l.raw?p(l,[].slice.call(arguments,1),r.p):l.reduce((e,t)=>Object.assign(e,t&&t.call?t(r.p):t),{}):l,t(r.target),r.g,r.o,r.k)}let d,f,g,b=u.bind({g:1}),h=u.bind({k:1});function m(e,t,r,l){o.p=t,d=e,f=r,g=l}function j(e,t){let r=this||{};return function(){let l=arguments;function a(n,o){let c=Object.assign({},n),s=c.className||a.className;r.p=Object.assign({theme:f&&f()},c),r.o=/ *go\\d+/.test(s),c.className=u.apply(r,l)+(s?\" \"+s:\"\"),t&&(c.ref=o);let i=e;return e[0]&&(i=c.as||e,delete c.as),g&&i[0]&&g(c),d(i,c)}return t?t(a):a}}export{u as css,r as extractCss,b as glob,h as keyframes,m as setup,j as styled};\n","\"use client\";\nvar Z=e=>typeof e==\"function\",h=(e,t)=>Z(e)?e(t):e;var W=(()=>{let e=0;return()=>(++e).toString()})(),E=(()=>{let e;return()=>{if(e===void 0&&typeof window<\"u\"){let t=matchMedia(\"(prefers-reduced-motion: reduce)\");e=!t||t.matches}return e}})();import{useEffect as ee,useState as te,useRef as oe}from\"react\";var re=20,k=\"default\";var H=(e,t)=>{let{toastLimit:o}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,o)};case 1:return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case 2:let{toast:s}=t;return H(e,{type:e.toasts.find(r=>r.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(r=>r.id===a||a===void 0?{...r,dismissed:!0,visible:!1}:r)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(r=>({...r,pauseDuration:r.pauseDuration+i}))}}},v=[],j={toasts:[],pausedAt:void 0,settings:{toastLimit:re}},f={},Y=(e,t=k)=>{f[t]=H(f[t]||j,e),v.forEach(([o,s])=>{o===t&&s(f[t])})},_=e=>Object.keys(f).forEach(t=>Y(e,t)),Q=e=>Object.keys(f).find(t=>f[t].toasts.some(o=>o.id===e)),S=(e=k)=>t=>{Y(t,e)},se={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V=(e={},t=k)=>{let[o,s]=te(f[t]||j),a=oe(f[t]);ee(()=>(a.current!==f[t]&&s(f[t]),v.push([t,s]),()=>{let r=v.findIndex(([l])=>l===t);r>-1&&v.splice(r,1)}),[t]);let i=o.toasts.map(r=>{var l,g,T;return{...e,...e[r.type],...r,removeDelay:r.removeDelay||((l=e[r.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:r.duration||((g=e[r.type])==null?void 0:g.duration)||(e==null?void 0:e.duration)||se[r.type],style:{...e.style,...(T=e[r.type])==null?void 0:T.style,...r.style}}});return{...o,toasts:i}};var ie=(e,t=\"blank\",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:\"status\",\"aria-live\":\"polite\"},message:e,pauseDuration:0,...o,id:(o==null?void 0:o.id)||W()}),P=e=>(t,o)=>{let s=ie(t,e,o);return S(s.toasterId||Q(s.id))({type:2,toast:s}),s.id},n=(e,t)=>P(\"blank\")(e,t);n.error=P(\"error\");n.success=P(\"success\");n.loading=P(\"loading\");n.custom=P(\"custom\");n.dismiss=(e,t)=>{let o={type:3,toastId:e};t?S(t)(o):_(o)};n.dismissAll=e=>n.dismiss(void 0,e);n.remove=(e,t)=>{let o={type:4,toastId:e};t?S(t)(o):_(o)};n.removeAll=e=>n.remove(void 0,e);n.promise=(e,t,o)=>{let s=n.loading(t.loading,{...o,...o==null?void 0:o.loading});return typeof e==\"function\"&&(e=e()),e.then(a=>{let i=t.success?h(t.success,a):void 0;return i?n.success(i,{id:s,...o,...o==null?void 0:o.success}):n.dismiss(s),a}).catch(a=>{let i=t.error?h(t.error,a):void 0;i?n.error(i,{id:s,...o,...o==null?void 0:o.error}):n.dismiss(s)}),e};import{useEffect as X,useCallback as A,useRef as ne}from\"react\";var ce=1e3,w=(e,t=\"default\")=>{let{toasts:o,pausedAt:s}=V(e,t),a=ne(new Map).current,i=A((c,m=ce)=>{if(a.has(c))return;let p=setTimeout(()=>{a.delete(c),r({type:4,toastId:c})},m);a.set(c,p)},[]);X(()=>{if(s)return;let c=Date.now(),m=o.map(p=>{if(p.duration===1/0)return;let R=(p.duration||0)+p.pauseDuration-(c-p.createdAt);if(R<0){p.visible&&n.dismiss(p.id);return}return setTimeout(()=>n.dismiss(p.id,t),R)});return()=>{m.forEach(p=>p&&clearTimeout(p))}},[o,s,t]);let r=A(S(t),[t]),l=A(()=>{r({type:5,time:Date.now()})},[r]),g=A((c,m)=>{r({type:1,toast:{id:c,height:m}})},[r]),T=A(()=>{s&&r({type:6,time:Date.now()})},[s,r]),d=A((c,m)=>{let{reverseOrder:p=!1,gutter:R=8,defaultPosition:z}=m||{},O=o.filter(u=>(u.position||z)===(c.position||z)&&u.height),K=O.findIndex(u=>u.id===c.id),B=O.filter((u,I)=>I<K&&u.visible).length;return O.filter(u=>u.visible).slice(...p?[B+1]:[0,B]).reduce((u,I)=>u+(I.height||0)+R,0)},[o]);return X(()=>{o.forEach(c=>{if(c.dismissed)i(c.id,c.removeDelay);else{let m=a.get(c.id);m&&(clearTimeout(m),a.delete(c.id))}})},[o,i]),{toasts:o,handlers:{updateHeight:g,startPause:l,endPause:T,calculateOffset:d}}};import*as y from\"react\";import{styled as J,keyframes as G}from\"goober\";import*as b from\"react\";import{styled as U,keyframes as xe}from\"goober\";import{styled as pe,keyframes as M}from\"goober\";var de=M`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}`,me=M`\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,le=M`\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}`,C=pe(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#ff4b4b\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${de} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: ${me} 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ${e=>e.secondary||\"#fff\"};\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: ${le} 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n`;import{styled as ue,keyframes as fe}from\"goober\";var Te=fe`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`,F=ue(\"div\")`\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ${e=>e.secondary||\"#e0e0e0\"};\n  border-right-color: ${e=>e.primary||\"#616161\"};\n  animation: ${Te} 1s linear infinite;\n`;import{styled as ye,keyframes as q}from\"goober\";var ge=q`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}`,he=q`\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}`,L=ye(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#61d345\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${ge} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: ${he} 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ${e=>e.secondary||\"#fff\"};\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n`;var be=U(\"div\")`\n  position: absolute;\n`,Se=U(\"div\")`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n`,Ae=xe`\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,Pe=U(\"div\")`\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: ${Ae} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n`,$=({toast:e})=>{let{icon:t,type:o,iconTheme:s}=e;return t!==void 0?typeof t==\"string\"?b.createElement(Pe,null,t):t:o===\"blank\"?null:b.createElement(Se,null,b.createElement(F,{...s}),o!==\"loading\"&&b.createElement(be,null,o===\"error\"?b.createElement(C,{...s}):b.createElement(L,{...s})))};var Re=e=>`\n0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,Ee=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}\n`,ve=\"0%{opacity:0;} 100%{opacity:1;}\",De=\"0%{opacity:1;} 100%{opacity:0;}\",Oe=J(\"div\")`\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n`,Ie=J(\"div\")`\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n`,ke=(e,t)=>{let s=e.includes(\"top\")?1:-1,[a,i]=E()?[ve,De]:[Re(s),Ee(s)];return{animation:t?`${G(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${G(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N=y.memo(({toast:e,position:t,style:o,children:s})=>{let a=e.height?ke(e.position||t||\"top-center\",e.visible):{opacity:0},i=y.createElement($,{toast:e}),r=y.createElement(Ie,{...e.ariaProps},h(e.message,e));return y.createElement(Oe,{className:e.className,style:{...a,...o,...e.style}},typeof s==\"function\"?s({icon:i,message:r}):y.createElement(y.Fragment,null,i,r))});import{css as _e,setup as Ve}from\"goober\";import*as x from\"react\";Ve(x.createElement);var we=({id:e,className:t,style:o,onHeightUpdate:s,children:a})=>{let i=x.useCallback(r=>{if(r){let l=()=>{let g=r.getBoundingClientRect().height;s(e,g)};l(),new MutationObserver(l).observe(r,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return x.createElement(\"div\",{ref:i,className:t,style:o},a)},Me=(e,t)=>{let o=e.includes(\"top\"),s=o?{top:0}:{bottom:0},a=e.includes(\"center\")?{justifyContent:\"center\"}:e.includes(\"right\")?{justifyContent:\"flex-end\"}:{};return{left:0,right:0,display:\"flex\",position:\"absolute\",transition:E()?void 0:\"all 230ms cubic-bezier(.21,1.02,.73,1)\",transform:`translateY(${t*(o?1:-1)}px)`,...s,...a}},Ce=_e`\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n`,D=16,Fe=({reverseOrder:e,position:t=\"top-center\",toastOptions:o,gutter:s,children:a,toasterId:i,containerStyle:r,containerClassName:l})=>{let{toasts:g,handlers:T}=w(o,i);return x.createElement(\"div\",{\"data-rht-toaster\":i||\"\",style:{position:\"fixed\",zIndex:9999,top:D,left:D,right:D,bottom:D,pointerEvents:\"none\",...r},className:l,onMouseEnter:T.startPause,onMouseLeave:T.endPause},g.map(d=>{let c=d.position||t,m=T.calculateOffset(d,{reverseOrder:e,gutter:s,defaultPosition:t}),p=Me(c,m);return x.createElement(we,{id:d.id,key:d.id,onHeightUpdate:T.updateHeight,className:d.visible?Ce:\"\",style:p},d.type===\"custom\"?h(d.message,d):a?a(d):x.createElement(N,{toast:d,position:c}))}))};var zt=n;export{L as CheckmarkIcon,C as ErrorIcon,F as LoaderIcon,N as ToastBar,$ as ToastIcon,Fe as Toaster,zt as default,h as resolveValue,n as toast,w as useToaster,V as useToasterStore};\n//# sourceMappingURL=index.mjs.map","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (_e) {\n  }\n  if (!extensionConnector) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\n        \"[zustand devtools middleware] Please install/enable Redux devtools extension\"\n      );\n    }\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (_e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? void 0 : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst oldImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (_e) {\n  }\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then(\n      (serializedValue) => storage.setItem(options.name, serializedValue)\n    ).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\nconst newImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return [\n              true,\n              options.migrate(\n                deserializedStorageValue.state,\n                deserializedStorageValue.version\n              )\n            ];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persistImpl = (config, baseOptions) => {\n  if (\"getStorage\" in baseOptions || \"serialize\" in baseOptions || \"deserialize\" in baseOptions) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead.\"\n      );\n    }\n    return oldImpl(config, baseOptions);\n  }\n  return newImpl(config, baseOptions);\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\nconst {iterator, toStringTag} = Symbol;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(toStringTag in val) && !(iterator in val);\n}\n\n/**\n * Determine if a value is an empty object (safely handles Buffers)\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an empty object, otherwise false\n */\nconst isEmptyObject = (val) => {\n  // Early return for non-objects or Buffers to prevent RangeError\n  if (!isObject(val) || isBuffer(val)) {\n    return false;\n  }\n\n  try {\n    return Object.keys(val).length === 0 && Object.getPrototypeOf(val) === Object.prototype;\n  } catch (e) {\n    // Fallback for any other objects that might cause RangeError with Object.keys()\n    return false;\n  }\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Buffer check\n    if (isBuffer(obj)) {\n      return;\n    }\n\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  if (isBuffer(obj)){\n    return null;\n  }\n\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless, skipUndefined} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else if (!skipUndefined || !isUndefined(val)) {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[iterator];\n\n  const _iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = _iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n}\n\n\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[toStringTag] === 'FormData' && thing[iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      //Buffer check\n      if (isBuffer(source)) {\n        return source;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\n\nconst isIterable = (thing) => thing != null && isFunction(thing[iterator]);\n\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isEmptyObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap,\n  isIterable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  const msg = error && error.message ? error.message : 'Error';\n\n  // Prefer explicit code; otherwise copy the low-level error's code (e.g. ECONNREFUSED)\n  const errCode = code == null && error ? error.code : code;\n  AxiosError.call(axiosError, msg, errCode, config, request, response);\n\n  // Chain the original error on the standard field; non-enumerable to avoid JSON noise\n  if (error && axiosError.cause == null) {\n    Object.defineProperty(axiosError, 'cause', { value: error, configurable: true });\n  }\n\n  axiosError.name = (error && error.name) || 'Error';\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (utils.isBoolean(value)) {\n      return value.toString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv,\n  _navigator as navigator,\n  origin\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), {\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    },\n    ...options\n  });\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data) ||\n      utils.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils.isResponse(data) || utils.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data, this.parseReviver);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils.isObject(header) && utils.isIterable(header)) {\n      let obj = {}, dest, key;\n      for (const entry of header) {\n        if (!utils.isArray(entry)) {\n          throw TypeError('Object iterator must return a key-value pair');\n        }\n\n        obj[key = entry[0]] = (dest = obj[key]) ?\n          (utils.isArray(dest) ? [...dest, entry[1]] : [dest, entry[1]]) : entry[1];\n      }\n\n      setHeaders(obj, valueOrRewrite)\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  getSetCookie() {\n    return this.get(\"set-cookie\") || [];\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn(...args);\n  }\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs)\n        }, threshold - passed);\n      }\n    }\n  }\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;\n","import speedometer from \"./speedometer.js\";\nimport throttle from \"./throttle.js\";\nimport utils from \"../utils.js\";\n\nexport const progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n}\n\nexport const progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n}\n\nexport const asyncDecorator = (fn) => (...args) => utils.asap(() => fn(...args));\n","import platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils.isString(path) && cookie.push('path=' + path);\n\n      utils.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL, allowAbsoluteUrls) {\n  let isRelativeUrl = !isAbsoluteURL(requestedURL);\n  if (baseURL && (isRelativeUrl || allowAbsoluteUrls == false)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils.forEach(Object.keys({...config1, ...config2}), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let { data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth } = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // browser handles it\n    } else if (utils.isFunction(data.getHeaders)) {\n      // Node.js FormData (like form-data package)\n      const formHeaders = data.getHeaders();\n      // Only set safe headers to avoid overwriting security headers\n      const allowedHeaders = ['content-type', 'content-length'];\n      Object.entries(formHeaders).forEach(([key, val]) => {\n        if (allowedHeaders.includes(key.toLowerCase())) {\n          headers.set(key, val);\n        }\n      });\n    }\n  }  \n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n","import utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport {progressEventReducer} from '../helpers/progressEventReducer.js';\nimport resolveConfig from \"../helpers/resolveConfig.js\";\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n  request.onerror = function handleError(event) {\n       // Browsers deliver a ProgressEvent in XHR onerror\n       // (message may be empty; when present, surface it)\n       // See https://developer.mozilla.org/docs/Web/API/XMLHttpRequest/error_event\n       const msg = event && event.message ? event.message : 'Network Error';\n       const err = new AxiosError(msg, AxiosError.ERR_NETWORK, config, request);\n       // attach the underlying event for consumers who want details\n       err.event = event || null;\n       reject(err);\n       request = null;\n    };\n    \n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","import CanceledError from \"../cancel/CanceledError.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport utils from '../utils.js';\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    }\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\n    }, timeout)\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    }\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils.asap(unsubscribe);\n\n    return signal;\n  }\n}\n\nexport default composeSignals;\n","\nexport const streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n}\n\nexport const readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n}\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n}\n\nexport const trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  }\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport composeSignals from \"../helpers/composeSignals.js\";\nimport {trackStream} from \"../helpers/trackStream.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport {progressEventReducer, progressEventDecorator, asyncDecorator} from \"../helpers/progressEventReducer.js\";\nimport resolveConfig from \"../helpers/resolveConfig.js\";\nimport settle from \"../core/settle.js\";\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst {isFunction} = utils;\n\nconst globalFetchAPI = (({Request, Response}) => ({\n  Request, Response\n}))(utils.global);\n\nconst {\n  ReadableStream, TextEncoder\n} = utils.global;\n\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n}\n\nconst factory = (env) => {\n  env = utils.merge.call({\n    skipUndefined: true\n  }, globalFetchAPI, env);\n\n  const {fetch: envFetch, Request, Response} = env;\n  const isFetchSupported = envFetch ? isFunction(envFetch) : typeof fetch === 'function';\n  const isRequestSupported = isFunction(Request);\n  const isResponseSupported = isFunction(Response);\n\n  if (!isFetchSupported) {\n    return false;\n  }\n\n  const isReadableStreamSupported = isFetchSupported && isFunction(ReadableStream);\n\n  const encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n      ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n      async (str) => new Uint8Array(await new Request(str).arrayBuffer())\n  );\n\n  const supportsRequestStream = isRequestSupported && isReadableStreamSupported && test(() => {\n    let duplexAccessed = false;\n\n    const hasContentType = new Request(platform.origin, {\n      body: new ReadableStream(),\n      method: 'POST',\n      get duplex() {\n        duplexAccessed = true;\n        return 'half';\n      },\n    }).headers.has('Content-Type');\n\n    return duplexAccessed && !hasContentType;\n  });\n\n  const supportsResponseStream = isResponseSupported && isReadableStreamSupported &&\n    test(() => utils.isReadableStream(new Response('').body));\n\n  const resolvers = {\n    stream: supportsResponseStream && ((res) => res.body)\n  };\n\n  isFetchSupported && ((() => {\n    ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n      !resolvers[type] && (resolvers[type] = (res, config) => {\n        let method = res && res[type];\n\n        if (method) {\n          return method.call(res);\n        }\n\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      })\n    });\n  })());\n\n  const getBodyLength = async (body) => {\n    if (body == null) {\n      return 0;\n    }\n\n    if (utils.isBlob(body)) {\n      return body.size;\n    }\n\n    if (utils.isSpecCompliantForm(body)) {\n      const _request = new Request(platform.origin, {\n        method: 'POST',\n        body,\n      });\n      return (await _request.arrayBuffer()).byteLength;\n    }\n\n    if (utils.isArrayBufferView(body) || utils.isArrayBuffer(body)) {\n      return body.byteLength;\n    }\n\n    if (utils.isURLSearchParams(body)) {\n      body = body + '';\n    }\n\n    if (utils.isString(body)) {\n      return (await encodeText(body)).byteLength;\n    }\n  }\n\n  const resolveBodyLength = async (headers, body) => {\n    const length = utils.toFiniteNumber(headers.getContentLength());\n\n    return length == null ? getBodyLength(body) : length;\n  }\n\n  return async (config) => {\n    let {\n      url,\n      method,\n      data,\n      signal,\n      cancelToken,\n      timeout,\n      onDownloadProgress,\n      onUploadProgress,\n      responseType,\n      headers,\n      withCredentials = 'same-origin',\n      fetchOptions\n    } = resolveConfig(config);\n\n    let _fetch = envFetch || fetch;\n\n    responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n    let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n    let request = null;\n\n    const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n    });\n\n    let requestContentLength;\n\n    try {\n      if (\n        onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n        (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n      ) {\n        let _request = new Request(url, {\n          method: 'POST',\n          body: data,\n          duplex: \"half\"\n        });\n\n        let contentTypeHeader;\n\n        if (utils.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n          headers.setContentType(contentTypeHeader)\n        }\n\n        if (_request.body) {\n          const [onProgress, flush] = progressEventDecorator(\n            requestContentLength,\n            progressEventReducer(asyncDecorator(onUploadProgress))\n          );\n\n          data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n        }\n      }\n\n      if (!utils.isString(withCredentials)) {\n        withCredentials = withCredentials ? 'include' : 'omit';\n      }\n\n      // Cloudflare Workers throws when credentials are defined\n      // see https://github.com/cloudflare/workerd/issues/902\n      const isCredentialsSupported = isRequestSupported && \"credentials\" in Request.prototype;\n\n      const resolvedOptions = {\n        ...fetchOptions,\n        signal: composedSignal,\n        method: method.toUpperCase(),\n        headers: headers.normalize().toJSON(),\n        body: data,\n        duplex: \"half\",\n        credentials: isCredentialsSupported ? withCredentials : undefined\n      };\n\n      request = isRequestSupported && new Request(url, resolvedOptions);\n\n      let response = await (isRequestSupported ? _fetch(request, fetchOptions) : _fetch(url, resolvedOptions));\n\n      const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n      if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n        const options = {};\n\n        ['status', 'statusText', 'headers'].forEach(prop => {\n          options[prop] = response[prop];\n        });\n\n        const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length'));\n\n        const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n          responseContentLength,\n          progressEventReducer(asyncDecorator(onDownloadProgress), true)\n        ) || [];\n\n        response = new Response(\n          trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n            flush && flush();\n            unsubscribe && unsubscribe();\n          }),\n          options\n        );\n      }\n\n      responseType = responseType || 'text';\n\n      let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config);\n\n      !isStreamResponse && unsubscribe && unsubscribe();\n\n      return await new Promise((resolve, reject) => {\n        settle(resolve, reject, {\n          data: responseData,\n          headers: AxiosHeaders.from(response.headers),\n          status: response.status,\n          statusText: response.statusText,\n          config,\n          request\n        })\n      })\n    } catch (err) {\n      unsubscribe && unsubscribe();\n\n      if (err && err.name === 'TypeError' && /Load failed|fetch/i.test(err.message)) {\n        throw Object.assign(\n          new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n          {\n            cause: err.cause || err\n          }\n        )\n      }\n\n      throw AxiosError.from(err, err && err.code, config, request);\n    }\n  }\n}\n\nconst seedCache = new Map();\n\nexport const getFetch = (config) => {\n  let env = config ? config.env : {};\n  const {fetch, Request, Response} = env;\n  const seeds = [\n    Request, Response, fetch\n  ];\n\n  let len = seeds.length, i = len,\n    seed, target, map = seedCache;\n\n  while (i--) {\n    seed = seeds[i];\n    target = map.get(seed);\n\n    target === undefined && map.set(seed, target = (i ? new Map() : factory(env)))\n\n    map = target;\n  }\n\n  return target;\n};\n\nconst adapter = getFetch();\n\nexport default adapter;\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport * as fetchAdapter from './fetch.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: {\n    get: fetchAdapter.getFetch,\n  }\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters, config) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter && (utils.isFunction(adapter) || (adapter = adapter.get(config)))) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter, config);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","export const VERSION = \"1.12.2\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig || {};\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.allowAbsoluteUrls\n    if (config.allowAbsoluteUrls !== undefined) {\n      // do nothing\n    } else if (this.defaults.allowAbsoluteUrls !== undefined) {\n      config.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls;\n    } else {\n      config.allowAbsoluteUrls = true;\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift(...requestInterceptorChain);\n      chain.push(...responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","import axios from './lib/axios.js';\n\n// This module is intended to unwrap Axios default export as named.\n// Keep top-level export same with static properties\n// so that it can keep same with es module or cjs\nconst {\n  Axios,\n  AxiosError,\n  CanceledError,\n  isCancel,\n  CancelToken,\n  VERSION,\n  all,\n  Cancel,\n  isAxiosError,\n  spread,\n  toFormData,\n  AxiosHeaders,\n  HttpStatusCode,\n  formToJSON,\n  getAdapter,\n  mergeConfig\n} = axios;\n\nexport {\n  axios as default,\n  Axios,\n  AxiosError,\n  CanceledError,\n  isCancel,\n  CancelToken,\n  VERSION,\n  all,\n  Cancel,\n  isAxiosError,\n  spread,\n  toFormData,\n  AxiosHeaders,\n  HttpStatusCode,\n  formToJSON,\n  getAdapter,\n  mergeConfig\n}\n","import axios from 'axios';\r\nimport type { ApiError } from '@/types/api';\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: (import.meta as any).env.VITE_API_BASE_URL || '/api/v1',\r\n  timeout: 300000, // 5 minutos para permitir anlise completa da LLM\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Request interceptor\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    // Add auth token if available from Zustand store\r\n    try {\r\n      const authData = localStorage.getItem('auth-storage');\r\n      if (authData) {\r\n        const parsed = JSON.parse(authData);\r\n        const token = parsed.state?.token;\r\n        if (token) {\r\n          config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      // Ignore parsing errors\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor\r\napiClient.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      // Handle unauthorized - clear auth store\r\n      localStorage.removeItem('auth-storage');\r\n      window.location.href = '/login';\r\n    }\r\n\r\n    // Transform error to consistent format\r\n    const apiError: ApiError = {\r\n      message: error.response?.data?.message || error.message || 'Unknown error',\r\n      code: error.response?.data?.code || error.code || 'UNKNOWN_ERROR',\r\n      details: error.response?.data?.details || error.response?.data,\r\n    };\r\n\r\n    return Promise.reject(apiError);\r\n  }\r\n);\r\n\r\nexport default apiClient;","import apiClient from './apiClient';\r\nimport type { User, LoginCredentials, RegisterData, AuthResponse } from '@/types/auth';\r\n\r\nexport const authService = {\r\n  async login(credentials: LoginCredentials): Promise<AuthResponse> {\r\n    const response = await apiClient.post('/login/json', {\r\n      username: credentials.username,\r\n      password: credentials.password,\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  async register(data: RegisterData): Promise<AuthResponse> {\r\n    const response = await apiClient.post('/register', data);\r\n    return response.data;\r\n  },\r\n\r\n  async refreshToken(): Promise<{ access_token: string; token_type: string }> {\r\n    const response = await apiClient.post('/refresh');\r\n    return response.data;\r\n  },\r\n\r\n  async getCurrentUser(): Promise<User> {\r\n    const response = await apiClient.get('/me');\r\n    return response.data;\r\n  },\r\n\r\n  async logout(): Promise<void> {\r\n    await apiClient.post('/logout');\r\n  },\r\n};","/**\r\n * Authentication utilities for handling JWT tokens\r\n */\r\n\r\nexport interface AuthData {\r\n  user: any;\r\n  token: string | null;\r\n  isAuthenticated: boolean;\r\n}\r\n\r\n/**\r\n * Get authentication data from localStorage (Zustand persist storage)\r\n */\r\nexport function getAuthData(): AuthData | null {\r\n  try {\r\n    const authData = localStorage.getItem('auth-storage');\r\n    if (!authData) {\r\n      console.warn('No auth data found in localStorage');\r\n      return null;\r\n    }\r\n\r\n    const parsed = JSON.parse(authData);\r\n    if (!parsed.state) {\r\n      console.warn('No state found in auth data');\r\n      return null;\r\n    }\r\n\r\n    console.log('Auth data found:', {\r\n      hasToken: !!parsed.state.token,\r\n      isAuthenticated: parsed.state.isAuthenticated,\r\n      user: parsed.state.user?.username || 'No user'\r\n    });\r\n\r\n    return parsed.state;\r\n  } catch (error) {\r\n    console.error('Error parsing auth data from localStorage:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Get JWT token from localStorage with multiple fallback strategies\r\n */\r\nexport function getAuthToken(): string | null {\r\n  try {\r\n    // Strategy 1: Try Zustand persist storage\r\n    const authData = localStorage.getItem('auth-storage');\r\n    if (authData) {\r\n      const parsed = JSON.parse(authData);\r\n      if (parsed.state && parsed.state.token) {\r\n        console.log('Token found in Zustand storage');\r\n        return parsed.state.token;\r\n      }\r\n    }\r\n\r\n    // Strategy 2: Try direct token storage\r\n    const directToken = localStorage.getItem('auth-token');\r\n    if (directToken) {\r\n      console.log('Token found in direct storage');\r\n      return directToken;\r\n    }\r\n\r\n    console.warn('No token found in any storage');\r\n    return null;\r\n  } catch (error) {\r\n    console.error('Error getting token:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Get authorization headers for API requests\r\n */\r\nexport function getAuthHeaders(): Record<string, string> {\r\n  const token = getAuthToken();\r\n  const headers: Record<string, string> = {};\r\n\r\n  if (token) {\r\n    headers['Authorization'] = `Bearer ${token}`;\r\n    console.log('Auth headers generated with token length:', token.length);\r\n  } else {\r\n    console.warn('No token available for auth headers');\r\n  }\r\n\r\n  return headers;\r\n}\r\n\r\n/**\r\n * Check if user is authenticated\r\n */\r\nexport function isAuthenticated(): boolean {\r\n  const token = getAuthToken();\r\n  const isAuthenticated = !!token;\r\n  console.log('Authentication check:', { hasToken: isAuthenticated });\r\n  return isAuthenticated;\r\n}\r\n\r\n/**\r\n * Store token directly in localStorage as backup\r\n */\r\nexport function storeToken(token: string): void {\r\n  try {\r\n    localStorage.setItem('auth-token', token);\r\n    console.log('Token stored in direct storage');\r\n  } catch (error) {\r\n    console.error('Error storing token:', error);\r\n  }\r\n}\r\n\r\n/**\r\n * Clear authentication data\r\n */\r\nexport function clearAuth(): void {\r\n  localStorage.removeItem('auth-storage');\r\n  localStorage.removeItem('auth-token');\r\n  console.log('Auth data cleared from localStorage');\r\n}","import { create } from 'zustand';\r\nimport { persist } from 'zustand/middleware';\r\nimport type { User, AuthState } from '@/types/auth';\r\nimport { authService } from '@/services/authService';\r\nimport { storeToken } from '@/utils/auth';\r\n\r\ninterface AuthStore extends AuthState {\r\n  login: (credentials: { username: string; password: string }) => Promise<void>;\r\n  register: (data: { username: string; email: string; password: string }) => Promise<void>;\r\n  logout: () => void;\r\n  refreshToken: () => Promise<void>;\r\n  setUser: (user: User | null) => void;\r\n  setToken: (token: string | null) => void;\r\n  setLoading: (loading: boolean) => void;\r\n  clearAuth: () => void;\r\n}\r\n\r\nexport const useAuthStore = create<AuthStore>()(\r\n  persist(\r\n    (set, get) => ({\r\n      user: null,\r\n      token: null,\r\n      isAuthenticated: false,\r\n      isLoading: false,\r\n\r\n      login: async (credentials) => {\r\n        set({ isLoading: true });\r\n        try {\r\n          const response = await authService.login(credentials);\r\n          const token = response.access_token;\r\n\r\n          // Store token in both Zustand and direct localStorage\r\n          storeToken(token);\r\n\r\n          set({\r\n            user: response.user,\r\n            token: token,\r\n            isAuthenticated: true,\r\n            isLoading: false,\r\n          });\r\n        } catch (error) {\r\n          set({ isLoading: false });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      register: async (data) => {\r\n        set({ isLoading: true });\r\n        try {\r\n          const response = await authService.register(data);\r\n          const token = response.access_token;\r\n\r\n          // Store token in both Zustand and direct localStorage\r\n          storeToken(token);\r\n\r\n          set({\r\n            user: response.user,\r\n            token: token,\r\n            isAuthenticated: true,\r\n            isLoading: false,\r\n          });\r\n        } catch (error) {\r\n          set({ isLoading: false });\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      logout: () => {\r\n        authService.logout().catch(() => {\r\n          // Ignore logout errors\r\n        });\r\n        get().clearAuth();\r\n      },\r\n\r\n      refreshToken: async () => {\r\n        try {\r\n          const response = await authService.refreshToken();\r\n          set({\r\n            token: response.access_token,\r\n          });\r\n        } catch (error) {\r\n          get().clearAuth();\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      setUser: (user) => {\r\n        set({ user, isAuthenticated: !!user });\r\n      },\r\n\r\n      setToken: (token) => {\r\n        set({ token, isAuthenticated: !!token });\r\n      },\r\n\r\n      setLoading: (loading) => {\r\n        set({ isLoading: loading });\r\n      },\r\n\r\n      clearAuth: () => {\r\n        set({\r\n          user: null,\r\n          token: null,\r\n          isAuthenticated: false,\r\n          isLoading: false,\r\n        });\r\n      },\r\n    }),\r\n    {\r\n      name: 'auth-storage',\r\n      partialize: (state) => ({\r\n        user: state.user,\r\n        token: state.token,\r\n        isAuthenticated: state.isAuthenticated,\r\n      }),\r\n    }\r\n  )\r\n);","import{validateFieldsNatively as r,toNestErrors as e}from\"@hookform/resolvers\";import{appendErrors as o}from\"react-hook-form\";var n=function(r,e){for(var n={};r.length;){var t=r[0],s=t.code,i=t.message,a=t.path.join(\".\");if(!n[a])if(\"unionErrors\"in t){var u=t.unionErrors[0].errors[0];n[a]={message:u.message,type:u.code}}else n[a]={message:i,type:s};if(\"unionErrors\"in t&&t.unionErrors.forEach(function(e){return e.errors.forEach(function(e){return r.push(e)})}),e){var c=n[a].types,f=c&&c[t.code];n[a]=o(a,e,n,s,f?[].concat(f,t.message):t.message)}r.shift()}return n},t=function(o,t,s){return void 0===s&&(s={}),function(i,a,u){try{return Promise.resolve(function(e,n){try{var a=Promise.resolve(o[\"sync\"===s.mode?\"parse\":\"parseAsync\"](i,t)).then(function(e){return u.shouldUseNativeValidation&&r({},u),{errors:{},values:s.raw?i:e}})}catch(r){return n(r)}return a&&a.then?a.then(void 0,n):a}(0,function(r){if(function(r){return Array.isArray(null==r?void 0:r.errors)}(r))return{values:{},errors:e(n(r.errors,!u.shouldUseNativeValidation&&\"all\"===u.criteriaMode),u)};throw r}))}catch(r){return Promise.reject(r)}}};export{t as zodResolver};\n//# sourceMappingURL=zod.module.js.map\n","import { useAuthStore } from '@/stores/authStore';\r\n\r\nexport const useAuth = () => {\r\n  const auth = useAuthStore();\r\n\r\n  return {\r\n    user: auth.user,\r\n    token: auth.token,\r\n    isAuthenticated: auth.isAuthenticated,\r\n    isLoading: auth.isLoading,\r\n    login: auth.login,\r\n    register: auth.register,\r\n    logout: auth.logout,\r\n    refreshToken: auth.refreshToken,\r\n  };\r\n};","import React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { z } from 'zod';\r\nimport { Link } from 'react-router-dom';\r\nimport { useAuth } from '@/hooks/useAuth';\r\nimport './LoginPage.css';\r\n\r\nconst loginSchema = z.object({\r\n  username: z.string().min(1, 'Nome de usurio  obrigatrio'),\r\n  password: z.string().min(1, 'Senha  obrigatria'),\r\n});\r\n\r\ntype LoginFormData = z.infer<typeof loginSchema>;\r\n\r\nconst LoginPage: React.FC = () => {\r\n  const { login, isLoading } = useAuth();\r\n\r\n  // Definir ttulo da pgina\r\n  React.useEffect(() => {\r\n    document.title = 'AVALIA Code Quality System - Login';\r\n  }, []);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<LoginFormData>({\r\n    resolver: zodResolver(loginSchema),\r\n  });\r\n\r\n  const onSubmit = async (data: LoginFormData) => {\r\n    try {\r\n      console.log('Tentando fazer login com:', data);\r\n      await login(data);\r\n      console.log('Login realizado com sucesso!');\r\n\r\n      // Redirecionar para o dashboard aps login bem-sucedido\r\n      window.location.href = '/dashboard';\r\n    } catch (error) {\r\n      console.error('Erro no login:', error);\r\n      alert('Erro ao fazer login. Verifique o console para mais detalhes.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-page\">\r\n      {/* Logo and App Title */}\r\n      <div className=\"logo-container\">\r\n        <div className=\"logo\">\r\n          <span className=\"logo-text\">A</span>\r\n        </div>\r\n        <h1 className=\"app-title\">AVAL<span style={{ color: '#EAB308' }}>IA</span></h1>\r\n        <p className=\"app-subtitle\">Sistema de Qualidade de Cdigo com IA</p>\r\n      </div>\r\n\r\n      {/* Login Form */}\r\n      <div className=\"login-form-container\">\r\n        <div className=\"br-card\">\r\n          <div className=\"card-header text-center\">\r\n            <h2 className=\"text-h2\">Entrar na sua conta</h2>\r\n            <p className=\"text-regular\">\r\n              Digite suas credenciais para acessar o sistema\r\n            </p>\r\n          </div>\r\n          <div className=\"card-content\">\r\n            <form onSubmit={handleSubmit(onSubmit)} className=\"login-form\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"username\" className=\"form-label\">\r\n                  Nome de usurio\r\n                </label>\r\n                <input\r\n                  {...register('username')}\r\n                  type=\"text\"\r\n                  id=\"username\"\r\n                  placeholder=\"Digite seu nome de usurio\"\r\n                  disabled={isLoading}\r\n                  className={`form-input ${errors.username ? 'error' : ''}`}\r\n                />\r\n                {errors.username && (\r\n                  <span className=\"error-message\">{errors.username.message}</span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"password\" className=\"form-label\">\r\n                  Senha\r\n                </label>\r\n                <input\r\n                  {...register('password')}\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  placeholder=\"Digite sua senha\"\r\n                  disabled={isLoading}\r\n                  className={`form-input ${errors.password ? 'error' : ''}`}\r\n                />\r\n                {errors.password && (\r\n                  <span className=\"error-message\">{errors.password.message}</span>\r\n                )}\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isLoading}\r\n                className=\"login-button\"\r\n              >\r\n                {isLoading ? (\r\n                  <>\r\n                    <div className=\"loading-spinner\"></div>\r\n                    Entrando...\r\n                  </>\r\n                ) : (\r\n                  'Entrar'\r\n                )}\r\n              </button>\r\n\r\n              <div className=\"register-link\">\r\n                <p className=\"text-regular\">\r\n                  No tem uma conta?{' '}\r\n                  <Link to=\"/register\" className=\"link\">\r\n                    Registre-se\r\n                  </Link>\r\n                </p>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;","import apiClient from './apiClient';\r\nimport { PromptConfig, PromptVersion, Prompt } from '@/types/prompt';\r\n\r\nexport const promptService = {\r\n  getPrompts: async (): Promise<PromptConfig> => {\r\n    const response = await apiClient.get<PromptConfig>('/prompts/config');\r\n    return response.data;\r\n  },\r\n\r\n  savePrompts: async (prompts: PromptConfig): Promise<PromptConfig> => {\r\n    await promptService.createVersionBackup(prompts);\r\n    // Use the backup endpoint for saving since it works\r\n    const response = await apiClient.post<PromptConfig>('/prompts/backup', prompts);\r\n    return response.data;\r\n  },\r\n\r\n  createVersionBackup: async (prompts: PromptConfig): Promise<void> => {\r\n    try {\r\n      await apiClient.post('/prompts/backup', prompts);\r\n    } catch (error) {\r\n      // Silently fail for backup - it's not critical for the main functionality\r\n      console.warn('Failed to create version backup:', error);\r\n    }\r\n  },\r\n\r\n  getVersionHistory: async (promptId: string): Promise<PromptVersion[]> => {\r\n    try {\r\n      const response = await apiClient.get<PromptVersion[]>(`/prompts/${promptId}/versions`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.warn('Failed to fetch version history:', error);\r\n      return [];\r\n    }\r\n  },\r\n\r\n  restoreVersion: async (promptId: string, version: number): Promise<Prompt> => {\r\n    const response = await apiClient.post<Prompt>(`/prompts/${promptId}/restore`, { version });\r\n    return response.data;\r\n  },\r\n\r\n  restoreDefaults: async (): Promise<PromptConfig> => {\r\n    const response = await apiClient.post<PromptConfig>('/prompts/restore-defaults');\r\n    return response.data;\r\n  },\r\n\r\n  validatePrompt: async (content: string): Promise<{ isValid: boolean; errors: string[] }> => {\r\n    const response = await apiClient.post<{ isValid: boolean; errors: string[] }>('/prompts/validate', { content });\r\n    return response.data;\r\n  },\r\n\r\n  exportPrompts: async (): Promise<string> => {\r\n    const response = await apiClient.get<string>('/prompts/export');\r\n    return response.data;\r\n  },\r\n\r\n  importPrompts: async (promptsData: string): Promise<PromptConfig> => {\r\n    const response = await apiClient.post<PromptConfig>('/prompts/import', { data: promptsData });\r\n    return response.data;\r\n  },\r\n};","import { create } from 'zustand';\r\nimport { devtools, persist } from 'zustand/middleware';\r\nimport { PromptConfig, PromptType, PromptState, Prompt, PromptVersion } from '@/types/prompt';\r\nimport { promptService } from '@/services/promptService';\r\n\r\nconst createEmptyPrompt = (type: PromptType): Prompt => ({\r\n  id: '',\r\n  name: type === 'general' ? 'Critrios Gerais' :\r\n        type === 'architectural' ? 'Conformidade Arquitetural' : 'Conformidade Negocial',\r\n  type,\r\n  description: type === 'general' ? 'Critrios gerais de anlise de cdigo' :\r\n              type === 'architectural' ? 'Critrios de conformidade arquitetural' : 'Critrios de conformidade negocial',\r\n  content: '',\r\n  isActive: true,\r\n  isDefault: true,\r\n  createdAt: new Date(),\r\n  updatedAt: new Date(),\r\n});\r\n\r\nexport const usePromptStore = create<PromptState>()(\r\n  devtools(\r\n    (set, get) => ({\r\n      prompts: {\r\n        general: createEmptyPrompt('general'),\r\n        architectural: createEmptyPrompt('architectural'),\r\n        business: createEmptyPrompt('business'),\r\n      },\r\n      isSaving: false,\r\n      lastSaved: null,\r\n      hasUnsavedChanges: false,\r\n      error: null,\r\n      autoSaveTimer: null,\r\n      activePromptType: 'general',\r\n\r\n      updatePrompt: (type: PromptType, content: string) => {\r\n        set((state) => ({\r\n          prompts: {\r\n            ...state.prompts,\r\n            [type]: {\r\n              ...state.prompts[type],\r\n              content,\r\n              updatedAt: new Date(),\r\n            },\r\n          },\r\n          hasUnsavedChanges: true,\r\n        }));\r\n\r\n        get().triggerAutoSave();\r\n      },\r\n\r\n      setActivePromptType: (type: PromptType) => {\r\n        set({ activePromptType: type });\r\n      },\r\n\r\n      triggerAutoSave: () => {\r\n        const state = get();\r\n        if (state.autoSaveTimer) {\r\n          clearTimeout(state.autoSaveTimer);\r\n        }\r\n\r\n        const timer = setTimeout(() => {\r\n          get().savePrompts();\r\n        }, 30000);\r\n\r\n        set({ autoSaveTimer: timer });\r\n      },\r\n\r\n      savePrompts: async () => {\r\n        const state = get();\r\n        if (!state.hasUnsavedChanges) return;\r\n\r\n        set({ isSaving: true, error: null });\r\n\r\n        try {\r\n          await get().createVersionBackup();\r\n          await promptService.savePrompts(state.prompts);\r\n          set({\r\n            isSaving: false,\r\n            lastSaved: new Date(),\r\n            hasUnsavedChanges: false,\r\n            error: null,\r\n          });\r\n        } catch (error) {\r\n          set({\r\n            isSaving: false,\r\n            error: error instanceof Error ? error.message : 'Erro ao salvar prompts',\r\n          });\r\n        }\r\n      },\r\n\r\n      discardChanges: async () => {\r\n        set({ isSaving: true, error: null });\r\n\r\n        try {\r\n          const freshPrompts = await promptService.getPrompts();\r\n          set({\r\n            prompts: freshPrompts,\r\n            isSaving: false,\r\n            hasUnsavedChanges: false,\r\n            error: null,\r\n          });\r\n        } catch (error) {\r\n          set({\r\n            isSaving: false,\r\n            error: error instanceof Error ? error.message : 'Erro ao descartar alteraes',\r\n          });\r\n        }\r\n      },\r\n\r\n      restoreDefaults: async () => {\r\n        set({ isSaving: true, error: null });\r\n\r\n        try {\r\n          const defaultPrompts = await promptService.restoreDefaults();\r\n          set({\r\n            prompts: defaultPrompts,\r\n            isSaving: false,\r\n            hasUnsavedChanges: false,\r\n            lastSaved: new Date(),\r\n            error: null,\r\n          });\r\n        } catch (error) {\r\n          set({\r\n            isSaving: false,\r\n            error: error instanceof Error ? error.message : 'Erro ao restaurar padres',\r\n          });\r\n        }\r\n      },\r\n\r\n      loadPrompts: async () => {\r\n        set({ isSaving: true, error: null });\r\n\r\n        try {\r\n          const prompts = await promptService.getPrompts();\r\n          set({\r\n            prompts,\r\n            isSaving: false,\r\n            hasUnsavedChanges: false,\r\n            error: null,\r\n          });\r\n        } catch (error) {\r\n          set({\r\n            isSaving: false,\r\n            error: error instanceof Error ? error.message : 'Erro ao carregar prompts',\r\n          });\r\n        }\r\n      },\r\n\r\n      clearAutoSaveTimer: () => {\r\n        const state = get();\r\n        if (state.autoSaveTimer) {\r\n          clearTimeout(state.autoSaveTimer);\r\n          set({ autoSaveTimer: null });\r\n        }\r\n      },\r\n\r\n      reset: () => {\r\n        get().clearAutoSaveTimer();\r\n        set({\r\n          prompts: {\r\n            general: createEmptyPrompt('general'),\r\n            architectural: createEmptyPrompt('architectural'),\r\n            business: createEmptyPrompt('business'),\r\n          },\r\n          isSaving: false,\r\n          lastSaved: null,\r\n          hasUnsavedChanges: false,\r\n          error: null,\r\n          autoSaveTimer: null,\r\n          activePromptType: 'general',\r\n        });\r\n      },\r\n\r\n      // Version history methods\r\n      getVersionHistory: async (promptType: PromptType): Promise<PromptVersion[]> => {\r\n        try {\r\n          const promptId = get().prompts[promptType].id;\r\n          if (!promptId) return [];\r\n\r\n          return await promptService.getVersionHistory(promptId);\r\n        } catch (error) {\r\n          console.error('Error fetching version history:', error);\r\n          return [];\r\n        }\r\n      },\r\n\r\n      restoreVersion: async (promptType: PromptType, version: number): Promise<void> => {\r\n        set({ isSaving: true, error: null });\r\n\r\n        try {\r\n          const promptId = get().prompts[promptType].id;\r\n          if (!promptId) {\r\n            throw new Error('Prompt ID not found');\r\n          }\r\n\r\n          const restoredPrompt = await promptService.restoreVersion(promptId, version);\r\n\r\n          set((state) => ({\r\n            prompts: {\r\n              ...state.prompts,\r\n              [promptType]: {\r\n                ...state.prompts[promptType],\r\n                ...restoredPrompt,\r\n                updatedAt: new Date(),\r\n              },\r\n            },\r\n            isSaving: false,\r\n            hasUnsavedChanges: false,\r\n            lastSaved: new Date(),\r\n            error: null,\r\n          }));\r\n        } catch (error) {\r\n          set({\r\n            isSaving: false,\r\n            error: error instanceof Error ? error.message : 'Erro ao restaurar verso',\r\n          });\r\n        }\r\n      },\r\n\r\n      createVersionBackup: async (): Promise<void> => {\r\n        try {\r\n          await promptService.createVersionBackup(get().prompts);\r\n        } catch (error) {\r\n          console.error('Error creating version backup:', error);\r\n        }\r\n      },\r\n    }),\r\n    {\r\n      name: 'prompt-store',\r\n    }\r\n  )\r\n);","import React, { useRef, useEffect, useState } from 'react';\r\nimport { PromptEditorProps } from '@/types/prompt';\r\nimport './PromptEditor.css';\r\n\r\nexport const PromptEditor: React.FC<PromptEditorProps> = ({\r\n  value,\r\n  onChange,\r\n  language = 'markdown',\r\n  placeholder,\r\n  disabled = false,\r\n}) => {\r\n  const editorRef = useRef<HTMLTextAreaElement>(null);\r\n  const [selectionStart, setSelectionStart] = useState(0);\r\n  const [selectionEnd, setSelectionEnd] = useState(0);\r\n\r\n  const insertText = (text: string) => {\r\n    if (!editorRef.current) return;\r\n\r\n    const textarea = editorRef.current;\r\n    const start = textarea.selectionStart;\r\n    const end = textarea.selectionEnd;\r\n    const selectedText = value.substring(start, end);\r\n    const newText = text.replace('${selection}', selectedText);\r\n\r\n    const newValue = value.substring(0, start) + newText + value.substring(end);\r\n    onChange(newValue);\r\n\r\n    setTimeout(() => {\r\n      textarea.focus();\r\n      textarea.setSelectionRange(start, start + newText.length);\r\n    }, 0);\r\n  };\r\n\r\n  const formatSelection = (before: string, after: string = before) => {\r\n    if (!editorRef.current) return;\r\n\r\n    const textarea = editorRef.current;\r\n    const start = textarea.selectionStart;\r\n    const end = textarea.selectionEnd;\r\n    const selectedText = value.substring(start, end);\r\n\r\n    if (selectedText) {\r\n      const newText = before + selectedText + after;\r\n      const newValue = value.substring(0, start) + newText + value.substring(end);\r\n      onChange(newValue);\r\n\r\n      setTimeout(() => {\r\n        textarea.focus();\r\n        textarea.setSelectionRange(start, start + newText.length);\r\n      }, 0);\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\r\n    if (disabled) return;\r\n\r\n    if (e.ctrlKey || e.metaKey) {\r\n      switch (e.key) {\r\n        case 'b':\r\n          e.preventDefault();\r\n          formatSelection('**', '**');\r\n          break;\r\n        case 'i':\r\n          e.preventDefault();\r\n          formatSelection('*', '*');\r\n          break;\r\n        case 'k':\r\n          e.preventDefault();\r\n          formatSelection('[', ']()');\r\n          break;\r\n        case 'e':\r\n          e.preventDefault();\r\n          formatSelection('`', '`');\r\n          break;\r\n      }\r\n    }\r\n\r\n    if (e.key === 'Tab') {\r\n      e.preventDefault();\r\n      insertText('  ');\r\n    }\r\n  };\r\n\r\n  const handleSelectionChange = () => {\r\n    if (editorRef.current) {\r\n      setSelectionStart(editorRef.current.selectionStart);\r\n      setSelectionEnd(editorRef.current.selectionEnd);\r\n    }\r\n  };\r\n\r\n  const getWordCount = () => {\r\n    return value.trim() ? value.trim().split(/\\s+/).length : 0;\r\n  };\r\n\r\n  const getCharCount = () => {\r\n    return value.length;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (editorRef.current) {\r\n      editorRef.current.style.height = 'auto';\r\n      editorRef.current.style.height = `${editorRef.current.scrollHeight}px`;\r\n    }\r\n  }, [value]);\r\n\r\n  return (\r\n    <div className=\"br-textarea-wrapper\">\r\n      <div className=\"editor-toolbar br-button-group\">\r\n        <div className=\"br-button-group\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => formatSelection('**', '**')}\r\n            title=\"Negrito\"\r\n            disabled={disabled}\r\n            className=\"br-button small\"\r\n            aria-label=\"Negrito\"\r\n          >\r\n            <span className=\"fas fa-bold\"></span>\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => formatSelection('*', '*')}\r\n            title=\"Itlico\"\r\n            disabled={disabled}\r\n            className=\"br-button small\"\r\n            aria-label=\"Itlico\"\r\n          >\r\n            <span className=\"fas fa-italic\"></span>\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => formatSelection('`', '`')}\r\n            title=\"Cdigo\"\r\n            disabled={disabled}\r\n            className=\"br-button small\"\r\n            aria-label=\"Cdigo\"\r\n          >\r\n            <span className=\"fas fa-code\"></span>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"br-button-group\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => formatSelection('## ')}\r\n            title=\"Ttulo 2\"\r\n            disabled={disabled}\r\n            className=\"br-button small\"\r\n            aria-label=\"Ttulo 2\"\r\n          >\r\n            H2\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => formatSelection('### ')}\r\n            title=\"Ttulo 3\"\r\n            disabled={disabled}\r\n            className=\"br-button small\"\r\n            aria-label=\"Ttulo 3\"\r\n          >\r\n            H3\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => formatSelection('- ')}\r\n            title=\"Lista\"\r\n            disabled={disabled}\r\n            className=\"br-button small\"\r\n            aria-label=\"Lista\"\r\n          >\r\n            <span className=\"fas fa-list-ul\"></span>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"br-button-group\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => formatSelection('[', ']()')}\r\n            title=\"Link\"\r\n            disabled={disabled}\r\n            className=\"br-button small\"\r\n            aria-label=\"Link\"\r\n          >\r\n            <span className=\"fas fa-link\"></span>\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => formatSelection('```\\n', '\\n```')}\r\n            title=\"Bloco de cdigo\"\r\n            disabled={disabled}\r\n            className=\"br-button small\"\r\n            aria-label=\"Bloco de cdigo\"\r\n          >\r\n            <span className=\"fas fa-code\"></span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <textarea\r\n        ref={editorRef}\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        onKeyDown={handleKeyDown}\r\n        onSelect={handleSelectionChange}\r\n        onKeyUp={handleSelectionChange}\r\n        onMouseUp={handleSelectionChange}\r\n        placeholder={placeholder}\r\n        disabled={disabled}\r\n        className=\"br-textarea\"\r\n        rows={15}\r\n        style={{\r\n          resize: 'vertical',\r\n          minHeight: '400px',\r\n          fontFamily: 'Consolas, Monaco, \"Courier New\", monospace',\r\n          fontSize: '14px',\r\n          lineHeight: '1.5',\r\n        }}\r\n      />\r\n\r\n      <div className=\"editor-footer\">\r\n        <div className=\"editor-stats text-small text-muted\">\r\n          <span className=\"me-3\">\r\n            <i className=\"fas fa-font me-1\"></i>\r\n            {getCharCount()} caracteres\r\n          </span>\r\n          <span>\r\n            <i className=\"fas fa-align-left me-1\"></i>\r\n            {getWordCount()} palavras\r\n          </span>\r\n        </div>\r\n\r\n        {language === 'markdown' && (\r\n          <div className=\"markdown-hint text-small text-muted\">\r\n            <i className=\"fas fa-keyboard me-1\"></i>\r\n            Dica: Ctrl+B para negrito, Ctrl+I para itlico, Ctrl+E para cdigo\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"menos de um segundo\",\n    other: \"menos de {{count}} segundos\",\n  },\n\n  xSeconds: {\n    one: \"1 segundo\",\n    other: \"{{count}} segundos\",\n  },\n\n  halfAMinute: \"meio minuto\",\n\n  lessThanXMinutes: {\n    one: \"menos de um minuto\",\n    other: \"menos de {{count}} minutos\",\n  },\n\n  xMinutes: {\n    one: \"1 minuto\",\n    other: \"{{count}} minutos\",\n  },\n\n  aboutXHours: {\n    one: \"cerca de 1 hora\",\n    other: \"cerca de {{count}} horas\",\n  },\n\n  xHours: {\n    one: \"1 hora\",\n    other: \"{{count}} horas\",\n  },\n\n  xDays: {\n    one: \"1 dia\",\n    other: \"{{count}} dias\",\n  },\n\n  aboutXWeeks: {\n    one: \"cerca de 1 semana\",\n    other: \"cerca de {{count}} semanas\",\n  },\n\n  xWeeks: {\n    one: \"1 semana\",\n    other: \"{{count}} semanas\",\n  },\n\n  aboutXMonths: {\n    one: \"cerca de 1 ms\",\n    other: \"cerca de {{count}} meses\",\n  },\n\n  xMonths: {\n    one: \"1 ms\",\n    other: \"{{count}} meses\",\n  },\n\n  aboutXYears: {\n    one: \"cerca de 1 ano\",\n    other: \"cerca de {{count}} anos\",\n  },\n\n  xYears: {\n    one: \"1 ano\",\n    other: \"{{count}} anos\",\n  },\n\n  overXYears: {\n    one: \"mais de 1 ano\",\n    other: \"mais de {{count}} anos\",\n  },\n\n  almostXYears: {\n    one: \"quase 1 ano\",\n    other: \"quase {{count}} anos\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", String(count));\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"em \" + result;\n    } else {\n      return \"h \" + result;\n    }\n  }\n\n  return result;\n};\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\n\nconst dateFormats = {\n  full: \"EEEE, d 'de' MMMM 'de' y\",\n  long: \"d 'de' MMMM 'de' y\",\n  medium: \"d MMM y\",\n  short: \"dd/MM/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"HH:mm:ss zzzz\",\n  long: \"HH:mm:ss z\",\n  medium: \"HH:mm:ss\",\n  short: \"HH:mm\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 's' {{time}}\",\n  long: \"{{date}} 's' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: (date) => {\n    const weekday = date.getDay();\n    const last = weekday === 0 || weekday === 6 ? \"ltimo\" : \"ltima\";\n    return \"'\" + last + \"' eeee 's' p\";\n  },\n  yesterday: \"'ontem s' p\",\n  today: \"'hoje s' p\",\n  tomorrow: \"'amanh s' p\",\n  nextWeek: \"eeee 's' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, date, _baseDate, _options) => {\n  const format = formatRelativeLocale[token];\n\n  if (typeof format === \"function\") {\n    return format(date);\n  }\n\n  return format;\n};\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\n\nconst eraValues = {\n  narrow: [\"AC\", \"DC\"],\n  abbreviated: [\"AC\", \"DC\"],\n  wide: [\"antes de cristo\", \"depois de cristo\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"T1\", \"T2\", \"T3\", \"T4\"],\n  wide: [\"1 trimestre\", \"2 trimestre\", \"3 trimestre\", \"4 trimestre\"],\n};\n\nconst monthValues = {\n  narrow: [\"j\", \"f\", \"m\", \"a\", \"m\", \"j\", \"j\", \"a\", \"s\", \"o\", \"n\", \"d\"],\n  abbreviated: [\n    \"jan\",\n    \"fev\",\n    \"mar\",\n    \"abr\",\n    \"mai\",\n    \"jun\",\n    \"jul\",\n    \"ago\",\n    \"set\",\n    \"out\",\n    \"nov\",\n    \"dez\",\n  ],\n\n  wide: [\n    \"janeiro\",\n    \"fevereiro\",\n    \"maro\",\n    \"abril\",\n    \"maio\",\n    \"junho\",\n    \"julho\",\n    \"agosto\",\n    \"setembro\",\n    \"outubro\",\n    \"novembro\",\n    \"dezembro\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"D\", \"S\", \"T\", \"Q\", \"Q\", \"S\", \"S\"],\n  short: [\"dom\", \"seg\", \"ter\", \"qua\", \"qui\", \"sex\", \"sab\"],\n  abbreviated: [\n    \"domingo\",\n    \"segunda\",\n    \"tera\",\n    \"quarta\",\n    \"quinta\",\n    \"sexta\",\n    \"sbado\",\n  ],\n\n  wide: [\n    \"domingo\",\n    \"segunda-feira\",\n    \"tera-feira\",\n    \"quarta-feira\",\n    \"quinta-feira\",\n    \"sexta-feira\",\n    \"sbado\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mn\",\n    noon: \"md\",\n    morning: \"manh\",\n    afternoon: \"tarde\",\n    evening: \"tarde\",\n    night: \"noite\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"meia-noite\",\n    noon: \"meio-dia\",\n    morning: \"manh\",\n    afternoon: \"tarde\",\n    evening: \"tarde\",\n    night: \"noite\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"meia-noite\",\n    noon: \"meio-dia\",\n    morning: \"manh\",\n    afternoon: \"tarde\",\n    evening: \"tarde\",\n    night: \"noite\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mn\",\n    noon: \"md\",\n    morning: \"da manh\",\n    afternoon: \"da tarde\",\n    evening: \"da tarde\",\n    night: \"da noite\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"meia-noite\",\n    noon: \"meio-dia\",\n    morning: \"da manh\",\n    afternoon: \"da tarde\",\n    evening: \"da tarde\",\n    night: \"da noite\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"meia-noite\",\n    noon: \"meio-dia\",\n    morning: \"da manh\",\n    afternoon: \"da tarde\",\n    evening: \"da tarde\",\n    night: \"da noite\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, options) => {\n  const number = Number(dirtyNumber);\n\n  if (options?.unit === \"week\") {\n    return number + \"\";\n  }\n  return number + \"\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)[o]?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(ac|dc|a|d)/i,\n  abbreviated: /^(a\\.?\\s?c\\.?|d\\.?\\s?c\\.?)/i,\n  wide: /^(antes de cristo|depois de cristo)/i,\n};\nconst parseEraPatterns = {\n  any: [/^ac/i, /^dc/i],\n  wide: [/^antes de cristo/i, /^depois de cristo/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^T[1234]/i,\n  wide: /^[1234]()? trimestre/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmajsond]/i,\n  abbreviated: /^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,\n  wide: /^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^fev/i,\n    /^mar/i,\n    /^abr/i,\n    /^mai/i,\n    /^jun/i,\n    /^jul/i,\n    /^ago/i,\n    /^set/i,\n    /^out/i,\n    /^nov/i,\n    /^dez/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^(dom|[23456]?|s[a]b)/i,\n  short: /^(dom|[23456]?|s[a]b)/i,\n  abbreviated: /^(dom|seg|ter|qua|qui|sex|s[a]b)/i,\n  wide: /^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i,\n};\nconst parseDayPatterns = {\n  short: [/^d/i, /^2/i, /^3/i, /^4/i, /^5/i, /^6/i, /^s[a]/i],\n  narrow: [/^d/i, /^2/i, /^3/i, /^4/i, /^5/i, /^6/i, /^s[a]/i],\n  any: [/^d/i, /^seg/i, /^t/i, /^qua/i, /^qui/i, /^sex/i, /^s[a]b/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mn|md|(da) (manh|tarde|noite))/i,\n  any: /^([ap]\\.?\\s?m\\.?|meia[-\\s]noite|meio[-\\s]dia|(da) (manh|tarde|noite))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mn|^meia[-\\s]noite/i,\n    noon: /^md|^meio[-\\s]dia/i,\n    morning: /manh/i,\n    afternoon: /tarde/i,\n    evening: /tarde/i,\n    night: /noite/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./pt-BR/_lib/formatDistance.js\";\nimport { formatLong } from \"./pt-BR/_lib/formatLong.js\";\nimport { formatRelative } from \"./pt-BR/_lib/formatRelative.js\";\nimport { localize } from \"./pt-BR/_lib/localize.js\";\nimport { match } from \"./pt-BR/_lib/match.js\";\n\n/**\n * @category Locales\n * @summary Portuguese locale (Brazil).\n * @language Portuguese\n * @iso-639-2 por\n * @author Lucas Duailibe [@duailibe](https://github.com/duailibe)\n * @author Yago Carballo [@yagocarballo](https://github.com/YagoCarballo)\n */\nexport const ptBR = {\n  code: \"pt-BR\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default ptBR;\n","import React from 'react';\r\nimport { AutoSaveIndicatorProps } from '@/types/prompt';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale';\r\n\r\nexport const AutoSaveIndicator: React.FC<AutoSaveIndicatorProps> = ({\r\n  isSaving,\r\n  lastSaved,\r\n  hasUnsavedChanges,\r\n}) => {\r\n  const getStatusText = () => {\r\n    if (isSaving) return 'Salvando...';\r\n    if (hasUnsavedChanges) return 'No salvo';\r\n    if (lastSaved) return `Salvo ${formatDistanceToNow(lastSaved, {\r\n      addSuffix: true,\r\n      locale: ptBR\r\n    })}`;\r\n    return 'Salvo';\r\n  };\r\n\r\n  const getStatusClass = () => {\r\n    if (isSaving) return 'warning';\r\n    if (hasUnsavedChanges) return 'danger';\r\n    return 'success';\r\n  };\r\n\r\n  const getStatusIcon = () => {\r\n    if (isSaving) return 'fas fa-spinner fa-spin';\r\n    if (hasUnsavedChanges) return 'fas fa-exclamation-circle';\r\n    return 'fas fa-check-circle';\r\n  };\r\n\r\n  return (\r\n    <div className={`br-tag ${getStatusClass()}`}>\r\n      <i className={`${getStatusIcon()} me-1`}></i>\r\n      {getStatusText()}\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport { VersionHistoryProps } from '@/types/prompt';\r\nimport { format } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale';\r\n\r\nexport const VersionHistory: React.FC<VersionHistoryProps> = ({\r\n  versions,\r\n  onRestore,\r\n  currentVersion,\r\n}) => {\r\n  const sortedVersions = [...versions].sort((a, b) => b.version - a.version);\r\n\r\n  return (\r\n    <div className=\"version-history br-card\">\r\n      <div className=\"card-header\">\r\n        <h3 className=\"text-h3\">Histrico de Verses</h3>\r\n      </div>\r\n      <div className=\"card-content\">\r\n        <div className=\"version-list br-list\">\r\n          {sortedVersions.map((version) => (\r\n            <div\r\n              key={version.version}\r\n              className={`version-item br-item ${\r\n                version.version === currentVersion ? 'current' : ''\r\n              }`}\r\n            >\r\n              <div className=\"version-header\">\r\n                <div className=\"br-list-title\">\r\n                  <span className=\"version-number\">v{version.version}</span>\r\n                  {version.version === currentVersion && (\r\n                    <span className=\"br-tag success ms-2\">Atual</span>\r\n                  )}\r\n                </div>\r\n                <div className=\"br-list-text\">\r\n                  <span className=\"version-date text-small text-muted\">\r\n                    {format(new Date(version.createdAt), 'dd/MM/yyyy HH:mm', {\r\n                      locale: ptBR,\r\n                    })}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"version-author text-small text-muted\">\r\n                <i className=\"fas fa-user me-1\"></i>\r\n                por {version.author}\r\n              </div>\r\n              {version.changeDescription && (\r\n                <div className=\"version-description mt-2\">\r\n                  <p className=\"text-regular\">{version.changeDescription}</p>\r\n                </div>\r\n              )}\r\n              {version.version !== currentVersion && (\r\n                <div className=\"mt-3\">\r\n                  <button\r\n                    onClick={() => onRestore(version.version)}\r\n                    className=\"br-button secondary\"\r\n                    type=\"button\"\r\n                  >\r\n                    <i className=\"fas fa-undo me-1\"></i>\r\n                    Restaurar esta verso\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport { PromptToolbarProps } from '@/types/prompt';\r\n\r\nexport const PromptToolbar: React.FC<PromptToolbarProps> = ({\r\n  onSave,\r\n  onDiscard,\r\n  onRestoreDefaults,\r\n  isSaving,\r\n  hasUnsavedChanges,\r\n  disabled = false,\r\n}) => {\r\n  return (\r\n    <div className=\"prompt-toolbar\">\r\n      <div className=\"br-button-group\">\r\n        <button\r\n          onClick={onSave}\r\n          disabled={disabled || isSaving || !hasUnsavedChanges}\r\n          className=\"br-button primary\"\r\n          type=\"button\"\r\n        >\r\n          {isSaving ? (\r\n            <>\r\n              <i className=\"fas fa-spinner fa-spin me-1\"></i>\r\n              Salvando...\r\n            </>\r\n          ) : (\r\n            <>\r\n              <i className=\"fas fa-save me-1\"></i>\r\n              Salvar Alteraes\r\n            </>\r\n          )}\r\n        </button>\r\n\r\n        <button\r\n          onClick={onDiscard}\r\n          disabled={disabled || isSaving || !hasUnsavedChanges}\r\n          className=\"br-button secondary\"\r\n          type=\"button\"\r\n        >\r\n          <i className=\"fas fa-undo me-1\"></i>\r\n          Descartar\r\n        </button>\r\n\r\n        <button\r\n          onClick={onRestoreDefaults}\r\n          disabled={disabled || isSaving}\r\n          className=\"br-button\"\r\n          type=\"button\"\r\n        >\r\n          <i className=\"fas fa-refresh me-1\"></i>\r\n          Restaurar Padres\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { usePromptStore } from '@/stores/promptStore';\r\nimport { PromptEditor } from './PromptEditor';\r\nimport { AutoSaveIndicator } from './AutoSaveIndicator';\r\nimport { VersionHistory } from './VersionHistory';\r\nimport { PromptToolbar } from './PromptToolbar';\r\nimport { PromptType, PromptVersion } from '@/types/prompt';\r\nimport './PromptConfig.css';\r\n\r\nexport const PromptConfig: React.FC = () => {\r\n  const {\r\n    prompts,\r\n    isSaving,\r\n    lastSaved,\r\n    hasUnsavedChanges,\r\n    error,\r\n    activePromptType,\r\n    updatePrompt,\r\n    setActivePromptType,\r\n    savePrompts,\r\n    discardChanges,\r\n    restoreDefaults,\r\n    loadPrompts,\r\n    clearAutoSaveTimer,\r\n    getVersionHistory,\r\n    restoreVersion,\r\n  } = usePromptStore();\r\n\r\n  const [versionHistory, setVersionHistory] = useState<PromptVersion[]>([]);\r\n\r\n  useEffect(() => {\r\n    loadPrompts();\r\n    return () => {\r\n      clearAutoSaveTimer();\r\n    };\r\n  }, [loadPrompts, clearAutoSaveTimer]);\r\n\r\n  useEffect(() => {\r\n    const loadVersionHistory = async () => {\r\n      const history = await getVersionHistory(activePromptType);\r\n      setVersionHistory(history);\r\n    };\r\n    loadVersionHistory();\r\n  }, [activePromptType, getVersionHistory]);\r\n\r\n  const handlePromptChange = (content: string) => {\r\n    updatePrompt(activePromptType, content);\r\n  };\r\n\r\n  const handleTabChange = (type: PromptType) => {\r\n    setActivePromptType(type);\r\n  };\r\n\r\n  const handleRestoreVersion = async (version: number) => {\r\n    await restoreVersion(activePromptType, version);\r\n    const history = await getVersionHistory(activePromptType);\r\n    setVersionHistory(history);\r\n  };\r\n\r\n  const currentPrompt = prompts[activePromptType];\r\n\r\n  const getTabLabel = (type: PromptType) => {\r\n    switch (type) {\r\n      case 'general':\r\n        return 'Critrios Gerais';\r\n      case 'architectural':\r\n        return 'Conformidade Arquitetural';\r\n      case 'business':\r\n        return 'Conformidade Negocial';\r\n    }\r\n  };\r\n\r\n  const getPlaceholder = (type: PromptType) => {\r\n    switch (type) {\r\n      case 'general':\r\n        return 'Digite os critrios gerais de anlise de cdigo...';\r\n      case 'architectural':\r\n        return 'Digite os critrios de conformidade arquitetural...';\r\n      case 'business':\r\n        return 'Digite os critrios de conformidade negocial...';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"prompt-config\">\r\n      <div className=\"prompt-config-header\">\r\n        <div className=\"br-card\">\r\n          <div className=\"card-header text-center\">\r\n            <h1 className=\"text-h1\">Configurao de Prompts</h1>\r\n            <p className=\"text-regular\">\r\n              Personalize os prompts que sero usados para anlise do cdigo-fonte.\r\n              As alteraes so salvas automaticamente a cada 30 segundos.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"br-message danger\" role=\"alert\">\r\n          <div className=\"icon\">\r\n            <span className=\"fas fa-exclamation-triangle\"></span>\r\n          </div>\r\n          <div className=\"content\" aria-label=\"Mensagem de erro\">\r\n            <p>{error}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"br-tabs\" data-tabs=\"prompt-tabs\">\r\n        <nav className=\"tab-navigation\" role=\"tablist\">\r\n          {(['general', 'architectural', 'business'] as PromptType[]).map((type) => (\r\n            <button\r\n              key={type}\r\n              className={`tab-item ${activePromptType === type ? 'is-active' : ''}`}\r\n              role=\"tab\"\r\n              aria-selected={activePromptType === type}\r\n              aria-controls={`tab-${type}`}\r\n              onClick={() => handleTabChange(type)}\r\n            >\r\n              <span className=\"name\">{getTabLabel(type)}</span>\r\n            </button>\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      <div className=\"br-container\">\r\n        <div className=\"br-grid\">\r\n          <div className=\"br-col-12 br-col-md-8\">\r\n            <div className=\"br-card\">\r\n              <div className=\"card-header\">\r\n                <div className=\"row align-items-center\">\r\n                  <div className=\"br-col\">\r\n                    <h2 className=\"text-h2\">{getTabLabel(activePromptType)}</h2>\r\n                  </div>\r\n                  <div className=\"br-col-auto\">\r\n                    <AutoSaveIndicator\r\n                      isSaving={isSaving}\r\n                      lastSaved={lastSaved}\r\n                      hasUnsavedChanges={hasUnsavedChanges}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"card-content\">\r\n                <PromptEditor\r\n                  value={currentPrompt.content}\r\n                  onChange={handlePromptChange}\r\n                  language=\"markdown\"\r\n                  placeholder={getPlaceholder(activePromptType)}\r\n                  disabled={isSaving}\r\n                />\r\n\r\n                <div className=\"prompt-actions mt-4\">\r\n                  <PromptToolbar\r\n                    onSave={savePrompts}\r\n                    onDiscard={discardChanges}\r\n                    onRestoreDefaults={restoreDefaults}\r\n                    isSaving={isSaving}\r\n                    hasUnsavedChanges={hasUnsavedChanges}\r\n                    disabled={isSaving}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"br-col-12 br-col-md-4\">\r\n            <div className=\"br-card mb-3\">\r\n              <div className=\"card-header\">\r\n                <h3 className=\"text-h3\">Informaes do Prompt</h3>\r\n              </div>\r\n              <div className=\"card-content\">\r\n                <div className=\"br-list\">\r\n                  <div className=\"br-item\">\r\n                    <span className=\"br-list-title\">Nome:</span>\r\n                    <span className=\"br-list-text\">{currentPrompt.name}</span>\r\n                  </div>\r\n                  <div className=\"br-item\">\r\n                    <span className=\"br-list-title\">Descrio:</span>\r\n                    <span className=\"br-list-text\">{currentPrompt.description}</span>\r\n                  </div>\r\n                  <div className=\"br-item\">\r\n                    <span className=\"br-list-title\">Tipo:</span>\r\n                    <span className=\"br-list-text\">{currentPrompt.type}</span>\r\n                  </div>\r\n                  <div className=\"br-item\">\r\n                    <span className=\"br-list-title\">Status:</span>\r\n                    <span className={`br-tag ${currentPrompt.isActive ? 'success' : 'warning'}`}>\r\n                      {currentPrompt.isActive ? 'Ativo' : 'Inativo'}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"br-item\">\r\n                    <span className=\"br-list-title\">Padro:</span>\r\n                    <span className={`br-tag ${currentPrompt.isDefault ? 'info' : 'secondary'}`}>\r\n                      {currentPrompt.isDefault ? 'Sim' : 'No'}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"br-item\">\r\n                    <span className=\"br-list-title\">ltima modificao:</span>\r\n                    <span className=\"br-list-text\">\r\n                      {new Date(currentPrompt.updatedAt).toLocaleString('pt-BR')}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"br-card\">\r\n              <div className=\"card-header\">\r\n                <h3 className=\"text-h3\">Histrico de Verses</h3>\r\n              </div>\r\n              <div className=\"card-content\">\r\n                <VersionHistory\r\n                  versions={versionHistory.length > 0 ? versionHistory : [\r\n                    {\r\n                      version: currentPrompt.version || 1,\r\n                      content: currentPrompt.content,\r\n                      createdAt: currentPrompt.updatedAt,\r\n                      author: 'Usurio',\r\n                    },\r\n                  ]}\r\n                  onRestore={handleRestoreVersion}\r\n                  currentVersion={currentPrompt.version || 1}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport { PromptConfig } from '@/components/features/PromptConfig';\r\n\r\nconst PromptConfigPage: React.FC = () => {\r\n  return <PromptConfig />;\r\n};\r\n\r\nexport default PromptConfigPage;","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\n// Funo alternativa para gerar UUID sem dependncia externa\r\nconst generateUUID = (): string => {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n    const r = Math.random() * 16 | 0;\r\n    const v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n    return v.toString(16);\r\n  });\r\n};\r\nimport './PathList.css';\r\n\r\ninterface FilePath {\r\n  id: string;\r\n  fullPath: string;\r\n  fileName: string;\r\n  fileExtension: string;\r\n  folderPath: string;\r\n  fileSize?: number;\r\n  lastModified?: Date;\r\n  created_at?: string;\r\n}\r\n\r\ninterface PathListProps {\r\n  paths?: FilePath[];\r\n  onLoadPaths?: (paths: FilePath[]) => void;\r\n  autoRefresh?: boolean;\r\n  onFolderSelect?: (paths: FilePath[]) => void;\r\n  onError?: (error: string) => void;\r\n  onSelectionComplete?: () => void;\r\n}\r\n\r\nconst PathList: React.FC<PathListProps> = ({\r\n  paths: initialPaths = [],\r\n  onLoadPaths,\r\n  autoRefresh = true,\r\n  onFolderSelect,\r\n  onError,\r\n  onSelectionComplete\r\n}) => {\r\n  const [paths, setPaths] = useState<FilePath[]>(initialPaths);\r\n\r\n  // Debug: Verificar estado inicial\r\n  console.log(' PathList montado com initialPaths:', initialPaths);\r\n  console.log(' initialPaths.length:', initialPaths.length);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [isScanning, setIsScanning] = useState(false);\r\n  const [scanProgress, setScanProgress] = useState(0);\r\n  const [selectedFolderPath, setSelectedFolderPath] = useState<string>('');\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const [sortBy, setSortBy] = useState<'fileName' | 'fullPath' | 'fileSize' | 'lastModified'>('fileName');\r\n  const [sortOrder, setSortOrder] = useState<'asc' | 'desc'>('asc');\r\n  const [selectedFiles, setSelectedFiles] = useState<Set<string>>(new Set());\r\n\r\n  const formatFileSize = (bytes: number): string => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  // Funo para sincronizar file paths com o upload store\r\n  const syncPathsToUploadStore = useCallback((filePaths: FilePath[]) => {\r\n    try {\r\n      // Limpar arquivos existentes no upload store\r\n      // clearFiles(); // Removido temporariamente\r\n\r\n      // Criar objetos File simulados para o upload store\r\n      const mockFiles = filePaths.map(path => ({\r\n        id: path.id,\r\n        name: path.fileName,\r\n        size: path.fileSize || 0,\r\n        type: `application/${path.fileExtension}`,\r\n        path: path.fullPath,\r\n        status: 'completed' as const,\r\n        progress: 100,\r\n        uploadedAt: new Date()\r\n      }));\r\n\r\n      // Adicionar arquivos ao upload store simulando o uploadFiles\r\n      mockFiles.forEach(mockFile => {\r\n        // Usar o estado interno diretamente j que uploadFiles  assncrono\r\n        setPaths(prevPaths => [...prevPaths]);\r\n      });\r\n\r\n      console.log(`Sincronizados ${mockFiles.length} arquivos para o upload store`);\r\n    } catch (error) {\r\n      console.error('Erro ao sincronizar paths com upload store:', error);\r\n    }\r\n  }, []);\r\n\r\n  const formatDate = (dateString: string): string => {\r\n    return new Date(dateString).toLocaleDateString('pt-BR', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const getFileExtension = (fileName: string): string => {\r\n    const parts = fileName.split('.');\r\n    return parts.length > 1 ? parts[parts.length - 1].toLowerCase() : '';\r\n  };\r\n\r\n  const handleFolderSelect = useCallback(async (files: FileList) => {\r\n    console.log('handleFolderSelect called with:', {\r\n      fileCount: files.length,\r\n      firstFileName: files[0]?.name,\r\n      firstFilePath: files[0]?.webkitRelativePath\r\n    });\r\n\r\n    try {\r\n      setIsScanning(true);\r\n      setScanProgress(0);\r\n\r\n      // Extract folder path from the first file\r\n      const firstFile = files[0];\r\n      if (!firstFile) {\r\n        if (onError) onError('No files selected');\r\n        return;\r\n      }\r\n\r\n      const relativePath = firstFile.webkitRelativePath || '';\r\n      const folderPath = relativePath.split('/')[0] || 'selected_folder';\r\n      console.log('Processing folder:', { folderPath, relativePath });\r\n\r\n      // Store the complete folder path for display\r\n      setSelectedFolderPath(folderPath);\r\n\r\n      // Process files to extract path information\r\n      const filePaths: FilePath[] = [];\r\n\r\n      for (let i = 0; i < files.length; i++) {\r\n        const file = files[i];\r\n        const relativePath = file.webkitRelativePath || '';\r\n        const pathParts = relativePath.split('/');\r\n        const fileName = pathParts[pathParts.length - 1];\r\n        const folderPath = pathParts.slice(0, -1).join('/');\r\n\r\n        // Instead of simulating paths, we'll store the relative path and upload the actual file\r\n        // The backend will handle file storage and path resolution\r\n        const relativePathForStorage = relativePath.startsWith(folderPath + '/')\r\n          ? relativePath\r\n          : `${folderPath}/${relativePath}`;\r\n\r\n        const filePath: FilePath = {\r\n          id: generateUUID(),\r\n          fullPath: relativePathForStorage, // Store relative path, backend will resolve\r\n          fileName,\r\n          fileExtension: getFileExtension(fileName),\r\n          folderPath,\r\n          fileSize: file.size,\r\n          lastModified: new Date(file.lastModified),\r\n          file: file // Store the actual File object for upload\r\n        };\r\n\r\n        filePaths.push(filePath);\r\n\r\n        // Update progress\r\n        setScanProgress(((i + 1) / files.length) * 100);\r\n\r\n        // Small delay to show progress\r\n        await new Promise(resolve => setTimeout(resolve, 50));\r\n      }\r\n\r\n      // Try to upload files and persist paths to database, but continue even if it fails\r\n      try {\r\n        console.log('Attempting to upload files and save paths to database...');\r\n        const { getAuthHeaders } = await import('@/utils/auth');\r\n        const authHeaders = getAuthHeaders();\r\n\r\n        console.log('Auth headers:', { hasAuth: !!authHeaders.Authorization });\r\n\r\n        if (authHeaders.Authorization) {\r\n          // Upload files using the existing folder endpoint\r\n          const formData = new FormData();\r\n\r\n          // Add all files to FormData - the backend endpoint expects List[UploadFile]\r\n          filePaths.forEach((filePath) => {\r\n            if (filePath.file) {\r\n              formData.append('files', filePath.file);\r\n            }\r\n          });\r\n\r\n          const response = await fetch('/api/v1/upload/folder', {\r\n            method: 'POST',\r\n            headers: {\r\n              ...authHeaders\r\n              // Don't set Content-Type header for FormData, let browser set it with boundary\r\n            },\r\n            body: formData\r\n          });\r\n\r\n          console.log('Database response:', {\r\n            status: response.status,\r\n            statusText: response.statusText\r\n          });\r\n\r\n          if (!response.ok) {\r\n            if (response.status === 401) {\r\n              console.warn('Authentication failed - continuing without upload');\r\n            } else {\r\n              const errorText = await response.text();\r\n              console.error('Server error response:', errorText);\r\n            }\r\n          } else {\r\n            const result = await response.json();\r\n            console.log('Upload result:', result);\r\n\r\n            if (result.failed_files && result.failed_files.length > 0) {\r\n              console.warn('Some files could not be uploaded:', result.failed_files);\r\n            }\r\n\r\n            console.log(`Successfully uploaded ${result.total_uploaded} files`);\r\n\r\n            // Call onFolderSelect with the uploaded files info\r\n            if (onFolderSelect) {\r\n              // Convert uploaded files to FilePath format for display\r\n              const uploadedFilePaths: FilePath[] = result.uploaded_files.map((file: any) => ({\r\n                id: file.id,\r\n                fullPath: file.path, // Use the path from server\r\n                fileName: file.name,\r\n                fileExtension: file.name.split('.').pop() || '',\r\n                folderPath: file.path.split('/').slice(0, -1).join('/'),\r\n                fileSize: file.size,\r\n                lastModified: new Date(file.upload_date),\r\n                is_processed: true,\r\n                processing_status: 'completed'\r\n              }));\r\n              onFolderSelect(uploadedFilePaths);\r\n            }\r\n          }\r\n        } else {\r\n          console.warn('No authentication token - skipping upload');\r\n          // If no auth, still call onFolderSelect with local file info\r\n          if (onFolderSelect) {\r\n            onFolderSelect(filePaths);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.warn('Error uploading files (continuing anyway):', error);\r\n        // If upload fails, still call onFolderSelect with local file info\r\n        if (onFolderSelect) {\r\n          onFolderSelect(filePaths);\r\n        }\r\n      }\r\n\r\n      // Refresh the file list to show uploaded files\r\n      console.log('Refreshing file list after upload...');\r\n      await loadPaths();\r\n\r\n      // Notify that selection is complete to trigger list refresh\r\n      if (onSelectionComplete) {\r\n        onSelectionComplete();\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Error scanning folder:', error);\r\n      if (onError) onError(error instanceof Error ? error.message : 'Failed to scan folder');\r\n    } finally {\r\n      setIsScanning(false);\r\n      setScanProgress(0);\r\n    }\r\n  }, [onFolderSelect, onError, onSelectionComplete]);\r\n\r\n  const handleFileInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    console.log('File input changed:', {\r\n      files: e.target.files,\r\n      fileCount: e.target.files?.length,\r\n      firstFile: e.target.files?.[0]?.name\r\n    });\r\n\r\n    if (e.target.files && e.target.files.length > 0) {\r\n      handleFolderSelect(e.target.files);\r\n    } else {\r\n      console.warn('No files selected');\r\n      if (onError) onError('Nenhum arquivo selecionado. Por favor, escolha uma pasta com arquivos.');\r\n    }\r\n  };\r\n\r\n  const loadPaths = async () => {\r\n    try {\r\n      console.log(' PathList.loadPaths() - Iniciando carregamento...');\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const { getAuthHeaders, isAuthenticated } = await import('@/utils/auth');\r\n\r\n      // Check if user is authenticated first\r\n      if (!isAuthenticated()) {\r\n        console.log(' Usurio no autenticado');\r\n        setError('Por favor, faa login para ver os caminhos de arquivos.');\r\n        return;\r\n      }\r\n\r\n      console.log(' Usurio autenticado, fazendo requisio para /api/v1/file-paths/');\r\n\r\n      // Sync uploaded files to file_paths table first\r\n      // REMOVIDO: Sync automtico desativado para evitar duplicaes\r\n      // O backend j deve criar os registros necessrios durante o upload\r\n\r\n      const authHeaders = getAuthHeaders();\r\n      console.log(' Auth headers:', Object.keys(authHeaders));\r\n\r\n      const requestUrl = '/api/v1/file-paths/public';\r\n      console.log(' Fazendo requisio para endpoint pblico (todos os arquivos):', requestUrl);\r\n      console.log(' URL completa:', window.location.origin + requestUrl);\r\n\r\n      const response = await fetch(requestUrl);\r\n\r\n      console.log(' Resposta da API:', {\r\n        status: response.status,\r\n        statusText: response.statusText,\r\n        ok: response.ok\r\n      });\r\n\r\n      if (!response.ok) {\r\n        if (response.status === 401) {\r\n          throw new Error('Sesso expirada. Por favor, faa login novamente.');\r\n        }\r\n        throw new Error('Failed to load file paths');\r\n      }\r\n\r\n      const result = await response.json();\r\n      console.log(' Dados recebidos da API:', result);\r\n\r\n      // Transform backend response to frontend format\r\n      // Public endpoint returns just strings (paths), so we need to create objects\r\n      const transformedPaths = (result.file_paths || []).map((path: any, index: number) => {\r\n        // If path is already an object (from other endpoints), keep structure\r\n        if (typeof path === 'object' && path !== null) {\r\n          return {\r\n            id: path.file_id || path.id,\r\n            fullPath: path.full_path,\r\n            fileName: path.file_name,\r\n            fileExtension: path.file_extension,\r\n            folderPath: path.folder_path,\r\n            fileSize: path.file_size,\r\n            lastModified: path.last_modified ? new Date(path.last_modified) : undefined,\r\n            created_at: path.created_at\r\n          };\r\n        }\r\n\r\n        // If path is a string (from public endpoint), create object from string\r\n        const pathStr = path as string;\r\n        const fileName = pathStr.split('/').pop() || pathStr;\r\n        const fileExtension = fileName.includes('.') ? fileName.split('.').pop() : '';\r\n\r\n        return {\r\n          id: `path_${index}`, // Generate unique ID\r\n          fullPath: pathStr,\r\n          fileName: fileName,\r\n          fileExtension: fileExtension,\r\n          folderPath: pathStr.includes('/') ? pathStr.split('/')[0] : '',\r\n          fileSize: undefined, // Not available from public endpoint\r\n          lastModified: undefined,\r\n          created_at: undefined\r\n        };\r\n      });\r\n\r\n      console.log(' Paths transformados (TODOS OS ARQUIVOS):', transformedPaths.slice(0, 3)); // Show first 3 for debug\r\n      console.log(' Total de paths:', transformedPaths.length);\r\n      console.log(' CARREGADOS TODOS OS ARQUIVOS - SEM LIMITE ');\r\n      console.log(' Primeiro arquivo transformado:', transformedPaths[0]);\r\n\r\n      setPaths(transformedPaths);\r\n\r\n      if (onLoadPaths) {\r\n        onLoadPaths(transformedPaths);\r\n      }\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : 'Failed to load paths';\r\n      setError(errorMessage);\r\n      console.error(' Error loading paths:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (autoRefresh) {\r\n      loadPaths();\r\n    }\r\n  }, [autoRefresh]);\r\n\r\n  const filteredAndSortedPaths = React.useMemo(() => {\r\n    let filtered = paths;\r\n\r\n    // Filter by search term\r\n    if (searchTerm) {\r\n      const term = searchTerm.toLowerCase();\r\n      filtered = filtered.filter(path =>\r\n        path.fileName.toLowerCase().includes(term) ||\r\n        path.fullPath.toLowerCase().includes(term) ||\r\n        path.fileExtension.toLowerCase().includes(term) ||\r\n        path.folderPath.toLowerCase().includes(term)\r\n      );\r\n    }\r\n\r\n    // Sort paths\r\n    return filtered.sort((a, b) => {\r\n      let aValue: any = a[sortBy];\r\n      let bValue: any = b[sortBy];\r\n\r\n      if (sortBy === 'fileSize') {\r\n        aValue = aValue || 0;\r\n        bValue = bValue || 0;\r\n      }\r\n\r\n      if (aValue < bValue) return sortOrder === 'asc' ? -1 : 1;\r\n      if (aValue > bValue) return sortOrder === 'asc' ? 1 : -1;\r\n      return 0;\r\n    });\r\n  }, [paths, searchTerm, sortBy, sortOrder]);\r\n\r\n  const handleSort = (column: typeof sortBy) => {\r\n    if (sortBy === column) {\r\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortBy(column);\r\n      setSortOrder('asc');\r\n    }\r\n  };\r\n\r\n  const handleFileSelect = (fileId: string) => {\r\n    setSelectedFiles(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(fileId)) {\r\n        newSet.delete(fileId);\r\n      } else {\r\n        newSet.add(fileId);\r\n      }\r\n      return newSet;\r\n    });\r\n  };\r\n\r\n  const handleSelectAll = () => {\r\n    if (selectedFiles.size === filteredAndSortedPaths.length) {\r\n      setSelectedFiles(new Set());\r\n    } else {\r\n      setSelectedFiles(new Set(filteredAndSortedPaths.map(path => path.id)));\r\n    }\r\n  };\r\n\r\n  const handleRemoveSelected = async () => {\r\n    if (selectedFiles.size === 0) return;\r\n\r\n    // Confirm before deletion\r\n    const confirmMessage = `Tem certeza que deseja remover ${selectedFiles.size} arquivo(s) selecionados? Esta ao ir remover os arquivos do banco de dados e tambm deletar os arquivos fsicos da pasta de uploads.`;\r\n    if (!confirm(confirmMessage)) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { getAuthHeaders } = await import('@/utils/auth');\r\n      const authHeaders = getAuthHeaders();\r\n\r\n      const response = await fetch('/api/v1/file-paths/', {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...authHeaders\r\n        },\r\n        body: JSON.stringify(Array.from(selectedFiles))\r\n      });\r\n\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n\r\n        // Remove selected files from the local state\r\n        setPaths(prev => prev.filter(path => !selectedFiles.has(path.id)));\r\n        setSelectedFiles(new Set());\r\n\r\n        // Show success message with details\r\n        const message = result.errors && result.errors.length > 0\r\n          ? `Removidos ${result.deleted_db_records} registros do banco de dados e ${result.deleted_physical_files} arquivos fsicos. Alguns erros ocorreram: ${result.errors.join(', ')}`\r\n          : `Removidos ${result.deleted_db_records} registros do banco de dados e ${result.deleted_physical_files} arquivos fsicos com sucesso!`;\r\n\r\n        alert(message);\r\n        console.log('Remoo concluda:', result);\r\n      } else {\r\n        const errorText = await response.text();\r\n        console.error('Erro ao remover arquivos selecionados:', errorText);\r\n        alert('Erro ao remover arquivos selecionados. Por favor, tente novamente.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao remover arquivos selecionados:', error);\r\n      alert('Erro ao remover arquivos selecionados. Por favor, tente novamente.');\r\n    }\r\n  };\r\n\r\n  const handleRemoveFile = async (fileId: string) => {\r\n    // Confirm before deletion\r\n    if (!confirm('Tem certeza que deseja remover este arquivo? Esta ao ir remover o arquivo do banco de dados e tambm deletar o arquivo fsico da pasta de uploads.')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { getAuthHeaders } = await import('@/utils/auth');\r\n      const authHeaders = getAuthHeaders();\r\n\r\n      const response = await fetch('/api/v1/file-paths/', {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...authHeaders\r\n        },\r\n        body: JSON.stringify([fileId])\r\n      });\r\n\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n\r\n        // Remove file from the local state\r\n        setPaths(prev => prev.filter(path => path.id !== fileId));\r\n        // Also remove from selected files if it was selected\r\n        setSelectedFiles(prev => {\r\n          const newSet = new Set(prev);\r\n          newSet.delete(fileId);\r\n          return newSet;\r\n        });\r\n\r\n        // Show success message with details\r\n        const message = result.errors && result.errors.length > 0\r\n          ? `Removido 1 registro do banco de dados e ${result.deleted_physical_files} arquivo(s) fsico(s). Alguns erros ocorreram: ${result.errors.join(', ')}`\r\n          : `Removido 1 registro do banco de dados e ${result.deleted_physical_files} arquivo(s) fsico(s) com sucesso!`;\r\n\r\n        alert(message);\r\n        console.log('Remoo individual concluda:', result);\r\n      } else {\r\n        const errorText = await response.text();\r\n        console.error('Erro ao remover arquivo:', errorText);\r\n        alert('Erro ao remover arquivo. Por favor, tente novamente.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao remover arquivo:', error);\r\n      alert('Erro ao remover arquivo. Por favor, tente novamente.');\r\n    }\r\n  };\r\n\r\n  const handleHardReset = async () => {\r\n    if (confirm('Tem certeza que deseja fazer um reset completo? Isso vai limpar todo o cache e recarregar a pgina.')) {\r\n      console.log(' Iniciando reset completo...');\r\n\r\n      try {\r\n        // Limpar localStorage\r\n        console.log(' Limpando localStorage...');\r\n        Object.keys(localStorage).forEach(key => {\r\n          if (key.includes('auth') || key.includes('upload') || key.includes('file') || key.includes('path')) {\r\n            console.log(`  Removendo: ${key}`);\r\n            localStorage.removeItem(key);\r\n          }\r\n        });\r\n\r\n        // Limpar sessionStorage\r\n        console.log(' Limpando sessionStorage...');\r\n        Object.keys(sessionStorage).forEach(key => {\r\n          if (key.includes('auth') || key.includes('upload') || key.includes('file') || key.includes('path')) {\r\n            console.log(`  Removendo: ${key}`);\r\n            sessionStorage.removeItem(key);\r\n          }\r\n        });\r\n\r\n        // Forar reload da pgina\r\n        console.log(' Recarregando pgina...');\r\n        window.location.reload();\r\n\r\n      } catch (error) {\r\n        console.error(' Erro durante reset:', error);\r\n        alert('Erro durante o reset. Por favor, recarregue a pgina manualmente (F5).');\r\n      }\r\n    }\r\n  };\r\n\r\n  const copyToClipboard = (text: string) => {\r\n    navigator.clipboard.writeText(text).then(() => {\r\n      // Optionally show a success message\r\n    }).catch(err => {\r\n      console.error('Failed to copy text:', err);\r\n    });\r\n  };\r\n\r\n  const exportToCSV = () => {\r\n    const csvContent = [\r\n      ['File Path', 'File Name', 'Extension', 'Folder Path', 'Size', 'Modified'],\r\n      ...filteredAndSortedPaths.map(path => [\r\n        path.fullPath,\r\n        path.fileName,\r\n        path.fileExtension,\r\n        path.folderPath,\r\n        path.fileSize ? formatFileSize(path.fileSize) : '',\r\n        path.lastModified ? formatDate(path.lastModified.toString()) : ''\r\n      ])\r\n    ].map(row => row.map(cell => `\"${cell}\"`).join(',')).join('\\n');\r\n\r\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n    const link = document.createElement('a');\r\n    const url = URL.createObjectURL(blob);\r\n    link.setAttribute('href', url);\r\n    link.setAttribute('download', `file_paths_${new Date().toISOString().split('T')[0]}.csv`);\r\n    link.style.visibility = 'hidden';\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-6\">\r\n        <div className=\"flex items-center justify-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n          <span className=\"ml-3 text-gray-600\">Carregando caminhos de arquivos...</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    const isAuthError = error.includes('login') || error.includes('Sesso expirada');\r\n    return (\r\n      <div className={`${isAuthError ? 'bg-blue-50 border-blue-200' : 'bg-red-50 border-red-200'} rounded-lg p-6`}>\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h3 className={`text-sm font-medium ${isAuthError ? 'text-blue-800' : 'text-red-800'}`}>\r\n              {isAuthError ? 'Autenticao necessria' : 'Erro ao carregar caminhos'}\r\n            </h3>\r\n            <p className={`text-sm ${isAuthError ? 'text-blue-600' : 'text-red-600'} mt-1`}>{error}</p>\r\n          </div>\r\n          {!isAuthError && (\r\n            <button\r\n              onClick={loadPaths}\r\n              className=\"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\r\n            >\r\n              Tentar novamente\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"path-list\">\r\n      {/* Hidden file input for folder selection */}\r\n      <input\r\n        ref={fileInputRef}\r\n        id=\"folder-input\"\r\n        type=\"file\"\r\n        webkitdirectory=\"\"\r\n        directory=\"\"\r\n        multiple\r\n        className=\"hidden\"\r\n        onChange={handleFileInputChange}\r\n        disabled={isScanning}\r\n      />\r\n\r\n      {/* Header */}\r\n      <div className=\"path-list-header\">\r\n        <div className=\"br-card\">\r\n          <div className=\"card-header\">\r\n            <h2 className=\"text-h2\">Caminhos de Arquivos</h2>\r\n            <p className=\"text-regular\">\r\n              {filteredAndSortedPaths.length} arquivo(s) encontrado(s)\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Controls */}\r\n      <div className=\"path-list-controls\">\r\n        <div className=\"search-box\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Buscar arquivos...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"br-input\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"action-buttons\">\r\n          {/* Refresh button */}\r\n          <button\r\n            onClick={loadPaths}\r\n            className=\"br-button secondary small\"\r\n            type=\"button\"\r\n            title=\"Atualizar lista de arquivos\"\r\n          >\r\n             Atualizar\r\n          </button>\r\n\r\n          {/* Selection controls */}\r\n          {filteredAndSortedPaths.length > 0 && (\r\n            <div className=\"selection-controls\">\r\n              <button\r\n                onClick={handleSelectAll}\r\n                className=\"br-button secondary small\"\r\n                type=\"button\"\r\n              >\r\n                {selectedFiles.size === filteredAndSortedPaths.length ? 'Desmarcar Todos' : 'Selecionar Todos'}\r\n              </button>\r\n\r\n              {selectedFiles.size > 0 && (\r\n                <button\r\n                  onClick={handleRemoveSelected}\r\n                  className=\"br-button danger small\"\r\n                  type=\"button\"\r\n                >\r\n                  Remover Selecionados ({selectedFiles.size})\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <button\r\n            onClick={() => document.getElementById('folder-input')?.click()}\r\n            disabled={isScanning}\r\n            className=\"br-button\"\r\n            type=\"button\"\r\n          >\r\n            {isScanning ? (\r\n              <div className=\"flex items-center space-x-2\">\r\n                <svg className=\"animate-spin h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                </svg>\r\n                <span>Selecionando...</span>\r\n              </div>\r\n            ) : (\r\n              'Selecionar Pasta'\r\n            )}\r\n          </button>\r\n\r\n          <button\r\n            onClick={exportToCSV}\r\n            disabled={filteredAndSortedPaths.length === 0}\r\n            className=\"br-button secondary\"\r\n            type=\"button\"\r\n          >\r\n            Exportar CSV\r\n          </button>\r\n\r\n          <button\r\n            onClick={handleHardReset}\r\n            className=\"br-button danger\"\r\n            type=\"button\"\r\n            title=\"Limpar completamente cache e recarregar\"\r\n          >\r\n             Reset Completo\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Scanning Progress */}\r\n      {isScanning && (\r\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <h4 className=\"text-sm font-medium text-blue-800\">\r\n              Selecionando pasta...\r\n            </h4>\r\n            <span className=\"text-sm text-blue-600\">\r\n              {Math.round(scanProgress)}%\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"w-full bg-blue-200 rounded-full h-2\">\r\n            <div\r\n              className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\r\n              style={{ width: `${scanProgress}%` }}\r\n            />\r\n          </div>\r\n\r\n          <p className=\"text-xs text-blue-600 mt-2\">\r\n            Extraindo caminhos dos arquivos e salvando no banco de dados...\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Path List */}\r\n      <div className=\"br-card\">\r\n        {filteredAndSortedPaths.length === 0 ? (\r\n          <div className=\"empty-state\">\r\n            <p className=\"text-center\">\r\n              {searchTerm ? 'Nenhum arquivo encontrado para os termos de busca.' : 'Selecione uma pasta para comear.'}\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"path-items\">\r\n            {filteredAndSortedPaths.map((path) => (\r\n              <div key={path.id} className={`path-item ${selectedFiles.has(path.id) ? 'selected' : ''}`}>\r\n                <div className=\"path-item-header\">\r\n                  <div className=\"path-checkbox\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedFiles.has(path.id)}\r\n                      onChange={() => handleFileSelect(path.id)}\r\n                      className=\"br-checkbox\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"path-content\">\r\n                    <code className=\"path-text\">{path.fullPath}</code>\r\n                    <div className=\"path-meta\">\r\n                      <span className=\"path-filename\">{path.fileName}</span>\r\n                      <span className=\"path-size\">{path.fileSize ? formatFileSize(path.fileSize) : ''}</span>\r\n                      <span className=\"path-extension\">.{path.fileExtension}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"path-actions\">\r\n                  <button\r\n                    onClick={() => copyToClipboard(path.fullPath)}\r\n                    className=\"br-button circle small\"\r\n                    type=\"button\"\r\n                    title=\"Copiar caminho\"\r\n                  >\r\n                    <svg className=\"br-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\r\n                    </svg>\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleRemoveFile(path.id)}\r\n                    className=\"br-button circle small danger\"\r\n                    type=\"button\"\r\n                    title=\"Remover arquivo\"\r\n                  >\r\n                    <svg className=\"br-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      {paths.length > 0 && (\r\n        <div className=\"path-list-footer\">\r\n          <p className=\"text-center text-regular\">\r\n            Mostrando {filteredAndSortedPaths.length} de {paths.length} arquivos\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PathList;","import React, { useState } from 'react';\r\nimport FolderSelector from '@/components/features/CodeUpload/FolderSelector';\r\nimport PathList from '@/components/features/CodeUpload/PathList';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst CodeUploadPage: React.FC = () => {\r\n  const [refreshKey, setRefreshKey] = useState(0);\r\n\r\n  const handleFolderSelect = (paths: any[]) => {\r\n    toast.success(`${paths.length} caminho(s) extrado(s) com sucesso!`);\r\n  };\r\n\r\n  const handleFolderError = (error: string) => {\r\n    toast.error(`Erro: ${error}`);\r\n  };\r\n\r\n  const handleSelectionComplete = () => {\r\n    // Force refresh the path list when folder selection is complete\r\n    setRefreshKey(prev => prev + 1);\r\n  };\r\n\r\n  return (\r\n    <div className=\"code-upload-page\">\r\n      {/* File Paths List */}\r\n      <div className=\"path-list-section\">\r\n        <PathList\r\n          key={refreshKey}\r\n          autoRefresh={true}\r\n          onFolderSelect={handleFolderSelect}\r\n          onError={handleFolderError}\r\n          onSelectionComplete={handleSelectionComplete}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CodeUploadPage;","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst mergeClasses = (...classes) => classes.filter((className, index, array) => {\n  return Boolean(className) && array.indexOf(className) === index;\n}).join(\" \");\n\nexport { mergeClasses, toKebabCase };\n//# sourceMappingURL=utils.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\nimport { mergeClasses } from './shared/src/utils.js';\n\nconst Icon = forwardRef(\n  ({\n    color = \"currentColor\",\n    size = 24,\n    strokeWidth = 2,\n    absoluteStrokeWidth,\n    className = \"\",\n    children,\n    iconNode,\n    ...rest\n  }, ref) => {\n    return createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: mergeClasses(\"lucide\", className),\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...Array.isArray(children) ? children : [children]\n      ]\n    );\n  }\n);\n\nexport { Icon as default };\n//# sourceMappingURL=Icon.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport { mergeClasses, toKebabCase } from './shared/src/utils.js';\nimport Icon from './Icon.js';\n\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ className, ...props }, ref) => createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(`lucide-${toKebabCase(iconName)}`, className),\n      ...props\n    })\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\n\nexport { createLucideIcon as default };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChartBar = createLucideIcon(\"ChartBar\", [\n  [\"path\", { d: \"M3 3v16a2 2 0 0 0 2 2h16\", key: \"c24i48\" }],\n  [\"path\", { d: \"M7 16h8\", key: \"srdodz\" }],\n  [\"path\", { d: \"M7 11h12\", key: \"127s9w\" }],\n  [\"path\", { d: \"M7 6h3\", key: \"w9rmul\" }]\n]);\n\nexport { ChartBar as default };\n//# sourceMappingURL=chart-bar.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChartColumn = createLucideIcon(\"ChartColumn\", [\n  [\"path\", { d: \"M3 3v16a2 2 0 0 0 2 2h16\", key: \"c24i48\" }],\n  [\"path\", { d: \"M18 17V9\", key: \"2bz60n\" }],\n  [\"path\", { d: \"M13 17V5\", key: \"1frdt8\" }],\n  [\"path\", { d: \"M8 17v-3\", key: \"17ska0\" }]\n]);\n\nexport { ChartColumn as default };\n//# sourceMappingURL=chart-column.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleAlert = createLucideIcon(\"CircleAlert\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n]);\n\nexport { CircleAlert as default };\n//# sourceMappingURL=circle-alert.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleCheckBig = createLucideIcon(\"CircleCheckBig\", [\n  [\"path\", { d: \"M21.801 10A10 10 0 1 1 17 3.335\", key: \"yps3ct\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n]);\n\nexport { CircleCheckBig as default };\n//# sourceMappingURL=circle-check-big.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleHelp = createLucideIcon(\"CircleHelp\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\", key: \"1u773s\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { CircleHelp as default };\n//# sourceMappingURL=circle-help.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleX = createLucideIcon(\"CircleX\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n]);\n\nexport { CircleX as default };\n//# sourceMappingURL=circle-x.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Circle = createLucideIcon(\"Circle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n]);\n\nexport { Circle as default };\n//# sourceMappingURL=circle.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Copy = createLucideIcon(\"Copy\", [\n  [\"rect\", { width: \"14\", height: \"14\", x: \"8\", y: \"8\", rx: \"2\", ry: \"2\", key: \"17jyea\" }],\n  [\"path\", { d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\", key: \"zix9uf\" }]\n]);\n\nexport { Copy as default };\n//# sourceMappingURL=copy.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Download = createLucideIcon(\"Download\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"7 10 12 15 17 10\", key: \"2ggqvy\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"15\", y2: \"3\", key: \"1vk2je\" }]\n]);\n\nexport { Download as default };\n//# sourceMappingURL=download.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ExternalLink = createLucideIcon(\"ExternalLink\", [\n  [\"path\", { d: \"M15 3h6v6\", key: \"1q9fwt\" }],\n  [\"path\", { d: \"M10 14 21 3\", key: \"gplh6r\" }],\n  [\"path\", { d: \"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\", key: \"a6xqqp\" }]\n]);\n\nexport { ExternalLink as default };\n//# sourceMappingURL=external-link.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Eye = createLucideIcon(\"Eye\", [\n  [\n    \"path\",\n    {\n      d: \"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0\",\n      key: \"1nclc0\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Eye as default };\n//# sourceMappingURL=eye.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileText = createLucideIcon(\"FileText\", [\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\", key: \"1rqfz7\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\"path\", { d: \"M10 9H8\", key: \"b1mrlr\" }],\n  [\"path\", { d: \"M16 13H8\", key: \"t4e002\" }],\n  [\"path\", { d: \"M16 17H8\", key: \"z1uh3a\" }]\n]);\n\nexport { FileText as default };\n//# sourceMappingURL=file-text.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FolderOpen = createLucideIcon(\"FolderOpen\", [\n  [\n    \"path\",\n    {\n      d: \"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2\",\n      key: \"usdka0\"\n    }\n  ]\n]);\n\nexport { FolderOpen as default };\n//# sourceMappingURL=folder-open.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LoaderCircle = createLucideIcon(\"LoaderCircle\", [\n  [\"path\", { d: \"M21 12a9 9 0 1 1-6.219-8.56\", key: \"13zald\" }]\n]);\n\nexport { LoaderCircle as default };\n//# sourceMappingURL=loader-circle.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MessageSquare = createLucideIcon(\"MessageSquare\", [\n  [\"path\", { d: \"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\", key: \"1lielz\" }]\n]);\n\nexport { MessageSquare as default };\n//# sourceMappingURL=message-square.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Pen = createLucideIcon(\"Pen\", [\n  [\n    \"path\",\n    {\n      d: \"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z\",\n      key: \"1a8usu\"\n    }\n  ]\n]);\n\nexport { Pen as default };\n//# sourceMappingURL=pen.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Play = createLucideIcon(\"Play\", [\n  [\"polygon\", { points: \"6 3 20 12 6 21 6 3\", key: \"1oa8hb\" }]\n]);\n\nexport { Play as default };\n//# sourceMappingURL=play.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Plus = createLucideIcon(\"Plus\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n]);\n\nexport { Plus as default };\n//# sourceMappingURL=plus.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst RefreshCw = createLucideIcon(\"RefreshCw\", [\n  [\"path\", { d: \"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\", key: \"v9h5vc\" }],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }],\n  [\"path\", { d: \"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\", key: \"3uifl3\" }],\n  [\"path\", { d: \"M8 16H3v5\", key: \"1cv678\" }]\n]);\n\nexport { RefreshCw as default };\n//# sourceMappingURL=refresh-cw.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Save = createLucideIcon(\"Save\", [\n  [\n    \"path\",\n    {\n      d: \"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z\",\n      key: \"1c8476\"\n    }\n  ],\n  [\"path\", { d: \"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7\", key: \"1ydtos\" }],\n  [\"path\", { d: \"M7 3v4a1 1 0 0 0 1 1h7\", key: \"t51u73\" }]\n]);\n\nexport { Save as default };\n//# sourceMappingURL=save.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Send = createLucideIcon(\"Send\", [\n  [\n    \"path\",\n    {\n      d: \"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z\",\n      key: \"1ffxy3\"\n    }\n  ],\n  [\"path\", { d: \"m21.854 2.147-10.94 10.939\", key: \"12cjpa\" }]\n]);\n\nexport { Send as default };\n//# sourceMappingURL=send.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Settings = createLucideIcon(\"Settings\", [\n  [\n    \"path\",\n    {\n      d: \"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\",\n      key: \"1qme2f\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Settings as default };\n//# sourceMappingURL=settings.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SquareCheckBig = createLucideIcon(\"SquareCheckBig\", [\n  [\"path\", { d: \"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5\", key: \"1uzm8b\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n]);\n\nexport { SquareCheckBig as default };\n//# sourceMappingURL=square-check-big.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SquarePen = createLucideIcon(\"SquarePen\", [\n  [\"path\", { d: \"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\", key: \"1m0v6g\" }],\n  [\n    \"path\",\n    {\n      d: \"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z\",\n      key: \"ohrbg2\"\n    }\n  ]\n]);\n\nexport { SquarePen as default };\n//# sourceMappingURL=square-pen.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Square = createLucideIcon(\"Square\", [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }]\n]);\n\nexport { Square as default };\n//# sourceMappingURL=square.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Target = createLucideIcon(\"Target\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"6\", key: \"1vlfrh\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }]\n]);\n\nexport { Target as default };\n//# sourceMappingURL=target.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Trash2 = createLucideIcon(\"Trash2\", [\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\", key: \"4alrt4\" }],\n  [\"path\", { d: \"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\", key: \"v07s0e\" }],\n  [\"line\", { x1: \"10\", x2: \"10\", y1: \"11\", y2: \"17\", key: \"1uufr5\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"11\", y2: \"17\", key: \"xtxkd\" }]\n]);\n\nexport { Trash2 as default };\n//# sourceMappingURL=trash-2.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TrendingUp = createLucideIcon(\"TrendingUp\", [\n  [\"polyline\", { points: \"22 7 13.5 15.5 8.5 10.5 2 17\", key: \"126l90\" }],\n  [\"polyline\", { points: \"16 7 22 7 22 13\", key: \"kwv8wd\" }]\n]);\n\nexport { TrendingUp as default };\n//# sourceMappingURL=trending-up.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TriangleAlert = createLucideIcon(\"TriangleAlert\", [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\",\n      key: \"wmoenq\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { TriangleAlert as default };\n//# sourceMappingURL=triangle-alert.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Upload = createLucideIcon(\"Upload\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n]);\n\nexport { Upload as default };\n//# sourceMappingURL=upload.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.js.map\n","import { useAuthStore } from '@/stores/authStore';\r\n\r\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL || '/api/v1';\r\n\r\ninterface Criterion {\r\n  id: number | string;\r\n  text: string;\r\n  active: boolean;\r\n  order: number;\r\n}\r\n\r\nexport const criteriaService = {\r\n  async getCriteria(): Promise<Criterion[]> {\r\n    const { token, isAuthenticated } = useAuthStore.getState();\r\n    console.log(' SERVICE DEBUG: getCriteria called');\r\n    console.log(' SERVICE DEBUG: Token:', token ? 'exists' : 'none');\r\n    console.log(' SERVICE DEBUG: isAuthenticated:', isAuthenticated);\r\n\r\n    const storedAuth = localStorage.getItem('auth-storage');\r\n    console.log(' SERVICE DEBUG: Stored auth:', storedAuth);\r\n\r\n    // Try public endpoint first\r\n    try {\r\n      console.log(' SERVICE DEBUG: Trying public criteria endpoint...');\r\n      const publicResponse = await fetch(`${API_BASE_URL}/general-analysis/criteria-working`, {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (publicResponse.ok) {\r\n        const publicCriteria = await publicResponse.json();\r\n        console.log(' SERVICE DEBUG: Got criteria from public endpoint:', publicCriteria.length);\r\n\r\n        // Cache the criteria in localStorage\r\n        localStorage.setItem('criteria-storage', JSON.stringify(publicCriteria));\r\n\r\n        return publicCriteria;\r\n      } else {\r\n        console.log(' SERVICE DEBUG: Public endpoint failed with status:', publicResponse.status);\r\n      }\r\n    } catch (error) {\r\n      console.log(' SERVICE DEBUG: Public endpoint error:', error);\r\n    }\r\n\r\n    if (!token || !isAuthenticated) {\r\n      console.log(' SERVICE DEBUG: Using localStorage for criteria');\r\n      // Try to get criteria from localStorage first\r\n      const storedCriteria = localStorage.getItem('criteria-storage');\r\n      console.log(' SERVICE DEBUG: Stored criteria from localStorage:', storedCriteria);\r\n\r\n      if (storedCriteria) {\r\n        try {\r\n          const parsed = JSON.parse(storedCriteria);\r\n          console.log(' SERVICE DEBUG: Parsed criteria:', parsed);\r\n          console.log(' SERVICE DEBUG: Returning criteria with length:', parsed.length);\r\n          return parsed;\r\n        } catch (error) {\r\n          console.error('Failed to parse stored criteria:', error);\r\n        }\r\n      }\r\n\r\n      console.log(' SERVICE DEBUG: No stored criteria found, calling API directly');\r\n      // Force API call instead of using limited default criteria\r\n      try {\r\n        console.log(' SERVICE DEBUG: Making forced API call to public endpoint...');\r\n        const forceResponse = await fetch(`${API_BASE_URL}/general-analysis/criteria-working`, {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        });\r\n\r\n        if (forceResponse.ok) {\r\n          const forceCriteria = await forceResponse.json();\r\n          console.log(' SERVICE DEBUG: Got criteria from forced API call:', forceCriteria.length);\r\n          localStorage.setItem('criteria-storage', JSON.stringify(forceCriteria));\r\n          return forceCriteria;\r\n        }\r\n      } catch (forceError) {\r\n        console.error(' SERVICE DEBUG: Forced API call failed:', forceError);\r\n      }\r\n\r\n      console.log(' SERVICE DEBUG: API failed completely, using emergency fallback criteria');\r\n      // Emergency fallback with all known criteria from API response\r\n      const emergencyCriteria = [\r\n        {\"id\":\"criteria_66\",\"text\":\"Princpios SOLID: Analisar a aplicao de princpios de design consolidados, como a Responsabilidade nica - SRP (evitando componentes que acumulam funes dspares) como controllers com mltiplos endpoints e a Inverso de Dependncia (favorecendo o uso de mecanismos de injeo de dependncia em vez da instanciao manual de componentes) como a instanciao manual de dependncias em vez de usar a injeo padro do NestJS\",\"active\":true,\"order\":1},\r\n        {\"id\":\"criteria_67\",\"text\":\"Acoplamento a Frameworks: Detectar o uso de funcionalidades que acoplam o cdigo a implementaes especficas do framework (ex: uso de @Res() do Express no NestJS), o que dificulta a manuteno e a aplicao de interceptors e pipes globais.\",\"active\":true,\"order\":2},\r\n        {\"id\":\"criteria_68\",\"text\":\"Violao de Camadas: Identificar se a lgica de negcio est incorretamente localizada em camadas de interface (como controladores de API), em vez de residir em camadas de servio ou domnio dedicadas.\",\"active\":true,\"order\":3},\r\n        {\"id\":\"criteria_69\",\"text\":\"Presso sobre a Memria: Analisar rotinas e laos que criam um volume excessivo de objetos de curta durao, pressionando o coletor de lixo (Garbage Collector) e causando pausas desnecessrias na aplicao. Avaliar se objetos poderiam ser reutilizados para otimizar o uso da memria.\",\"active\":true,\"order\":4},\r\n        {\"id\":\"criteria_70\",\"text\":\"Ciclo de Vida de Recursos Externos: Verificar se recursos externos, como arquivos temporrios ou conexes de rede, so liberados de forma determinstica em todos os fluxos de execuo (sucesso, erro e finalizao), evitando vazamentos de recursos.\",\"active\":true,\"order\":5},\r\n        {\"id\":\"criteria_71\",\"text\":\"Operaes de I/O Bloqueantes ou Inseguras: Inspecionar chamadas de rede e outras operaes de entrada/sada para garantir a configurao de tempos limite (timeouts) e limites de tamanho de payload, prevenindo que a aplicao fique bloqueada ou vulnervel a sobrecargas.\",\"active\":true,\"order\":6},\r\n        {\"id\":\"criteria_72\",\"text\":\"Manuseio de Dados em Larga Escala: Detectar o carregamento de grandes volumes de dados (como arquivos ou resultados de consultas) diretamente para a memria. Recomendar a utilizao de padres como streaming para processamento de dados em partes (chunks).\",\"active\":true,\"order\":7},\r\n        {\"id\":\"criteria_73\",\"text\":\"Condies de Corrida em Persistncia: Identificar padres de \\\"leitura-seguida-de-escrita\\\" em operaes de banco de dados que podem introduzir inconsistncias de dados devido  concorrncia, sugerindo o uso de transaes ou operaes atmicas.\",\"active\":true,\"order\":8},\r\n        {\"id\":\"criteria_74\",\"text\":\"Validao de Entradas: Verificar se os pontos de entrada da aplicao que recebem dados, especialmente arquivos, possuem validaes, filtros de tipo e limites de tamanho para mitigar riscos de segurana. Analisar se objetos de transferncia de dados (DTOs) so utilizados com bibliotecas de validao para garantir a integridade e o formato dos dados.\",\"active\":true,\"order\":9},\r\n        {\"id\":\"criteria_75\",\"text\":\"Acesso a Recursos do Sistema: Inspecionar o cdigo que interage com o sistema de arquivos para identificar o uso de entradas do usurio na construo de caminhos, o que pode levar a vulnerabilidades de acesso indevido a arquivos (Path Traversal).\",\"active\":true,\"order\":10},\r\n        {\"id\":\"criteria_76\",\"text\":\"Tratamento de Erros: Sinalizar blocos de captura de exceo vazios ou que apenas registram o erro sem um tratamento adequado, pois eles podem ocultar falhas crticas de segurana ou de lgica de negcio.\",\"active\":true,\"order\":11},\r\n        {\"id\":\"criteria_77\",\"text\":\"Consistncia de Contratos de API: Analisar as sadas da aplicao para detectar rotas que retornam tipos de dados inconsistentes dependendo do fluxo de execuo, o que viola o contrato da API e pode causar falhas em sistemas clientes.\",\"active\":true,\"order\":12}\r\n      ];\r\n      localStorage.setItem('criteria-storage', JSON.stringify(emergencyCriteria));\r\n      console.log(' SERVICE DEBUG: Saved emergency criteria with all 12 items');\r\n      return emergencyCriteria;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/general-analysis/criteria`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        console.error('Get criteria failed:', response.status, errorText);\r\n        // Fallback to empty array if API fails - no more mock criteria\r\n        console.log('Falling back to empty array');\r\n        return [];\r\n      }\r\n\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('Get criteria error:', error);\r\n      // Fallback to empty array on any error - no more mock criteria\r\n      return [];\r\n    }\r\n  },\r\n\r\n  async createCriterion(text: string): Promise<Criterion> {\r\n    const { token, isAuthenticated } = useAuthStore.getState();\r\n    console.log('Token in createCriterion:', token ? 'exists' : 'none');\r\n    console.log('isAuthenticated:', isAuthenticated);\r\n\r\n    if (!token || !isAuthenticated) {\r\n      // Get current criteria from localStorage\r\n      const storedCriteria = localStorage.getItem('criteria-storage');\r\n      const currentCriteria = storedCriteria ? JSON.parse(storedCriteria) : [];\r\n\r\n      // Find the highest order number and add 1\r\n      const maxOrder = currentCriteria.length > 0 ? Math.max(...currentCriteria.map((c: any) => c.order || 0)) : 0;\r\n      const newOrder = maxOrder + 1;\r\n\r\n      const newCriterion = {\r\n        id: Date.now(), // Usar timestamp como ID numrico\r\n        text,\r\n        active: true,\r\n        order: newOrder\r\n      };\r\n\r\n      // Add new criterion and save to localStorage\r\n      const updatedCriteria = [...currentCriteria, newCriterion];\r\n      localStorage.setItem('criteria-storage', JSON.stringify(updatedCriteria));\r\n\r\n      console.log('Saved new criterion to localStorage with order:', newOrder);\r\n      return newCriterion;\r\n    }\r\n\r\n    const response = await fetch(`${API_BASE_URL}/general-analysis/criteria`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ text }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      console.error('Create criterion failed:', response.status, errorText);\r\n      // Fallback to create criterion in localStorage if API fails\r\n      console.log('Falling back to localStorage');\r\n      // Get current criteria from localStorage\r\n      const storedCriteria = localStorage.getItem('criteria-storage');\r\n      const currentCriteria = storedCriteria ? JSON.parse(storedCriteria) : [];\r\n\r\n      // Find the highest order number and add 1\r\n      const maxOrder = currentCriteria.length > 0 ? Math.max(...currentCriteria.map((c: any) => c.order || 0)) : 0;\r\n      const newOrder = maxOrder + 1;\r\n\r\n      const newCriterion = {\r\n        id: Date.now(), // Usar timestamp como ID numrico\r\n        text,\r\n        active: true,\r\n        order: newOrder\r\n      };\r\n\r\n      // Add new criterion and save to localStorage\r\n      const updatedCriteria = [...currentCriteria, newCriterion];\r\n      localStorage.setItem('criteria-storage', JSON.stringify(updatedCriteria));\r\n      console.log('Created new criterion in localStorage fallback with order:', newOrder);\r\n\r\n      return newCriterion;\r\n    }\r\n\r\n    return response.json();\r\n  },\r\n\r\n  async updateCriterion(id: number, text: string): Promise<Criterion> {\r\n    const { token, isAuthenticated } = useAuthStore.getState();\r\n    console.log(' SERVICE DEBUG: updateCriterion called with id:', id, 'text:', text);\r\n    console.log(' SERVICE DEBUG: Token value:', token);\r\n    console.log(' SERVICE DEBUG: Token type:', typeof token);\r\n    console.log(' SERVICE DEBUG: isAuthenticated:', isAuthenticated);\r\n\r\n    // Also check if there's a valid token in localStorage\r\n    const storedAuth = localStorage.getItem('auth-storage');\r\n    console.log(' SERVICE DEBUG: Stored auth:', storedAuth);\r\n\r\n    // Use localStorage if no token or not authenticated\r\n    if (!token || !isAuthenticated) {\r\n      console.log(' SERVICE DEBUG: No valid token found, using localStorage');\r\n      console.log(' SERVICE DEBUG: About to read criteria-storage...');\r\n      // Get current criteria from localStorage\r\n      const storedCriteria = localStorage.getItem('criteria-storage');\r\n      console.log(' SERVICE DEBUG: Stored criteria:', storedCriteria);\r\n\r\n      if (!storedCriteria) {\r\n        console.log(' SERVICE DEBUG: No stored criteria found, creating empty array');\r\n        localStorage.setItem('criteria-storage', JSON.stringify([]));\r\n      }\r\n\r\n      const currentCriteria = storedCriteria ? JSON.parse(storedCriteria) : [];\r\n      console.log(' SERVICE DEBUG: Parsed current criteria:', currentCriteria);\r\n      console.log(' SERVICE DEBUG: Current criteria length:', currentCriteria.length);\r\n\r\n      // Find and update the criterion\r\n      const updatedCriteria = currentCriteria.map((criterion: any) => {\r\n        console.log(` SERVICE DEBUG: Checking criterion ${criterion.id} against ${id}`);\r\n        return criterion.id === id ? { ...criterion, text } : criterion;\r\n      });\r\n      console.log(' SERVICE DEBUG: Updated criteria:', updatedCriteria);\r\n\r\n      // Save updated criteria to localStorage\r\n      localStorage.setItem('criteria-storage', JSON.stringify(updatedCriteria));\r\n      console.log(' SERVICE DEBUG: Saved to localStorage successfully');\r\n\r\n      // Verify it was saved\r\n      const verifySaved = localStorage.getItem('criteria-storage');\r\n      console.log(' SERVICE DEBUG: Verification - saved criteria:', verifySaved);\r\n\r\n      return { id, text, active: true, order: 1 };\r\n    }\r\n\r\n    const response = await fetch(`${API_BASE_URL}/general-analysis/criteria/${id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ text }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      console.error('Update criterion failed:', response.status, errorText);\r\n      // Fallback to mock if API fails\r\n      console.log('Falling back to mock response');\r\n      return { id, text, active: true, order: 1 };\r\n    }\r\n\r\n    return response.json();\r\n  },\r\n\r\n  async deleteCriterion(id: number | string): Promise<void> {\r\n    const { token } = useAuthStore.getState();\r\n\r\n    // Extract numeric ID if it's in format \"criteria_123\"\r\n    let numericId = id;\r\n    if (typeof id === 'string' && id.startsWith('criteria_')) {\r\n      numericId = parseInt(id.replace('criteria_', ''), 10);\r\n    }\r\n\r\n    if (!token) {\r\n      console.log('No auth token found, deleting from localStorage');\r\n      console.log('Deleting criterion with ID:', id, 'numeric ID:', numericId);\r\n\r\n      // Get current criteria from localStorage\r\n      const storedCriteria = localStorage.getItem('criteria-storage');\r\n      const currentCriteria = storedCriteria ? JSON.parse(storedCriteria) : [];\r\n\r\n      console.log('Current criteria in localStorage:', currentCriteria.length);\r\n\r\n      // Remove the criterion (handle both string and numeric IDs)\r\n      const updatedCriteria = currentCriteria.filter((criterion: any) => {\r\n        let criterionId = criterion.id;\r\n\r\n        // If criterion ID is in format \"criteria_X\", extract the number\r\n        if (typeof criterion.id === 'string' && criterion.id.startsWith('criteria_')) {\r\n          criterionId = parseInt(criterion.id.replace('criteria_', ''), 10);\r\n        }\r\n\r\n        // Compare with the numeric ID we're trying to delete\r\n        const shouldKeep = criterionId !== numericId;\r\n\r\n        if (!shouldKeep) {\r\n          console.log('Removing criterion:', criterion);\r\n        }\r\n\r\n        return shouldKeep;\r\n      });\r\n\r\n      // Save updated criteria to localStorage\r\n      localStorage.setItem('criteria-storage', JSON.stringify(updatedCriteria));\r\n\r\n      console.log('Deleted criterion from localStorage. Remaining criteria:', updatedCriteria.length);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Backend expects ID in format \"criteria_{id}\", so format it correctly\r\n      const formattedId = `criteria_${numericId}`;\r\n\r\n      // Try the main backend DELETE method first\r\n      const deleteResponse = await fetch(`${API_BASE_URL}/general-analysis/criteria/${formattedId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (deleteResponse.ok) {\r\n        console.log('Criterion deleted successfully using DELETE method');\r\n        return;\r\n      }\r\n\r\n      // If DELETE fails, try POST method as fallback\r\n      const postResponse = await fetch(`${API_BASE_URL}/general-analysis/criteria/${formattedId}/delete`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (postResponse.ok) {\r\n        console.log('Criterion deleted successfully using POST method');\r\n        return;\r\n      }\r\n\r\n      // If both methods fail, try with just the numeric ID (for backward compatibility)\r\n      const fallbackDeleteResponse = await fetch(`${API_BASE_URL}/general-analysis/criteria/${numericId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (fallbackDeleteResponse.ok) {\r\n        console.log('Criterion deleted successfully using fallback numeric ID');\r\n        return;\r\n      }\r\n\r\n      const fallbackPostResponse = await fetch(`${API_BASE_URL}/general-analysis/criteria/${numericId}/delete`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (fallbackPostResponse.ok) {\r\n        console.log('Criterion deleted successfully using fallback POST with numeric ID');\r\n        return;\r\n      }\r\n\r\n      console.error('All deletion methods failed');\r\n      throw new Error('Failed to delete criterion: All methods failed');\r\n    } catch (error) {\r\n      console.error('Delete criterion error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async toggleCriterion(id: number, active: boolean): Promise<Criterion> {\r\n    const { token, isAuthenticated } = useAuthStore.getState();\r\n\r\n    if (!token || !isAuthenticated) {\r\n      // Get current criteria from localStorage\r\n      const storedCriteria = localStorage.getItem('criteria-storage');\r\n      const currentCriteria = storedCriteria ? JSON.parse(storedCriteria) : [];\r\n\r\n      // Find and update the criterion's active status\r\n      const updatedCriteria = currentCriteria.map((criterion: any) =>\r\n        criterion.id === id ? { ...criterion, active } : criterion\r\n      );\r\n\r\n      // Save updated criteria to localStorage\r\n      localStorage.setItem('criteria-storage', JSON.stringify(updatedCriteria));\r\n\r\n      console.log('Toggled criterion active status in localStorage');\r\n      return currentCriteria.find((criterion: any) => criterion.id === id)!;\r\n    }\r\n\r\n    // If authenticated, use the API\r\n    const response = await fetch(`${API_BASE_URL}/general-analysis/criteria/${id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ active }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      console.error('Toggle criterion failed:', response.status, errorText);\r\n      // Fallback to mock if API fails\r\n      const storedCriteria = localStorage.getItem('criteria-storage');\r\n      const currentCriteria = storedCriteria ? JSON.parse(storedCriteria) : [];\r\n      return currentCriteria.find((criterion: any) => criterion.id === id) || { id, active, text: '' };\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n};","import React, { useState, useEffect } from 'react';\r\nimport { Plus, Edit2, Trash2, Save, X, Loader2, Play, Square, CheckSquare } from 'lucide-react';\r\nimport { criteriaService } from '@/services/criteriaService';\r\n\r\ninterface Criterion {\r\n  id: number | string;\r\n  text: string;\r\n  active: boolean;\r\n  order: number;\r\n}\r\n\r\ninterface CriteriaListProps {\r\n  onCriteriaSelect: (selected: number[]) => void;\r\n  onAnalyzeCriterion?: (criterion: Criterion) => void;\r\n  onAnalyzeSelected?: (selected: string[]) => void;\r\n  onCriteriaChange?: () => void;\r\n}\r\n\r\nconst CriteriaList: React.FC<CriteriaListProps> = ({ onCriteriaSelect, onAnalyzeCriterion, onAnalyzeSelected, onCriteriaChange }) => {\r\n  const [criteria, setCriteria] = useState<Criterion[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [editingCriterion, setEditingCriterion] = useState<number | null>(null);\r\n  const [editingText, setEditingText] = useState('');\r\n  const [selectedCriteria, setSelectedCriteria] = useState<Set<number>>(new Set());\r\n\r\n  // Debug: Log criteria changes\r\n  useEffect(() => {\r\n    console.log(' DEBUG: Criteria state changed:', criteria);\r\n  }, [criteria]);\r\n\r\n  // Sort criteria by order number and assign display numbers\r\n  const sortedCriteria = [...criteria].sort((a, b) => (a.order || 0) - (b.order || 0))\r\n    .map((criterion, index) => ({\r\n      ...criterion,\r\n      displayOrder: index + 1\r\n    }));\r\n\r\n  useEffect(() => {\r\n    loadCriteria();\r\n  }, []);\r\n\r\n  const loadCriteria = async () => {\r\n    setLoading(true);\r\n    try {\r\n      console.log(' DEBUG: Loading criteria...');\r\n      const data = await criteriaService.getCriteria();\r\n      console.log(' DEBUG: Data received from service:', data);\r\n      console.log(' DEBUG: About to setCriteria with data length:', data.length);\r\n      setCriteria(data);\r\n      console.log(' DEBUG: setCriteria called, current criteria state length:', criteria.length);\r\n      console.log(' DEBUG: State updated with', data.length, 'criteria');\r\n    } catch (error) {\r\n      console.error(' DEBUG: Failed to load criteria:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const addCriterion = async () => {\r\n    try {\r\n      const newCriterion = await criteriaService.createCriterion('Novo critrio de avaliao');\r\n      setCriteria([...criteria, newCriterion]);\r\n      setEditingCriterion(newCriterion.id);\r\n      setEditingText(newCriterion.text);\r\n\r\n      // Notificar que os critrios mudaram\r\n      if (onCriteriaChange) {\r\n        onCriteriaChange();\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to create criterion:', error);\r\n    }\r\n  };\r\n\r\n  const updateCriterion = async (id: number, updates: Partial<Criterion>) => {\r\n    try {\r\n      console.log(' DEBUG: updateCriterion called with:', id, updates);\r\n      if (updates.text) {\r\n        console.log(' DEBUG: Calling criteriaService.updateCriterion...');\r\n        await criteriaService.updateCriterion(id, updates.text);\r\n        console.log(' DEBUG: Service update completed');\r\n\r\n        // Update the specific criterion in state directly\r\n        const updatedCriteria = criteria.map(criterion =>\r\n          criterion.id === id ? { ...criterion, text: updates.text || '' } : criterion\r\n        );\r\n        console.log(' DEBUG: Updating state directly with:', updatedCriteria);\r\n        setCriteria(updatedCriteria);\r\n\r\n        // Also reload to ensure consistency with localStorage\r\n        console.log(' DEBUG: Reloading criteria for consistency...');\r\n        await loadCriteria();\r\n        console.log(' DEBUG: Criteria reloaded');\r\n\r\n        // Notificar que os critrios mudaram\r\n        if (onCriteriaChange) {\r\n          onCriteriaChange();\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(' DEBUG: Failed to update criterion:', error);\r\n    }\r\n  };\r\n\r\n  const deleteCriterion = async (id: number) => {\r\n    try {\r\n      await criteriaService.deleteCriterion(id);\r\n      // Reload the criteria list to ensure we have the latest data\r\n      await loadCriteria();\r\n      if (editingCriterion === id) {\r\n        setEditingCriterion(null);\r\n      }\r\n\r\n      // Notificar que os critrios mudaram\r\n      if (onCriteriaChange) {\r\n        onCriteriaChange();\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to delete criterion:', error);\r\n    }\r\n  };\r\n\r\n  const startEdit = (criterion: Criterion) => {\r\n    setEditingCriterion(criterion.id);\r\n    setEditingText(criterion.text);\r\n  };\r\n\r\n  const saveEdit = async () => {\r\n    console.log(' DEBUG: saveEdit called');\r\n    console.log(' DEBUG: editingCriterion:', editingCriterion);\r\n    console.log(' DEBUG: editingText:', editingText);\r\n\r\n    if (editingCriterion && editingText.trim()) {\r\n      console.log(' DEBUG: Starting save edit...');\r\n      console.log(' DEBUG: Editing criterion:', editingCriterion);\r\n      console.log(' DEBUG: New text:', editingText.trim());\r\n\r\n      try {\r\n        console.log(' DEBUG: About to call updateCriterion...');\r\n        await updateCriterion(editingCriterion, { text: editingText.trim() });\r\n        console.log(' DEBUG: Update completed successfully');\r\n        setEditingCriterion(null);\r\n        setEditingText('');\r\n        console.log(' DEBUG: Edit mode closed');\r\n      } catch (error) {\r\n        console.error(' DEBUG: Error in saveEdit:', error);\r\n        console.error(' DEBUG: Error details:', JSON.stringify(error, null, 2));\r\n      }\r\n    } else {\r\n      console.log(' DEBUG: Invalid input for save edit');\r\n      console.log(' DEBUG: editingCriterion is null/empty:', !editingCriterion);\r\n      console.log(' DEBUG: editingText is empty:', !editingText.trim());\r\n    }\r\n  };\r\n\r\n  const cancelEdit = () => {\r\n    setEditingCriterion(null);\r\n    setEditingText('');\r\n  };\r\n\r\n  const toggleCriterion = async (id: number) => {\r\n    const criterion = criteria.find(c => c.id === id);\r\n    if (criterion) {\r\n      try {\r\n        await criteriaService.toggleCriterion(id, !criterion.active);\r\n        // Reload criteria to ensure consistency with localStorage\r\n        await loadCriteria();\r\n\r\n        // Notificar que os critrios mudaram\r\n        if (onCriteriaChange) {\r\n          onCriteriaChange();\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to toggle criterion:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleAnalyze = (criterion: Criterion) => {\r\n    if (onAnalyzeCriterion) {\r\n      onAnalyzeCriterion(criterion);\r\n    }\r\n  };\r\n\r\n  const toggleCriterionSelection = (id: number) => {\r\n    const newSelected = new Set(selectedCriteria);\r\n    if (newSelected.has(id)) {\r\n      newSelected.delete(id);\r\n    } else {\r\n      newSelected.add(id);\r\n    }\r\n    setSelectedCriteria(newSelected);\r\n    // Converter para formato de string esperado pelo callback\r\n    const stringIds = Array.from(newSelected).map(numericId => `criteria_${numericId}`);\r\n    onCriteriaSelect(Array.from(newSelected));\r\n  };\r\n\r\n  const selectAllCriteria = () => {\r\n    const allCriteriaIds = sortedCriteria.map(c => c.id);\r\n    if (selectedCriteria.size === sortedCriteria.length) {\r\n      setSelectedCriteria(new Set());\r\n    } else {\r\n      setSelectedCriteria(new Set(allCriteriaIds));\r\n      // Ativar todos os critrios quando selecionar todos\r\n      sortedCriteria.forEach(criterion => {\r\n        if (!criterion.active) {\r\n          toggleCriterion(criterion.id);\r\n        }\r\n      });\r\n    }\r\n    // Converter para formato de string esperado pelo callback\r\n    const selectedIds = selectedCriteria.size === sortedCriteria.length ? [] : allCriteriaIds;\r\n    onCriteriaSelect(selectedIds);\r\n  };\r\n\r\n  const isAllSelected = () => {\r\n    return sortedCriteria.length > 0 && selectedCriteria.size === sortedCriteria.length;\r\n  };\r\n\r\n  const handleAnalyzeSelected = () => {\r\n    console.log(' DEBUG: handleAnalyzeSelected called');\r\n    console.log(' DEBUG: selectedCriteria.size:', selectedCriteria.size);\r\n    console.log(' DEBUG: onAnalyzeSelected exists:', !!onAnalyzeSelected);\r\n\r\n    if (onAnalyzeSelected && selectedCriteria.size > 0) {\r\n      const selectedIds = sortedCriteria\r\n        .filter(c => selectedCriteria.has(c.id))\r\n        .map(c => c.id)\r\n        .map(id => `criteria_${id}`);  //  Convertendo para formato esperado pelo backend!\r\n\r\n      console.log(' DEBUG: selectedIds:', selectedIds);\r\n      console.log(' DEBUG: Calling onAnalyzeSelected...');\r\n\r\n      onAnalyzeSelected(selectedIds);\r\n\r\n      console.log(' DEBUG: onAnalyzeSelected called successfully');\r\n    } else {\r\n      console.log(' DEBUG: Cannot call onAnalyzeSelected - missing criteria or callback');\r\n      if (!onAnalyzeSelected) {\r\n        console.log(' DEBUG: onAnalyzeSelected is undefined');\r\n      }\r\n      if (selectedCriteria.size === 0) {\r\n        console.log(' DEBUG: No criteria selected');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"br-card\">\r\n      <div className=\"card-header\">\r\n        <div className=\"row align-items-center\">\r\n          <div className=\"br-col\">\r\n            <h2 className=\"text-h2\">Critrios de Avaliao</h2>\r\n            <p className=\"text-regular text-muted\">\r\n              Configure os critrios que sero usados para anlise do cdigo-fonte\r\n            </p>\r\n          </div>\r\n          <div className=\"br-col-auto\">\r\n            <div className=\"btn-group\">\r\n              <button\r\n                onClick={selectAllCriteria}\r\n                disabled={loading || sortedCriteria.length === 0}\r\n                className=\"br-button secondary\"\r\n              >\r\n                {isAllSelected() ? <CheckSquare className=\"w-4 h-4 mr-2\" /> : <Square className=\"w-4 h-4 mr-2\" />}\r\n                Selecionar Todos\r\n              </button>\r\n              <button\r\n                onClick={handleAnalyzeSelected}\r\n                disabled={loading || selectedCriteria.size === 0}\r\n                className=\"br-button primary\"\r\n              >\r\n                <Play className=\"w-4 h-4 mr-2\" />\r\n                Analisar Selecionados ({selectedCriteria.size})\r\n              </button>\r\n              <button\r\n                onClick={addCriterion}\r\n                disabled={loading}\r\n                className=\"br-button primary\"\r\n              >\r\n                {loading ? (\r\n                  <Loader2 className=\"w-4 h-4 animate-spin mr-2\" />\r\n                ) : (\r\n                  <Plus className=\"w-4 h-4 mr-2\" />\r\n                )}\r\n                Novo Critrio\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"card-content\">\r\n        {loading ? (\r\n          <div className=\"text-center py-8\">\r\n            <Loader2 className=\"w-8 h-8 animate-spin mx-auto mb-4 text-gray-400\" />\r\n            <p className=\"text-gray-500\">Carregando critrios...</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n          {sortedCriteria.map((criterion) => (\r\n            <div\r\n              key={criterion.id}\r\n              className={`br-item ${criterion.active ? 'is-active' : ''} ${editingCriterion === criterion.id ? 'ring-2 ring-blue-400' : ''}`}\r\n            >\r\n              <div className=\"row align-items-start\">\r\n                {/* Order Number Column - Primeira coluna */}\r\n                <div style={{\r\n                  width: '35px',\r\n                  backgroundColor: '#e9ecef',\r\n                  borderRight: '2px solid #adb5bd',\r\n                  padding: '8px 4px',\r\n                  textAlign: 'center',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  minHeight: '40px'\r\n                }}>\r\n                  <span style={{\r\n                    fontSize: '14px',\r\n                    fontWeight: '600',\r\n                    color: '#495057'\r\n                  }}>\r\n                    {criterion.displayOrder}\r\n                  </span>\r\n                </div>\r\n\r\n                {/* Selection/Activation Checkbox */}\r\n                <div className=\"br-col-auto\">\r\n                  <div className=\"br-checkbox\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id={`criterion-${criterion.id}`}\r\n                      checked={selectedCriteria.has(criterion.id)}\r\n                      onChange={() => {\r\n                        toggleCriterionSelection(criterion.id);\r\n                        if (!criterion.active) {\r\n                          toggleCriterion(criterion.id);\r\n                        }\r\n                      }}\r\n                      disabled={loading}\r\n                    />\r\n                    <label htmlFor={`criterion-${criterion.id}`} className=\"br-checkbox-label\"></label>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Criterion Content - Largura mxima */}\r\n                <div className=\"br-col\" style={{ maxWidth: 'none', flex: '1 1 0%' }}>\r\n                  {editingCriterion === criterion.id ? (\r\n                    <div className=\"space-y-3\">\r\n                      <textarea\r\n                        value={editingText}\r\n                        onChange={(e) => setEditingText(e.target.value)}\r\n                        className=\"br-textarea\"\r\n                        rows={3}\r\n                        placeholder=\"Digite o critrio de avaliao...\"\r\n                        style={{ width: '100%', minWidth: '800px' }}\r\n                      />\r\n                      <div className=\"btn-group\">\r\n                        <button\r\n                          onClick={saveEdit}\r\n                          disabled={loading}\r\n                          className=\"br-button success\"\r\n                        >\r\n                          {loading ? (\r\n                            <Loader2 className=\"w-4 h-4 animate-spin mr-2\" />\r\n                          ) : (\r\n                            <Save className=\"w-4 h-4 mr-2\" />\r\n                          )}\r\n                          Salvar\r\n                        </button>\r\n                        <button\r\n                          onClick={cancelEdit}\r\n                          className=\"br-button secondary\"\r\n                        >\r\n                          <X className=\"w-4 h-4 mr-2\" />\r\n                          Cancelar\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div>\r\n                      <p className=\"text-regular\">{criterion.text}</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Action Buttons */}\r\n                {editingCriterion !== criterion.id && (\r\n                  <div className=\"br-col-auto\">\r\n                    <div className=\"btn-group\">\r\n                      <button\r\n                        onClick={() => startEdit(criterion)}\r\n                        disabled={loading}\r\n                        className=\"br-button circle\"\r\n                        title=\"Editar critrio\"\r\n                      >\r\n                        <Edit2 className=\"w-4 h-4\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => deleteCriterion(criterion.id)}\r\n                        disabled={loading}\r\n                        className=\"br-button circle\"\r\n                        title=\"Excluir critrio\"\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                      </button>\r\n                      {onAnalyzeCriterion && (\r\n                        <button\r\n                          onClick={() => handleAnalyze(criterion)}\r\n                          disabled={loading || !criterion.active}\r\n                          className={`br-button circle ${criterion.active ? 'primary' : 'secondary'}`}\r\n                          title=\"Analisar critrio\"\r\n                        >\r\n                          <Play className=\"w-4 h-4\" />\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          {sortedCriteria.length === 0 && (\r\n            <div className=\"text-center py-8\">\r\n              <p className=\"text-regular text-muted mb-4\">\r\n                Nenhum critrio configurado ainda.\r\n              </p>\r\n              <button\r\n                onClick={addCriterion}\r\n                disabled={loading}\r\n                className=\"br-button primary mx-auto\"\r\n              >\r\n                {loading ? (\r\n                  <Loader2 className=\"w-4 h-4 animate-spin mr-2\" />\r\n                ) : (\r\n                  <Plus className=\"w-4 h-4 mr-2\" />\r\n                )}\r\n                Adicionar Primeiro Critrio\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CriteriaList;","import React from 'react';\r\nimport { CheckCircle, Circle, AlertCircle, XCircle, Loader2 } from 'lucide-react';\r\n\r\ninterface AnalysisStep {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  icon: React.ReactNode;\r\n  completed: boolean;\r\n  active: boolean;\r\n}\r\n\r\ninterface ProgressTrackerProps {\r\n  progress: number;\r\n  status: 'pending' | 'processing' | 'completed' | 'failed' | 'cancelled';\r\n  message?: string;\r\n  onCancel: () => void;\r\n}\r\n\r\nconst ProgressTracker: React.FC<ProgressTrackerProps> = ({\r\n  progress,\r\n  status,\r\n  message,\r\n  onCancel\r\n}) => {\r\n  const getStatusIcon = () => {\r\n    switch (status) {\r\n      case 'processing':\r\n        return <Loader2 className=\"w-6 h-6 animate-spin text-blue-600\" />;\r\n      case 'completed':\r\n        return <CheckCircle className=\"w-6 h-6 text-green-600\" />;\r\n      case 'failed':\r\n        return <XCircle className=\"w-6 h-6 text-red-600\" />;\r\n      case 'cancelled':\r\n        return <XCircle className=\"w-6 h-6 text-gray-600\" />;\r\n      default:\r\n        return <Circle className=\"w-6 h-6 text-gray-400\" />;\r\n    }\r\n  };\r\n\r\n  const getStatusMessage = () => {\r\n    switch (status) {\r\n      case 'pending':\r\n        return 'Aguardando incio da anlise...';\r\n      case 'processing':\r\n        return message || `Processando anlise... ${progress}%`;\r\n      case 'completed':\r\n        return 'Anlise concluda com sucesso!';\r\n      case 'failed':\r\n        return 'Falha na anlise';\r\n      case 'cancelled':\r\n        return 'Anlise cancelada';\r\n      default:\r\n        return message || 'Preparando anlise...';\r\n    }\r\n  };\r\n\r\n  const getProgressColor = () => {\r\n    switch (status) {\r\n      case 'processing':\r\n        return 'bg-blue-600';\r\n      case 'completed':\r\n        return 'bg-green-600';\r\n      case 'failed':\r\n        return 'bg-red-600';\r\n      case 'cancelled':\r\n        return 'bg-gray-600';\r\n      default:\r\n        return 'bg-gray-300';\r\n    }\r\n  };\r\n\r\n  const steps: AnalysisStep[] = [\r\n    {\r\n      id: 'preparing',\r\n      name: 'Preparao',\r\n      description: 'Preparando arquivos e configurao',\r\n      icon: <Circle className=\"w-4 h-4\" />,\r\n      completed: progress >= 10,\r\n      active: progress > 0 && progress < 30\r\n    },\r\n    {\r\n      id: 'processing',\r\n      name: 'Processamento',\r\n      description: 'Otimizando contedo para anlise',\r\n      icon: <Circle className=\"w-4 h-4\" />,\r\n      completed: progress >= 30,\r\n      active: progress >= 20 && progress < 50\r\n    },\r\n    {\r\n      id: 'analyzing',\r\n      name: 'Anlise IA',\r\n      description: 'Executando anlise com inteligncia artificial',\r\n      icon: <Circle className=\"w-4 h-4\" />,\r\n      completed: progress >= 50,\r\n      active: progress >= 40 && progress < 80\r\n    },\r\n    {\r\n      id: 'finalizing',\r\n      name: 'Finalizao',\r\n      description: 'Processando resultados e gerando relatrio',\r\n      icon: <Circle className=\"w-4 h-4\" />,\r\n      completed: progress >= 80,\r\n      active: progress >= 70 && progress < 100\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h2 className=\"text-xl font-semibold text-gray-800\">Status da Anlise</h2>\r\n        {status === 'processing' && (\r\n          <button\r\n            onClick={onCancel}\r\n            className=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors flex items-center gap-2\"\r\n          >\r\n            <XCircle className=\"w-4 h-4\" />\r\n            Cancelar\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Progress Bar */}\r\n      <div className=\"mb-6\">\r\n        <div className=\"flex justify-between items-center mb-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            {getStatusIcon()}\r\n            <span className=\"text-sm font-medium text-gray-700\">\r\n              {getStatusMessage()}\r\n            </span>\r\n          </div>\r\n          <span className=\"text-sm font-medium text-gray-700\">\r\n            {progress}%\r\n          </span>\r\n        </div>\r\n        <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n          <div\r\n            className={`h-2 rounded-full transition-all duration-300 ${getProgressColor()}`}\r\n            style={{ width: `${progress}%` }}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Analysis Steps */}\r\n      <div className=\"space-y-4\">\r\n        <h3 className=\"text-sm font-medium text-gray-700 mb-3\">Etapas da Anlise</h3>\r\n        <div className=\"space-y-3\">\r\n          {steps.map((step, index) => (\r\n            <div\r\n              key={step.id}\r\n              className={`flex items-center gap-3 p-3 rounded-lg transition-all ${\r\n                step.active\r\n                  ? 'bg-blue-50 border border-blue-200'\r\n                  : step.completed\r\n                  ? 'bg-green-50 border border-green-200'\r\n                  : 'bg-gray-50 border border-gray-200'\r\n              }`}\r\n            >\r\n              <div className=\"flex-shrink-0\">\r\n                {step.completed ? (\r\n                  <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n                ) : step.active ? (\r\n                  <Loader2 className=\"w-5 h-5 animate-spin text-blue-600\" />\r\n                ) : (\r\n                  <Circle className=\"w-5 h-5 text-gray-400\" />\r\n                )}\r\n              </div>\r\n              <div className=\"flex-1 min-w-0\">\r\n                <p className={`text-sm font-medium ${\r\n                  step.active\r\n                    ? 'text-blue-800'\r\n                    : step.completed\r\n                    ? 'text-green-800'\r\n                    : 'text-gray-600'\r\n                }`}>\r\n                  {step.name}\r\n                </p>\r\n                <p className=\"text-xs text-gray-500 mt-1\">\r\n                  {step.description}\r\n                </p>\r\n              </div>\r\n              {step.completed && (\r\n                <CheckCircle className=\"w-5 h-5 text-green-600 flex-shrink-0\" />\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Additional Info */}\r\n      {status === 'processing' && (\r\n        <div className=\"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\r\n          <p className=\"text-sm text-blue-800\">\r\n            <strong>Importante:</strong> Esta anlise pode levar alguns minutos dependendo\r\n            do tamanho do cdigo e da complexidade dos critrios avaliados.\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProgressTracker;","import React from 'react';\r\n\r\ninterface CodeBlockProps {\r\n  code: string;\r\n  language: string;\r\n  fileName?: string;\r\n  lineNumbers?: [number, number];\r\n}\r\n\r\nconst CodeBlock: React.FC<CodeBlockProps> = ({\r\n  code,\r\n  language,\r\n  fileName,\r\n  lineNumbers\r\n}) => {\r\n  const getLanguageClass = (lang: string) => {\r\n    switch (lang.toLowerCase()) {\r\n      case 'python':\r\n        return 'language-python';\r\n      case 'javascript':\r\n      case 'js':\r\n        return 'language-javascript';\r\n      case 'typescript':\r\n      case 'ts':\r\n        return 'language-typescript';\r\n      case 'java':\r\n        return 'language-java';\r\n      case 'cpp':\r\n      case 'c++':\r\n        return 'language-cpp';\r\n      case 'c':\r\n        return 'language-c';\r\n      case 'html':\r\n        return 'language-html';\r\n      case 'css':\r\n        return 'language-css';\r\n      case 'sql':\r\n        return 'language-sql';\r\n      case 'json':\r\n        return 'language-json';\r\n      case 'xml':\r\n        return 'language-xml';\r\n      case 'yaml':\r\n      case 'yml':\r\n        return 'language-yaml';\r\n      default:\r\n        return 'language-plaintext';\r\n    }\r\n  };\r\n\r\n  const formatCodeWithLines = (code: string, startLine?: number, endLine?: number) => {\r\n    if (!startLine || !endLine) {\r\n      return code;\r\n    }\r\n\r\n    const lines = code.split('\\n');\r\n    const lineNumbers = [];\r\n    const formattedLines = [];\r\n\r\n    for (let i = 0; i < lines.length; i++) {\r\n      const lineNumber = startLine + i;\r\n      lineNumbers.push(lineNumber);\r\n      formattedLines.push(lines[i]);\r\n    }\r\n\r\n    return {\r\n      formattedLines,\r\n      lineNumbers\r\n    };\r\n  };\r\n\r\n  const codeContent = lineNumbers\r\n    ? formatCodeWithLines(code, lineNumbers[0], lineNumbers[1])\r\n    : { formattedLines: code.split('\\n'), lineNumbers: null };\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      {/* Header */}\r\n      {(fileName || language) && (\r\n        <div className=\"flex items-center justify-between px-4 py-2 bg-gray-800 text-gray-200 text-sm rounded-t-lg\">\r\n          <div className=\"flex items-center gap-2\">\r\n            {fileName && (\r\n              <span className=\"font-medium\">{fileName}</span>\r\n            )}\r\n            <span className=\"text-gray-400\">\r\n              {language.toUpperCase()}\r\n            </span>\r\n          </div>\r\n          {lineNumbers && (\r\n            <span className=\"text-xs text-gray-400\">\r\n              Linhas {lineNumbers[0]}-{lineNumbers[1]}\r\n            </span>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Code Content */}\r\n      <div className={`bg-gray-900 rounded-lg ${!fileName && !language ? 'rounded-t-lg' : 'rounded-t-none'}`}>\r\n        <pre className=\"overflow-x-auto p-4 text-sm\">\r\n          <code className={getLanguageClass(language)}>\r\n            {codeContent.formattedLines.map((line, index) => (\r\n              <div key={index} className=\"flex\">\r\n                {/* Line numbers */}\r\n                {codeContent.lineNumbers && (\r\n                  <span className=\"text-gray-500 text-right pr-4 select-none min-w-[50px]\">\r\n                    {codeContent.lineNumbers[index]}\r\n                  </span>\r\n                )}\r\n                {/* Code line */}\r\n                <span className=\"text-gray-300\">{line || ' '}</span>\r\n              </div>\r\n            ))}\r\n          </code>\r\n        </pre>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CodeBlock;","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  CheckCircle,\r\n  AlertTriangle,\r\n  XCircle,\r\n  HelpCircle,\r\n  ChevronDown,\r\n  ChevronUp,\r\n    Download,\r\n  ExternalLink,\r\n  Trash2,\r\n  File\r\n} from 'lucide-react';\r\nimport CodeBlock from '@/components/common/CodeBlock';\r\nimport { criteriaService } from '@/services/criteriaService';\r\n\r\ninterface CodeEvidence {\r\n  code: string;\r\n  language: string;\r\n  filePath: string;\r\n  lineNumbers?: [number, number];\r\n}\r\n\r\ninterface CriteriaResult {\r\n  id?: number;\r\n  criterion: string;\r\n  assessment: string;\r\n  status: 'compliant' | 'partially_compliant' | 'non_compliant';\r\n  confidence: number;\r\n  evidence: CodeEvidence[];\r\n  recommendations: string[];\r\n  order?: number;\r\n  // Para resultados carregados do banco, precisamos de uma referncia ao ID do resultado pai\r\n  resultId?: number;\r\n  criterionKey?: string;\r\n  criteriaId?: number;\r\n}\r\n\r\ninterface ResultsTableProps {\r\n  results: CriteriaResult[];\r\n  onDownloadDocx: () => void;\r\n  onDeleteResults?: (selectedIds: number[]) => void;\r\n}\r\n\r\nconst ResultsTable: React.FC<ResultsTableProps> = ({\r\n  results,\r\n  onDownloadDocx,\r\n  onDeleteResults\r\n}) => {\r\n  const [expandedRows, setExpandedRows] = useState<Set<string>>(new Set());\r\n  const [selectedResults, setSelectedResults] = useState<Set<number>>(new Set());\r\n  const [showDeleteButton, setShowDeleteButton] = useState(false);\r\n  const [fullCriteriaText, setFullCriteriaText] = useState<{[key: string]: string}>({});\r\n  const [allCriteria, setAllCriteria] = useState<any[]>([]);\r\n\r\n  \r\n  // Debug log\r\n  console.log(' ResultsTable renderizado com:', results.length, 'resultados');\r\n  console.log(' IDs dos resultados:', results.map(r => ({ id: r.id, criterion: r.criterion.substring(0, 50) + '...' })));\r\n  console.log(' Resultados com IDs vlidos:', results.filter(r => r.id !== undefined && !isNaN(r.id)).length, 'de', results.length);\r\n  console.log(' Resultados com IDs invlidos:', results.filter(r => r.id === undefined || isNaN(r.id)).length, 'de', results.length);\r\n\r\n  // Carregar todos os critrios para obter o texto completo\r\n  useEffect(() => {\r\n    const loadAllCriteria = async () => {\r\n      try {\r\n        const criteria = await criteriaService.getCriteria();\r\n        setAllCriteria(criteria);\r\n\r\n        // Criar mapeamento de nome do critrio para texto completo\r\n        const textMapping: {[key: string]: string} = {};\r\n        criteria.forEach(criterion => {\r\n          // Extrair o nome curto do critrio (parte antes dos dois pontos, se existir)\r\n          const shortName = criterion.text.split(':')[0];\r\n          textMapping[shortName] = criterion.text;\r\n          textMapping[criterion.text] = criterion.text; // Tambm mapear o texto completo\r\n        });\r\n\r\n        setFullCriteriaText(textMapping);\r\n        console.log(' Critrios carregados:', criteria.length, 'mapeamento criado');\r\n      } catch (error) {\r\n        console.error('Erro ao carregar critrios:', error);\r\n      }\r\n    };\r\n\r\n    loadAllCriteria();\r\n  }, []);\r\n\r\n  // Funo para obter o texto completo do critrio\r\n  const getFullCriterionText = (criterionName: string) => {\r\n    // Se o critrio j parece ser o texto completo (contm \":\" ou  longo), retornar como est\r\n    if (criterionName.includes(':') || criterionName.length > 50) {\r\n      return criterionName;\r\n    }\r\n\r\n    // Tentar encontrar correspondncia exata primeiro\r\n    if (fullCriteriaText[criterionName]) {\r\n      return fullCriteriaText[criterionName];\r\n    }\r\n\r\n    // Tentar encontrar por substring\r\n    const matchingCriterion = allCriteria.find(criterion =>\r\n      criterion.text.includes(criterionName) || criterionName.includes(criterion.text.split(':')[0])\r\n    );\r\n\r\n    return matchingCriterion ? matchingCriterion.text : criterionName;\r\n  };\r\n\r\n  // Sort results by order number and assign temporary IDs if needed\r\n  const sortedResults = [...results].sort((a, b) => (a.order || 0) - (b.order || 0))\r\n    .map((result, index) => ({\r\n      ...result,\r\n      id: result.id || (Date.now() + index), // Generate temporary ID if none exists\r\n      displayOrder: index + 1\r\n    }));\r\n\r\n  const toggleRow = (criterion: string) => {\r\n    const newExpanded = new Set(expandedRows);\r\n    if (newExpanded.has(criterion)) {\r\n      newExpanded.delete(criterion);\r\n    } else {\r\n      newExpanded.add(criterion);\r\n    }\r\n    setExpandedRows(newExpanded);\r\n  };\r\n\r\n  \r\n  const handleSelectResult = (resultId: number) => {\r\n    console.log(' handleSelectResult chamado com resultId:', resultId);\r\n    console.log(' selectedResults antes:', Array.from(selectedResults));\r\n\r\n    const newSelected = new Set(selectedResults);\r\n    if (newSelected.has(resultId)) {\r\n      newSelected.delete(resultId);\r\n      console.log(' Removendo resultId da seleo');\r\n    } else {\r\n      newSelected.add(resultId);\r\n      console.log(' Adicionando resultId  seleo');\r\n    }\r\n\r\n    console.log(' selectedResults depois:', Array.from(newSelected));\r\n    setSelectedResults(newSelected);\r\n    setShowDeleteButton(newSelected.size > 0);\r\n  };\r\n\r\n  const handleSelectAll = () => {\r\n    // Agora todos os resultados tm IDs graas  atribuio acima\r\n    const allIds = sortedResults.map(r => r.id) as number[];\r\n\r\n    if (selectedResults.size === allIds.length) {\r\n      setSelectedResults(new Set());\r\n      setShowDeleteButton(false);\r\n    } else {\r\n      setSelectedResults(new Set(allIds));\r\n      setShowDeleteButton(true);\r\n    }\r\n  };\r\n\r\n  const handleDeleteSelected = () => {\r\n    if (selectedResults.size > 0 && onDeleteResults) {\r\n      onDeleteResults(Array.from(selectedResults));\r\n      setSelectedResults(new Set());\r\n      setShowDeleteButton(false);\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'compliant':\r\n        return <CheckCircle className=\"w-4 h-4 text-success\" />;\r\n      case 'partially_compliant':\r\n        return <AlertTriangle className=\"w-4 h-4 text-warning\" />;\r\n      case 'non_compliant':\r\n        return <XCircle className=\"w-4 h-4 text-danger\" />;\r\n      default:\r\n        return <HelpCircle className=\"w-4 h-4 text-muted\" />;\r\n    }\r\n  };\r\n\r\n  const getStatusText = (status: string) => {\r\n    switch (status) {\r\n      case 'compliant':\r\n        return 'Conforme';\r\n      case 'partially_compliant':\r\n        return 'Parcialmente Conforme';\r\n      case 'non_compliant':\r\n        return 'No Conforme';\r\n      default:\r\n        return 'No Avaliado';\r\n    }\r\n  };\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    switch (status) {\r\n      case 'compliant':\r\n        return 'success';\r\n      case 'partially_compliant':\r\n        return 'warning';\r\n      case 'non_compliant':\r\n        return 'danger';\r\n      default:\r\n        return 'secondary';\r\n    }\r\n  };\r\n\r\n  const formatAssessment = (assessment: string) => {\r\n    return assessment.split('\\n\\n').map((paragraph, pIndex) => (\r\n      <div key={pIndex} className=\"mb-3 last:mb-0\">\r\n        {paragraph.split('\\n').map((line, lIndex) => {\r\n          // Check if line is a heading (starts with #)\r\n          if (line.trim().startsWith('#')) {\r\n            const headingLevel = line.trim().match(/^#+/)?.[0].length || 1;\r\n            const headingText = line.trim().replace(/^#+\\s*/, '');\r\n            const HeadingTag = `h${Math.min(headingLevel + 2, 6)}` as keyof JSX.IntrinsicElements;\r\n            return (\r\n              <HeadingTag key={`${pIndex}-${lIndex}`} className={`mt-4 mb-2 text-h${Math.min(headingLevel + 2, 6)}`}>\r\n                {headingText}\r\n              </HeadingTag>\r\n            );\r\n          }\r\n\r\n          // Check if line is a list item (starts with - or *)\r\n          if (line.trim().startsWith('-') || line.trim().startsWith('*')) {\r\n            const itemText = line.trim().replace(/^[-*]\\s*/, '');\r\n            return (\r\n              <div key={`${pIndex}-${lIndex}`} className=\"d-flex align-items-start mb-1 ms-3\">\r\n                <div className=\"w-2 h-2 bg-primary rounded-circle mt-2 flex-shrink-0 me-2\" />\r\n                <span className=\"text-regular\">{itemText}</span>\r\n              </div>\r\n            );\r\n          }\r\n\r\n          // Regular paragraph line\r\n          return (\r\n            <p key={`${pIndex}-${lIndex}`} className=\"mb-2 last:mb-0\">\r\n              {line}\r\n            </p>\r\n          );\r\n        })}\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  if (results.length === 0) {\r\n    return (\r\n      <div className=\"br-card text-center\">\r\n        <div className=\"card-content\">\r\n          <HelpCircle className=\"w-12 h-12 text-muted mx-auto mb-4\" />\r\n          <h3 className=\"text-h3 text-muted mb-2\">\r\n            Nenhum resultado disponvel\r\n          </h3>\r\n          <p className=\"text-regular text-muted\">\r\n            Aguarde a concluso da anlise ou inicie uma nova anlise.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"br-card\">\r\n      <div className=\"card-header\">\r\n        <div className=\"row align-items-center\">\r\n          <div className=\"br-col\">\r\n            <h2 className=\"text-h2\">Resultados da Anlise</h2>\r\n            <p className=\"text-regular text-muted\">\r\n              {results.length > 0\r\n                ? `Anlise concluda com ${results.length} critrios avaliados`\r\n                : 'Nenhuma anlise concluda ainda'\r\n              }\r\n            </p>\r\n          </div>\r\n          <div className=\"br-col-auto\">\r\n            <div className=\"d-flex gap-2\">\r\n              {showDeleteButton && (\r\n                <button\r\n                  onClick={handleDeleteSelected}\r\n                  className=\"br-button danger\"\r\n                  title={`Excluir ${selectedResults.size} resultado(s) selecionado(s)`}\r\n                >\r\n                  <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                  Excluir ({selectedResults.size})\r\n                </button>\r\n              )}\r\n              {results.length > 0 && (\r\n                <button\r\n                  onClick={onDownloadDocx}\r\n                  className=\"br-button secondary\"\r\n                  title=\"Baixar relatrio em formato DOCX editvel\"\r\n                >\r\n                  <Download className=\"w-4 h-4 mr-2\" />\r\n                  Baixar Relatrio (DOCX)\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"card-content p-0\">\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"text-center\" style={{ width: '50px' }}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"form-check-input\"\r\n                    checked={results.length > 0 && selectedResults.size === sortedResults.length}\r\n                    onChange={handleSelectAll}\r\n                    disabled={results.length === 0}\r\n                    title=\"Selecionar todos\"\r\n                  />\r\n                </th>\r\n                <th>\r\n                  Status\r\n                </th>\r\n                <th>\r\n                  Critrio\r\n                </th>\r\n                <th>\r\n                  Avaliao\r\n                </th>\r\n                </tr>\r\n            </thead>\r\n          <tbody>\r\n            {sortedResults.map((result) => (\r\n              <React.Fragment key={result.criterion}>\r\n                <tr style={{\r\n                  borderBottom: '1px solid #e9ecef'\r\n                }}>\r\n                  {/* Checkbox de seleo */}\r\n                  <td className=\"text-center align-middle\" style={{\r\n                    width: '60px',\r\n                    backgroundColor: '#f8f9fa',\r\n                    borderRight: '3px solid #dee2e6',\r\n                    verticalAlign: 'middle',\r\n                    padding: '16px 8px',\r\n                    borderBottom: '1px solid #e9ecef'\r\n                  }}>\r\n                    <div className=\"d-flex align-items-center justify-content-center\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        className=\"form-check-input me-2\"\r\n                        checked={result.id ? selectedResults.has(result.id) : false}\r\n                        onChange={() => {\r\n                          console.log(' Checkbox clicado para resultado:', result.criterion.substring(0, 30) + '...', 'ID:', result.id);\r\n                          if (result.id) {\r\n                            handleSelectResult(result.id);\r\n                          } else {\r\n                            console.log(' ID invlido, no pode selecionar');\r\n                          }\r\n                        }}\r\n                        disabled={!result.id}\r\n                        title={result.id ? \"Selecionar resultado\" : \"ID invlido - no pode selecionar\"}\r\n                      />\r\n                      <span className=\"text-regular fw-bold text-dark\">\r\n                        {result.displayOrder}\r\n                      </span>\r\n                    </div>\r\n                  </td>\r\n\r\n                  {/* Status */}\r\n                  <td className=\"align-middle\" style={{\r\n                    borderRight: '1px solid #e9ecef',\r\n                    padding: '16px 12px',\r\n                    borderBottom: '1px solid #e9ecef'\r\n                  }}>\r\n                    <div className=\"d-flex align-items-center gap-2\">\r\n                      {getStatusIcon(result.status)}\r\n                      <span className={`badge bg-${getStatusBadge(result.status)}`}>\r\n                        {getStatusText(result.status)}\r\n                      </span>\r\n                    </div>\r\n                  </td>\r\n\r\n                  {/* Critrio */}\r\n                  <td className=\"align-middle\" style={{\r\n                    width: '35%',\r\n                    borderRight: '1px solid #e9ecef',\r\n                    padding: '16px 12px',\r\n                    borderBottom: '1px solid #e9ecef'\r\n                  }}>\r\n                    <div>\r\n                      <div className=\"text-regular fw-medium\">\r\n                        {getFullCriterionText(result.criterion)}\r\n                      </div>\r\n                      <div className=\"text-small text-muted mt-1\">\r\n                        Confiana: {Math.round(result.confidence * 100)}%\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n\r\n                  {/* Avaliao Resumida */}\r\n                  <td className=\"align-middle\" style={{\r\n                    width: '55%',\r\n                    borderRight: '1px solid #e9ecef',\r\n                    padding: '16px 12px',\r\n                    borderBottom: '1px solid #e9ecef'\r\n                  }}>\r\n                    <div className=\"text-regular text-truncate\" style={{ maxWidth: 'none' }}>\r\n                      {result.assessment.length > 100 ? (\r\n                        <>\r\n                          {result.assessment.substring(0, 100)}...\r\n                          <button\r\n                            onClick={() => toggleRow(result.criterion)}\r\n                            className=\"btn btn-link p-0 ms-1 text-primary\"\r\n                          >\r\n                            Ver mais\r\n                          </button>\r\n                        </>\r\n                      ) : (\r\n                        result.assessment\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n                {expandedRows.has(result.criterion) && (\r\n                  <tr>\r\n                    <td colSpan={4} className=\"p-0\">\r\n                      <div className=\"br-item-expanded\">\r\n                        <div className=\"p-4\">\r\n                          {/* Avaliao */}\r\n                          <div className=\"mb-4\">\r\n                            <div className=\"d-flex align-items-center justify-content-between mb-3\">\r\n                              <h4 className=\"text-h4\">\r\n                                Avaliao\r\n                              </h4>\r\n                            </div>\r\n                            <div className=\"br-card\">\r\n                              <div className=\"card-content p-0\">\r\n                                <div className=\"p-4 text-regular\" style={{\r\n                                  maxHeight: '600px',\r\n                                  overflowY: 'auto',\r\n                                  whiteSpace: 'pre-wrap',\r\n                                  wordWrap: 'break-word'\r\n                                }}>\r\n                                  {formatAssessment(result.assessment)}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* Evidncias */}\r\n                          {result.evidence.length > 0 && (\r\n                            <div className=\"mb-4\">\r\n                              <h4 className=\"text-h4 mb-3\">\r\n                                Evidncias\r\n                              </h4>\r\n                              <div className=\"space-y-3\">\r\n                                {result.evidence.map((evidence, index) => (\r\n                                  <div key={index} className=\"br-card\">\r\n                                    <div className=\"card-header\">\r\n                                      <div className=\"d-flex align-items-center justify-content-between\">\r\n                                        <span className=\"text-regular fw-medium\">\r\n                                          {evidence.filePath}\r\n                                          {evidence.lineNumbers && (\r\n                                            <span className=\"text-small text-muted ms-2\">\r\n                                              (Linhas {evidence.lineNumbers[0]}-{evidence.lineNumbers[1]})\r\n                                            </span>\r\n                                          )}\r\n                                        </span>\r\n                                        <ExternalLink className=\"w-4 h-4 text-muted\" />\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"card-content p-0\">\r\n                                      <div className=\"p-3\">\r\n                                        <CodeBlock\r\n                                          code={evidence.code}\r\n                                          language={evidence.language}\r\n                                        />\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                ))}\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* Recomendaes */}\r\n                          {result.recommendations.length > 0 && (\r\n                            <div>\r\n                              <h4 className=\"text-h4 mb-3\">\r\n                                Recomendaes\r\n                              </h4>\r\n                              <ul className=\"list-unstyled\">\r\n                                {result.recommendations.map((recommendation, index) => (\r\n                                  <li\r\n                                    key={index}\r\n                                    className=\"d-flex align-items-start gap-2 mb-2\"\r\n                                  >\r\n                                    <div className=\"w-2 h-2 bg-primary rounded-circle mt-2 flex-shrink-0\" />\r\n                                    <span className=\"text-regular\">{recommendation}</span>\r\n                                  </li>\r\n                                ))}\r\n                              </ul>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </React.Fragment>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResultsTable;","import apiClient from './apiClient';\r\nimport type { Analysis, AnalysisConfig, AnalysisResult, AnalysisSummary } from '@/types/analysis';\r\n\r\nexport interface AnalysisRequest {\r\n  criteria_ids: string[];\r\n  file_paths: string[];\r\n  analysis_name?: string;\r\n  temperature?: number;\r\n  max_tokens?: number;\r\n}\r\n\r\nexport interface AnalysisResponse {\r\n  success: boolean;\r\n  analysis_name: string;\r\n  criteria_count: number;\r\n  timestamp: string;\r\n  model_used: string;\r\n  usage: {\r\n    input_tokens?: number;\r\n    output_tokens?: number;\r\n    total_tokens?: number;\r\n  };\r\n  criteria_results: Record<string, {\r\n    name: string;\r\n    content: string;\r\n  }>;\r\n  raw_response: string;\r\n  modified_prompt: string;\r\n  file_paths: string[];\r\n  db_result_id?: number; // Database ID of the saved analysis result\r\n}\r\n\r\nexport const analysisService = {\r\n  create: async (config: AnalysisConfig): Promise<Analysis> => {\r\n    const response = await apiClient.post('/analysis', config);\r\n    return response.data;\r\n  },\r\n\r\n  getById: async (id: string): Promise<Analysis> => {\r\n    const response = await apiClient.get(`/analysis/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  getResults: async (id: string): Promise<AnalysisResult[]> => {\r\n    const response = await apiClient.get(`/analysis/${id}/results`);\r\n    return response.data;\r\n  },\r\n\r\n  getSummary: async (id: string): Promise<AnalysisSummary> => {\r\n    const response = await apiClient.get(`/analysis/${id}/summary`);\r\n    return response.data;\r\n  },\r\n\r\n  cancel: async (id: string): Promise<void> => {\r\n    await apiClient.post(`/analysis/${id}/cancel`);\r\n  },\r\n\r\n  retry: async (id: string): Promise<Analysis> => {\r\n    const response = await apiClient.post(`/analysis/${id}/retry`);\r\n    return response.data;\r\n  },\r\n\r\n  exportResults: async (id: string, format: 'pdf' | 'excel' | 'json'): Promise<Blob> => {\r\n    const response = await apiClient.get(`/analysis/${id}/export`, {\r\n      params: { format },\r\n      responseType: 'blob',\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  analyzeSelectedCriteria: async (request: AnalysisRequest): Promise<AnalysisResponse> => {\r\n    try {\r\n      const response = await apiClient.post('/general-analysis/analyze-selected', request);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error analyzing selected criteria:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  getAnalysisResults: async () => {\r\n    try {\r\n      // Use the authenticated endpoint to get current user's results\r\n      const response = await apiClient.get('/general-analysis/results');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error fetching analysis results:', error);\r\n      // Return empty results to avoid breaking the UI\r\n      return { success: true, results: [], total: 0 };\r\n    }\r\n  },\r\n\r\n  deleteAnalysisResult: async (resultId: number) => {\r\n    try {\r\n      const response = await apiClient.delete(`/general-analysis/results/${resultId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error deleting analysis result:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  deleteMultipleAnalysisResults: async (resultIds: number[]) => {\r\n    try {\r\n      const response = await apiClient.delete('/general-analysis/results', {\r\n        data: { result_ids: resultIds }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error deleting multiple analysis results:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  deleteAllAnalysisResults: async () => {\r\n    try {\r\n      const response = await apiClient.delete('/general-analysis/results/all');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error deleting all analysis results:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  getLatestPrompt: async () => {\r\n    try {\r\n      const response = await apiClient.get('/general-analysis/latest-prompt');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error getting latest prompt:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  getLatestResponse: async () => {\r\n    try {\r\n      const response = await apiClient.get('/general-analysis/latest-response');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error getting latest response:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  getLatestRawResponse: async () => {\r\n    try {\r\n      const response = await apiClient.get('/general-analysis/latest-raw-response');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error getting latest raw response:', error);\r\n      throw error;\r\n    }\r\n  },\r\n};","import React, { useState, useEffect } from 'react';\r\nimport { RefreshCw, Download, FileText, AlertCircle, Clock } from 'lucide-react';\r\nimport { analysisService } from '@/services/analysisService';\r\n\r\ninterface LatestPromptData {\r\n  success: boolean;\r\n  message: string;\r\n  prompt_content?: string;\r\n  file_exists: boolean;\r\n  file_size?: number;\r\n  modified_time?: number;\r\n  file_path?: string;\r\n  token_usage?: {\r\n    total_tokens?: number;\r\n    prompt_tokens?: number;\r\n    completion_tokens?: number;\r\n  };\r\n}\r\n\r\nconst LatestPromptViewer: React.FC = () => {\r\n  const [promptData, setPromptData] = useState<LatestPromptData | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const loadLatestPrompt = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await analysisService.getLatestPrompt();\r\n      setPromptData(response);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Erro ao carregar prompt');\r\n      console.error('Error loading latest prompt:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadLatestPrompt();\r\n  }, []);\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes < 1024) return `${bytes} B`;\r\n    if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\r\n    return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;\r\n  };\r\n\r\n  const formatDate = (timestamp: number) => {\r\n    return new Date(timestamp * 1000).toLocaleString('pt-BR');\r\n  };\r\n\r\n  const formatTokenCount = (tokens: number) => {\r\n    if (tokens >= 1000000) return `${(tokens / 1000000).toFixed(1)}M`;\r\n    if (tokens >= 1000) return `${(tokens / 1000).toFixed(1)}K`;\r\n    return tokens.toString();\r\n  };\r\n\r\n  const downloadPrompt = () => {\r\n    if (!promptData?.prompt_content) return;\r\n\r\n    const blob = new Blob([promptData.prompt_content], { type: 'text/plain;charset=utf-8' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `prompt_${new Date().toISOString().slice(0, 19).replace(/:/g, '-')}.txt`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"br-card\">\r\n        <div className=\"card-content\">\r\n          <div className=\"d-flex align-items-center justify-content-center\" style={{ minHeight: '200px' }}>\r\n            <RefreshCw className=\"animate-spin mr-2\" />\r\n            <span>Carregando prompt...</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"br-card\">\r\n        <div className=\"card-content\">\r\n          <div className=\"d-flex align-items-center text-danger\">\r\n            <AlertCircle className=\"mr-2\" />\r\n            <span>Erro: {error}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!promptData || !promptData.file_exists) {\r\n    return (\r\n      <div className=\"br-card\">\r\n        <div className=\"card-content\">\r\n          <div className=\"text-center py-5\">\r\n            <FileText className=\"mb-3\" style={{ width: '48px', height: '48px', opacity: 0.5 }} />\r\n            <h3 className=\"text-h3 mb-2\">Nenhum prompt encontrado</h3>\r\n            <p className=\"text-regular text-muted mb-4\">\r\n              Execute uma anlise primeiro para gerar um prompt.\r\n            </p>\r\n            <button\r\n              className=\"br-button primary\"\r\n              onClick={loadLatestPrompt}\r\n              type=\"button\"\r\n            >\r\n              <RefreshCw className=\"mr-1\" />\r\n              Atualizar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"br-card\">\r\n      <div className=\"card-header\">\r\n        <div className=\"d-flex justify-content-between align-items-center\">\r\n          <div>\r\n            <h2 className=\"text-h2 mb-1\">ltimo Prompt Enviado para LLM</h2>\r\n            <div className=\"d-flex align-items-center text-muted text-small\">\r\n              <Clock className=\"mr-1\" style={{ width: '14px', height: '14px' }} />\r\n              <span>\r\n                {promptData.modified_time ? formatDate(promptData.modified_time) : 'Data no disponvel'}\r\n              </span>\r\n              {promptData.file_size && (\r\n                <span className=\"ml-3\">\r\n                  Tamanho: {formatFileSize(promptData.file_size)}\r\n                </span>\r\n              )}\r\n              {promptData.token_usage && promptData.token_usage.prompt_tokens && (\r\n                <span className=\"ml-3\">\r\n                  Tokens enviados: {formatTokenCount(promptData.token_usage.prompt_tokens)}\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex gap-2\">\r\n            <button\r\n              className=\"br-button circle\"\r\n              onClick={loadLatestPrompt}\r\n              title=\"Atualizar\"\r\n              type=\"button\"\r\n            >\r\n              <RefreshCw />\r\n            </button>\r\n            <button\r\n              className=\"br-button circle\"\r\n              onClick={downloadPrompt}\r\n              title=\"Baixar prompt\"\r\n              type=\"button\"\r\n            >\r\n              <Download />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"card-content\">\r\n        <div className=\"br-scrollbar\" style={{ maxHeight: '600px', overflow: 'auto' }}>\r\n          <pre className=\"prompt-content\" style={{\r\n            fontFamily: 'Consolas, Monaco, \"Courier New\", monospace',\r\n            fontSize: '14px',\r\n            lineHeight: '1.5',\r\n            whiteSpace: 'pre-wrap',\r\n            wordWrap: 'break-word',\r\n            margin: 0,\r\n            padding: '1rem',\r\n            backgroundColor: '#f8f9fa',\r\n            border: '1px solid #e9ecef',\r\n            borderRadius: '4px'\r\n          }}>\r\n            {promptData.prompt_content}\r\n          </pre>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LatestPromptViewer;","import React, { useState, useEffect } from 'react';\r\nimport { RefreshCw, Download, FileText, AlertCircle, Clock } from 'lucide-react';\r\nimport { analysisService } from '@/services/analysisService';\r\n\r\ninterface LatestResponseData {\r\n  success: boolean;\r\n  message: string;\r\n  response_content?: string;\r\n  file_exists: boolean;\r\n  file_size?: number;\r\n  modified_time?: number;\r\n  file_path?: string;\r\n  token_usage?: {\r\n    total_tokens?: number;\r\n    prompt_tokens?: number;\r\n    completion_tokens?: number;\r\n  };\r\n}\r\n\r\nconst LatestResponseViewer: React.FC = () => {\r\n  const [responseData, setResponseData] = useState<LatestResponseData | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const loadLatestResponse = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await analysisService.getLatestResponse();\r\n      setResponseData(response);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Erro ao carregar resposta da LLM');\r\n      console.error('Error loading latest response:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadLatestResponse();\r\n  }, []);\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes < 1024) return `${bytes} B`;\r\n    if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\r\n    return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;\r\n  };\r\n\r\n  const formatDate = (timestamp: number) => {\r\n    return new Date(timestamp * 1000).toLocaleString('pt-BR');\r\n  };\r\n\r\n  const formatTokenCount = (tokens: number) => {\r\n    if (tokens >= 1000000) return `${(tokens / 1000000).toFixed(1)}M`;\r\n    if (tokens >= 1000) return `${(tokens / 1000).toFixed(1)}K`;\r\n    return tokens.toString();\r\n  };\r\n\r\n  const downloadResponse = () => {\r\n    if (!responseData?.response_content) return;\r\n\r\n    const blob = new Blob([responseData.response_content], { type: 'text/plain;charset=utf-8' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `resposta_llm_${new Date().toISOString().slice(0, 19).replace(/:/g, '-')}.txt`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"br-card\">\r\n        <div className=\"card-content\">\r\n          <div className=\"d-flex align-items-center justify-content-center\" style={{ minHeight: '200px' }}>\r\n            <RefreshCw className=\"animate-spin mr-2\" />\r\n            <span>Carregando resposta da LLM...</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"br-card\">\r\n        <div className=\"card-content\">\r\n          <div className=\"d-flex align-items-center text-danger\">\r\n            <AlertCircle className=\"mr-2\" />\r\n            <span>Erro: {error}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!responseData || !responseData.file_exists) {\r\n    return (\r\n      <div className=\"br-card\">\r\n        <div className=\"card-content\">\r\n          <div className=\"text-center py-5\">\r\n            <FileText className=\"mb-3\" style={{ width: '48px', height: '48px', opacity: 0.5 }} />\r\n            <h3 className=\"text-h3 mb-2\">Nenhuma resposta da LLM encontrada</h3>\r\n            <p className=\"text-regular text-muted mb-4\">\r\n              Execute uma anlise primeiro para gerar uma resposta da LLM.\r\n            </p>\r\n            <button\r\n              className=\"br-button primary\"\r\n              onClick={loadLatestResponse}\r\n              type=\"button\"\r\n            >\r\n              <RefreshCw className=\"mr-1\" />\r\n              Atualizar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"br-card\">\r\n      <div className=\"card-header\">\r\n        <div className=\"d-flex justify-content-between align-items-center\">\r\n          <div>\r\n            <h2 className=\"text-h2 mb-1\">ltima Resposta da LLM</h2>\r\n            <div className=\"d-flex align-items-center text-muted text-small\">\r\n              <Clock className=\"mr-1\" style={{ width: '14px', height: '14px' }} />\r\n              <span>\r\n                {responseData.modified_time ? formatDate(responseData.modified_time) : 'Data no disponvel'}\r\n              </span>\r\n              {responseData.file_size && (\r\n                <span className=\"ml-3\">\r\n                  Tamanho: {formatFileSize(responseData.file_size)}\r\n                </span>\r\n              )}\r\n              {responseData.token_usage && responseData.token_usage.completion_tokens && (\r\n                <span className=\"ml-3\">\r\n                  Tokens recebidos: {formatTokenCount(responseData.token_usage.completion_tokens)}\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex gap-2\">\r\n            <button\r\n              className=\"br-button circle\"\r\n              onClick={loadLatestResponse}\r\n              title=\"Atualizar\"\r\n              type=\"button\"\r\n            >\r\n              <RefreshCw />\r\n            </button>\r\n            <button\r\n              className=\"br-button circle\"\r\n              onClick={downloadResponse}\r\n              title=\"Baixar resposta\"\r\n              type=\"button\"\r\n            >\r\n              <Download />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"card-content\">\r\n        <div className=\"br-scrollbar\" style={{ maxHeight: '1000px', overflow: 'auto' }}>\r\n          <pre className=\"response-content\" style={{\r\n            fontFamily: 'Consolas, Monaco, \"Courier New\", monospace',\r\n            fontSize: '14px',\r\n            lineHeight: '1.5',\r\n            whiteSpace: 'pre-wrap',\r\n            wordWrap: 'break-word',\r\n            margin: 0,\r\n            padding: '1rem',\r\n            backgroundColor: '#f8f9fa',\r\n            border: '1px solid #e9ecef',\r\n            borderRadius: '4px'\r\n          }}>\r\n            {responseData.response_content}\r\n          </pre>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LatestResponseViewer;","import { create } from 'zustand';\r\nimport type { UploadFile } from '@/types/file';\r\n\r\ninterface UploadState {\r\n  files: UploadFile[];\r\n  uploadProgress: Record<string, number>;\r\n  uploading: boolean;\r\n  error: string | null;\r\n  uploadFiles: (files: globalThis.File[]) => Promise<void>;\r\n  removeFile: (id: string) => void;\r\n  clearFiles: () => void;\r\n}\r\n\r\nexport const useUploadStore = create<UploadState>((set) => ({\r\n  files: [],\r\n  uploadProgress: {},\r\n  uploading: false,\r\n  error: null,\r\n\r\n  uploadFiles: async (files) => {\r\n    set({ uploading: true, error: null });\r\n\r\n    try {\r\n      for (const file of files) {\r\n        const fileData: UploadFile = {\r\n          id: Date.now().toString() + Math.random(),\r\n          name: file.name,\r\n          size: file.size,\r\n          type: file.type,\r\n          path: file.name,\r\n          status: 'uploading',\r\n          progress: 0,\r\n        };\r\n\r\n        set((state) => ({\r\n          files: [...state.files, fileData],\r\n        }));\r\n\r\n        // Simulate upload progress\r\n        const progressInterval = setInterval(() => {\r\n          set((state) => {\r\n            const currentProgress = state.uploadProgress[fileData.id] || 0;\r\n            if (currentProgress < 100) {\r\n              return {\r\n                uploadProgress: {\r\n                  ...state.uploadProgress,\r\n                  [fileData.id]: Math.min(currentProgress + 10, 100),\r\n                },\r\n              };\r\n            }\r\n            clearInterval(progressInterval);\r\n            return state;\r\n          });\r\n        }, 200);\r\n\r\n        // Simulate API call\r\n        await new Promise((resolve) => setTimeout(resolve, 2000));\r\n\r\n        clearInterval(progressInterval);\r\n        set((state) => ({\r\n          files: state.files.map((f) =>\r\n            f.id === fileData.id\r\n              ? { ...f, status: 'completed', uploadedAt: new Date() }\r\n              : f\r\n          ),\r\n          uploadProgress: {\r\n            ...state.uploadProgress,\r\n            [fileData.id]: 100,\r\n          },\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      set({ error: error instanceof Error ? error.message : 'Unknown error' });\r\n    } finally {\r\n      set({ uploading: false });\r\n    }\r\n  },\r\n\r\n  removeFile: (id) => {\r\n    set((state) => ({\r\n      files: state.files.filter((f) => f.id !== id),\r\n      uploadProgress: Object.fromEntries(\r\n        Object.entries(state.uploadProgress).filter(([key]) => key !== id)\r\n      ),\r\n    }));\r\n  },\r\n\r\n  clearFiles: () => {\r\n    set({\r\n      files: [],\r\n      uploadProgress: {},\r\n      error: null,\r\n    });\r\n  },\r\n}));","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Download, Upload, Settings, FileText, AlertCircle, Trash2, RefreshCw, Eye } from 'lucide-react';\r\nimport jsPDF from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\nimport apiClient from '@/services/apiClient';\r\nimport CriteriaList from '@/components/features/Analysis/CriteriaList';\r\nimport ProgressTracker from '@/components/features/Analysis/ProgressTracker';\r\nimport ResultsTable from '@/components/features/Analysis/ResultsTable';\r\nimport LatestPromptViewer from '@/components/features/Analysis/LatestPromptViewer';\r\nimport LatestResponseViewer from '@/components/features/Analysis/LatestResponseViewer';\r\nimport { useUploadStore } from '@/stores/uploadStore';\r\nimport { criteriaService } from '@/services/criteriaService';\r\nimport { analysisService, type AnalysisRequest, type AnalysisResponse } from '@/services/analysisService';\r\n// import Modal from '@/components/common/Modal';\r\n// import Alert from '@/components/common/Alert';\r\n// import Button from '@/components/common/Button';\r\nimport './GeneralAnalysisPage.css';\r\n\r\ninterface CriteriaResult {\r\n  id?: number;\r\n  criterion: string;\r\n  assessment: string;\r\n  status: 'compliant' | 'partially_compliant' | 'non_compliant';\r\n  confidence: number;\r\n  evidence: Array<{\r\n    code: string;\r\n    language: string;\r\n    filePath: string;\r\n    lineNumbers?: [number, number];\r\n  }>;\r\n  recommendations: string[];\r\n  resultId?: number; // ID do resultado pai no banco de dados\r\n  criterionKey?: string; // Chave do critrio original\r\n  criteriaId?: number; // ID numrico nico do critrio do banco de dados\r\n}\r\n\r\ninterface Criterion {\r\n  id: number;\r\n  text: string;\r\n  active: boolean;\r\n  order: number;\r\n}\r\n\r\nconst GeneralAnalysisPage: React.FC = () => {\r\n  const uploadStore = useUploadStore();\r\n\r\n  // Definir ttulo da pgina\r\n  React.useEffect(() => {\r\n    document.title = 'AVALIA Code Quality System - Anlise Geral';\r\n  }, []);\r\n\r\n  // Clear upload store on component mount to ensure sync with database\r\n  React.useEffect(() => {\r\n    if (uploadStore.files.length > 0) {\r\n      console.log(' GeneralAnalysisPage montado - limpando upload store para sincronizar com banco de dados');\r\n      uploadStore.clearFiles();\r\n    }\r\n\r\n    // Forar recarga dos paths do banco para garantir sincronizao\r\n    reloadDbPaths();\r\n  }, [uploadStore]);\r\n\r\n  const uploadedFiles = uploadStore?.files || [];\r\n  const [dbFilePaths, setDbFilePaths] = useState<string[]>([]);\r\n\r\n  // Debug: Log onde os arquivos esto vindo\r\n  console.log(' DEBUG - Fontes de arquivos:');\r\n  console.log('  - uploadedFiles (uploadStore):', uploadedFiles);\r\n  console.log('  - uploadedFiles.length:', uploadedFiles.length);\r\n  console.log('  - dbFilePaths:', dbFilePaths);\r\n  console.log('  - dbFilePaths.length:', dbFilePaths.length);\r\n\r\n  // Funo para recarregar paths do banco de dados\r\n  const reloadDbPaths = async () => {\r\n    try {\r\n      console.log(' Recarregando paths do banco de dados...');\r\n\r\n      // Tentar diferentes endpoints\r\n      const endpoints = [\r\n        '/api/v1/file-paths/dev-paths',\r\n        '/public/file-paths',\r\n        '/api/v1/file-paths/test'\r\n      ];\r\n\r\n      for (const endpoint of endpoints) {\r\n        try {\r\n          const response = await fetch(endpoint, {\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            }\r\n          });\r\n\r\n          if (response.ok) {\r\n            const data = await response.json();\r\n            console.log(` Resposta do endpoint ${endpoint}:`, data);\r\n\r\n            let paths = [];\r\n            if (data.file_paths && Array.isArray(data.file_paths)) {\r\n              // Verificar se  array de strings ou objetos\r\n              if (typeof data.file_paths[0] === 'string') {\r\n                paths = data.file_paths;\r\n              } else {\r\n                paths = data.file_paths.map((fp: any) => fp.full_path);\r\n              }\r\n            } else if (data.items && Array.isArray(data.items)) {\r\n              paths = data.items.map((fp: any) => fp.full_path);\r\n            }\r\n\r\n            setDbFilePaths(paths);\r\n            console.log(' Paths recarregados do banco de dados:', paths);\r\n            return paths;\r\n          }\r\n        } catch (endpointError) {\r\n          console.warn(` Erro ao tentar endpoint ${endpoint}:`, endpointError);\r\n        }\r\n      }\r\n\r\n      console.warn(' Todos os endpoints falharam');\r\n      return [];\r\n    } catch (error) {\r\n      console.error(' Erro ao recarregar paths do banco:', error);\r\n      return [];\r\n    }\r\n  };\r\n\r\n  // Carregar paths do banco de dados na inicializao\r\n  useEffect(() => {\r\n    reloadDbPaths();\r\n  }, []);\r\n\r\n  // Funo para obter os file paths para anlise de critrios gerais (apenas banco de dados)\r\n  const getAnalysisFilePaths = useCallback(async () => {\r\n    console.log(' getAnalysisFilePaths chamado para anlise geral:', {\r\n      uploadedFiles: uploadedFiles.length,\r\n      dbFilePaths: dbFilePaths.length,\r\n      uploadedFilesContent: uploadedFiles,\r\n      dbFilePathsContent: dbFilePaths\r\n    });\r\n\r\n    // Para anlise de critrios gerais, usar APENAS arquivos do banco de dados\r\n    // Ignorar arquivos do upload store (que so para testes/temporrios)\r\n    console.log(' Anlise geral: usando apenas arquivos do banco de dados');\r\n\r\n    if (dbFilePaths.length === 0) {\r\n      console.log(' Nenhum path em cache, recarregando do banco...');\r\n      const freshPaths = await reloadDbPaths();\r\n      if (freshPaths.length > 0) {\r\n        console.log(' Usando paths recarregados do banco:', freshPaths);\r\n        return freshPaths;\r\n      }\r\n    } else {\r\n      console.log(' Usando paths do banco de dados em cache:', dbFilePaths);\r\n      return dbFilePaths;\r\n    }\r\n\r\n    console.log(' Nenhum path encontrado no banco de dados!');\r\n    return [];\r\n  }, [dbFilePaths]);\r\n  const [currentAnalysis, setCurrentAnalysis] = useState<any>(null);\r\n  const [results, setResults] = useState<CriteriaResult[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [resultsManuallyCleared, setResultsManuallyCleared] = useState(false);\r\n    const [activeTab, setActiveTab] = useState<'criteria' | 'results' | 'prompt' | 'response'>('criteria');\r\n  const [selectedCriteriaIds, setSelectedCriteriaIds] = useState<string[]>([]);\r\n  const [showProgress, setShowProgress] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [pendingAnalysis, setPendingAnalysis] = useState<string[] | null>(null);\r\n\r\n  // Debug: Log modal state\r\n  console.log(' DEBUG: Modal render - confirmModalOpen:', confirmModalOpen);\r\n  const [latestTokenInfo, setLatestTokenInfo] = useState<any>(null);\r\n\r\n  // Carregar resultados salvos do banco de dados na inicializao\r\n  useEffect(() => {\r\n    const loadSavedResults = async () => {\r\n      // No carregar resultados se j houver resultados na tela\r\n      if (results.length > 0) {\r\n        console.log('J existem resultados na tela, pulando carregamento do banco de dados');\r\n        return;\r\n      }\r\n\r\n      // No carregar resultados se o usurio j os excluiu manualmente nesta sesso\r\n      if (resultsManuallyCleared) {\r\n        console.log('Resultados foram excludos manualmente pelo usurio, pulando carregamento automtico');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        console.log('Carregando resultados salvos do banco de dados...');\r\n        const savedResults = await analysisService.getAnalysisResults();\r\n\r\n        if (savedResults.success && savedResults.results && savedResults.results.length > 0) {\r\n          // Carregar todos os critrios para obter o mapeamento de ID numrico\r\n          const allCriteria = await criteriaService.getCriteria();\r\n\r\n          // Criar mapeamento de texto do critrio para ID numrico\r\n          const criteriaTextToIdMap = new Map<string, number>();\r\n          console.log(' Carregando critrios para mapeamento:', allCriteria.length);\r\n          allCriteria.forEach(criterion => {\r\n            criteriaTextToIdMap.set(criterion.text, criterion.id);\r\n            // Tambm mapear verses curtas do texto\r\n            const shortText = criterion.text.split(':')[0].trim();\r\n            if (shortText !== criterion.text) {\r\n              criteriaTextToIdMap.set(shortText, criterion.id);\r\n            }\r\n          });\r\n\r\n          // Pegar apenas a anlise mais recente\r\n          const mostRecentResult = savedResults.results[0]; // J vem ordenado por timestamp decrescente\r\n          console.log(' Usando apenas a anlise mais recente:', mostRecentResult.analysis_name);\r\n\r\n          // Converter resultado salvo para o formato esperado pelo componente\r\n          const formattedResults: CriteriaResult[] = [];\r\n\r\n          if (mostRecentResult.criteria_results && typeof mostRecentResult.criteria_results === 'object') {\r\n            Object.entries(mostRecentResult.criteria_results).forEach(([key, criterionData]: [string, any]) => {\r\n                if (criterionData && criterionData.content) {\r\n                  // Extrair confiana do contedo\r\n                  let confidence = 0.8;\r\n                  const confidenceMatch = criterionData.content.match(/(confiana|confidence)[^\\d]*(\\d+(?:\\.\\d+)?)/i);\r\n                  if (confidenceMatch) {\r\n                    const confidenceValue = parseFloat(confidenceMatch[2]);\r\n                    confidence = confidenceValue > 1.0 ? Math.min(confidenceValue / 100, 1.0) : Math.min(confidenceValue, 1.0);\r\n                  }\r\n\r\n                  // Extrair status do contedo usando formato estruturado\r\n                  let status: 'compliant' | 'partially_compliant' | 'non_compliant' = 'compliant';\r\n                  const statusMatch = criterionData.content.match(/\\*\\*Status:\\*\\*\\s*([^*\\n]+)/i);\r\n                  if (statusMatch) {\r\n                    const statusText = statusMatch[1].trim().toLowerCase();\r\n                    console.log(`[DEBUG] Status extracted: \"${statusText}\" from criterion: ${criterionData.name}`);\r\n\r\n                    // Check for \"no conforme\" first (most specific)\r\n                    if (statusText === 'no conforme' || statusText === 'nao conforme' || statusText.startsWith('no conforme') || statusText.startsWith('nao conforme')) {\r\n                      status = 'non_compliant';\r\n                    } else if (statusText === 'parcialmente conforme' || statusText.startsWith('parcialmente conforme')) {\r\n                      status = 'partially_compliant';\r\n                    } else if (statusText === 'conforme' || statusText.startsWith('conforme')) {\r\n                      status = 'compliant';\r\n                    } else {\r\n                      // Fallback: check for contains (less precise)\r\n                      if (statusText.includes('no conforme') || statusText.includes('nao conforme')) {\r\n                        status = 'non_compliant';\r\n                      } else if (statusText.includes('parcialmente conforme')) {\r\n                        status = 'partially_compliant';\r\n                      } else if (statusText.includes('conforme') && !statusText.includes('no') && !statusText.includes('nao')) {\r\n                        status = 'compliant';\r\n                      }\r\n                    }\r\n                    console.log(`[DEBUG] Status mapped to: ${status} for criterion: ${criterionData.name}`);\r\n                  } else {\r\n                    // Fallback para busca por palavra-chave se formato estruturado no for encontrado\r\n                    const content = criterionData.content.toLowerCase();\r\n                    console.log(`[DEBUG] No structured status found, using content search for criterion: ${criterionData.name}`);\r\n\r\n                    if (content.includes('no atende') || content.includes('no cumpre') || content.includes('viol') || content.includes('defeito')) {\r\n                      status = 'non_compliant';\r\n                    } else if (content.includes('parcialmente') || content.includes('atende parcialmente') || content.includes('precisa melhorar')) {\r\n                      status = 'partially_compliant';\r\n                    }\r\n                    console.log(`[DEBUG] Fallback status mapped to: ${status} for criterion: ${criterionData.name}`);\r\n                  }\r\n\r\n                  // Tentar encontrar o ID numrico do critrio\r\n                  const criterionNameFromDB = criterionData.name || `Critrio ${key}`;\r\n                  const criteriaId = criteriaTextToIdMap.get(criterionNameFromDB) ||\r\n                                   criteriaTextToIdMap.get(criterionNameFromDB.split(':')[0].trim());\r\n\r\n                  // Encontrar o critrio correspondente para obter o texto original\r\n                  const matchingCriterion = allCriteria.find(c => c.id === criteriaId);\r\n\r\n                  // SEMPRE usar o texto original do critrio se encontrado, seno usar o do banco\r\n                  const finalCriterionText = matchingCriterion ? matchingCriterion.text : criterionNameFromDB;\r\n\r\n                  if (!criteriaId) {\r\n                    console.log(` Critrio no encontrado no mapa: \"${criterionNameFromDB}\"`);\r\n                  }\r\n\r\n                  if (matchingCriterion) {\r\n                    console.log(` Critrio encontrado no mapa: \"${criterionNameFromDB}\" -> \"${matchingCriterion.text}\"`);\r\n                  }\r\n\r\n                  formattedResults.push({\r\n                    id: criteriaId || (mostRecentResult.id * 1000 + parseInt(key.replace(/\\D/g, ''))), // Usar criteriaId como ID principal\r\n                    criterion: finalCriterionText, // Usar texto original do critrio quando disponvel\r\n                    assessment: criterionData.content,\r\n                    status: status,\r\n                    confidence: confidence,\r\n                    evidence: [],\r\n                    recommendations: [],\r\n                    resultId: mostRecentResult.id, // Adicionar referncia ao ID do resultado pai no banco\r\n                    criterionKey: key, // Adicionar a chave do critrio original\r\n                    criteriaId: criteriaId // Adicionar o ID numrico nico do critrio\r\n                  });\r\n                }\r\n            });\r\n          }\r\n\r\n          console.log(`Carregados ${formattedResults.length} resultados salvos`);\r\n          console.log('Resultados formatados:', formattedResults);\r\n          setResults(formattedResults);\r\n        } else {\r\n          console.log('Nenhum resultado salvo encontrado');\r\n          setResults([]);\r\n        }\r\n      } catch (error) {\r\n        console.error('Erro ao carregar resultados salvos:', error);\r\n        setResults([]);\r\n      }\r\n    };\r\n\r\n    loadSavedResults();\r\n  }, []);\r\n\r\n  // Funo para limpar resultados (mantida para compatibilidade, mas no faz nada)\r\n  const refreshResults = async () => {\r\n    // No faz mais nada para manter a tela limpa at anlise explcita\r\n    console.log('Funo refreshResults desativada - mantendo tela limpa');\r\n  };\r\n\r\n  // Funo para carregar informaes de tokens mais recentes\r\n  const loadLatestTokenInfo = async () => {\r\n    try {\r\n      // Tenta carregar tanto informaes do prompt quanto da resposta\r\n      const [promptData, responseData] = await Promise.all([\r\n        analysisService.getLatestPrompt().catch(() => null),\r\n        analysisService.getLatestResponse().catch(() => null)\r\n      ]);\r\n\r\n      const tokenInfo: any = {};\r\n\r\n      if (promptData?.token_usage) {\r\n        tokenInfo.prompt = promptData.token_usage;\r\n      }\r\n\r\n      if (responseData?.token_usage) {\r\n        tokenInfo.response = responseData.token_usage;\r\n      }\r\n\r\n      if (Object.keys(tokenInfo).length > 0) {\r\n        setLatestTokenInfo(tokenInfo);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao carregar informaes de tokens:', error);\r\n    }\r\n  };\r\n\r\n  // Carregar informaes de tokens quando mudar para abas de prompt/response\r\n  useEffect(() => {\r\n    if (activeTab === 'prompt' || activeTab === 'response') {\r\n      loadLatestTokenInfo();\r\n    }\r\n  }, [activeTab]);\r\n\r\n  // Funo para formatar contagem de tokens\r\n  const formatTokenCount = (tokens: number) => {\r\n    if (tokens >= 1000000) return `${(tokens / 1000000).toFixed(1)}M`;\r\n    if (tokens >= 1000) return `${(tokens / 1000).toFixed(1)}K`;\r\n    return tokens.toString();\r\n  };\r\n\r\n  const handleStartAnalysis = async (specificCriteria?: string[]) => {\r\n    const filePaths = await getAnalysisFilePaths();\r\n    if (filePaths.length === 0) {\r\n      alert('Nenhum arquivo encontrado para anlise. Por favor, faa upload dos arquivos primeiro.');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    // Mock analysis progress\r\n    const mockAnalysis = {\r\n      id: Date.now().toString(),\r\n      name: specificCriteria ? `Anlise de ${specificCriteria.length} Critrios Selecionados` : 'Anlise de Critrios Gerais',\r\n      status: 'processing',\r\n      progress: 0,\r\n      startTime: new Date()\r\n    };\r\n\r\n    setCurrentAnalysis(mockAnalysis);\r\n\r\n    // Simulate progress\r\n    const progressInterval = setInterval(() => {\r\n      setCurrentAnalysis((prev: any) => {\r\n        if (prev && prev.progress < 100) {\r\n          const newProgress = Math.min(prev.progress + 10, 100);\r\n          return { ...prev, progress: newProgress };\r\n        }\r\n        return prev;\r\n      });\r\n    }, 500);\r\n\r\n    // Mock criteria for analysis - use specific criteria if provided\r\n    const mockCriteria = specificCriteria || [\r\n      'O cdigo deve seguir convenes de nomenclatura consistentes',\r\n      'Funes e mtodos devem ter documentao adequada',\r\n      'O cdigo deve ter tratamento adequado de erros',\r\n      'Variveis devem ter nomes descritivos e significativos'\r\n    ];\r\n\r\n    \r\n    // Simulate analysis completion\r\n    setTimeout(() => {\r\n      clearInterval(progressInterval);\r\n\r\n      const mockResults: CriteriaResult[] = mockCriteria.map((criterion, index) => ({\r\n        id: Date.now() + index, // Gerar ID nico\r\n        criterion,\r\n        assessment: `Anlise do critrio \"${criterion}\" revela que o cdigo apresenta boa aderncia aos padres estabelecidos. Foram identificados pontos fortes na implementao e algumas oportunidades de melhoria que podem ser abordadas em futuras refatoraes.`,\r\n        status: index % 3 === 0 ? 'compliant' : index % 3 === 1 ? 'partially_compliant' : 'non_compliant',\r\n        confidence: 0.7 + (Math.random() * 0.3),\r\n        order: index + 1,\r\n        evidence: [\r\n          {\r\n            code: '// Exemplo de cdigo analisado\\nfunction exampleFunction() {\\n  // Implementao\\n  return true;\\n}',\r\n            language: 'javascript',\r\n            filePath: filePaths[0] || uploadedFiles[0]?.name || 'example.js',\r\n            lineNumbers: [10, 15]\r\n          }\r\n        ],\r\n        recommendations: [\r\n          'Melhorar a documentao de funes complexas',\r\n          'Adicionar tratamento de erros em pontos crticos',\r\n          'Refatorar funes muito longas para melhor legibilidade'\r\n        ]\r\n      }));\r\n\r\n      setResults(mockResults);\r\n      setCurrentAnalysis({\r\n        ...mockAnalysis,\r\n        status: 'completed',\r\n        progress: 100,\r\n        endTime: new Date()\r\n      });\r\n      setLoading(false);\r\n      setActiveTab('results');\r\n    }, 5000);\r\n  };\r\n\r\n  \r\n  \r\n  const handleCancelAnalysis = () => {\r\n    setCurrentAnalysis(null);\r\n    setResults([]);\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleClearResults = () => {\r\n    if (results.length === 0) return;\r\n\r\n    const confirmClear = confirm('Tem certeza que deseja limpar todos os resultados? Esta ao no pode ser desfeita.');\r\n    if (confirmClear) {\r\n      setResults([]);\r\n      console.log('Resultados limpos pelo usurio');\r\n    }\r\n  };\r\n\r\n  const handleReanalyze = async (criterion: string) => {\r\n    try {\r\n      // Encontrar o critrio nos resultados existentes para obter o ID\r\n      const existingResult = results.find(r => r.criterion === criterion || r.criterion.includes(criterion) || criterion.includes(r.criterion));\r\n\r\n      if (!existingResult) {\r\n        alert('Critrio no encontrado nos resultados.');\r\n        return;\r\n      }\r\n\r\n      // Obter o ID do critrio para reanlise\r\n      const criteriaId = existingResult.criteriaId || existingResult.id;\r\n      const criteriaKey = existingResult.criterionKey || `criteria_${criteriaId}`;\r\n\r\n      if (!criteriaId) {\r\n        alert('No foi possvel identificar o ID do critrio para reanlise.');\r\n        return;\r\n      }\r\n\r\n      setLoading(true);\r\n\r\n      // Show simple progress bar at top of page\r\n      setShowProgress(true);\r\n      setProgress(0);\r\n      setActiveTab('results');\r\n\r\n      // Simple progress animation\r\n      const progressInterval = setInterval(() => {\r\n        setProgress(prev => {\r\n          if (prev < 90) {\r\n            return Math.min(prev + Math.random() * 15, 90);\r\n          }\r\n          return prev;\r\n        });\r\n      }, 300);\r\n\r\n      // Obter file paths para anlise\r\n      const filePaths = await getAnalysisFilePaths();\r\n\r\n      if (filePaths.length === 0) {\r\n        // Limpar estado de progresso antes de retornar\r\n        clearInterval(progressInterval);\r\n        setShowProgress(false);\r\n        setProgress(0);\r\n        setActiveTab('criteria');\r\n        setLoading(false);\r\n        alert('Nenhum arquivo encontrado para anlise. Por favor, faa upload dos arquivos primeiro.');\r\n        return;\r\n      }\r\n\r\n      // Create analysis request para reanlise do critrio especfico\r\n      const request: AnalysisRequest = {\r\n        criteria_ids: [criteriaKey],\r\n        file_paths: filePaths,\r\n        analysis_name: `Reanlise do Critrio: ${criterion}`,\r\n        temperature: 0.7,\r\n        max_tokens: 4000\r\n      };\r\n\r\n      // Call the API endpoint\r\n      const response: AnalysisResponse = await analysisService.analyzeSelectedCriteria(request);\r\n\r\n      // Clear progress interval\r\n      clearInterval(progressInterval);\r\n      setProgress(100);\r\n\r\n      // Process the single result\r\n      const newResultEntry = Object.entries(response.criteria_results)[0];\r\n      if (!newResultEntry) {\r\n        throw new Error('Nenhum resultado retornado da reanlise');\r\n      }\r\n\r\n      const [key, result] = newResultEntry;\r\n      const content = result.content;\r\n\r\n      // Extract confidence from content\r\n      let confidence = 0.8;\r\n      const confidenceMatch = content.match(/(confiana|confidence)[^\\d]*(\\d+(?:\\.\\d+)?)/i);\r\n      if (confidenceMatch) {\r\n        const confidenceValue = parseFloat(confidenceMatch[2]);\r\n        confidence = confidenceValue > 1.0 ? Math.min(confidenceValue / 100, 1.0) : Math.min(confidenceValue, 1.0);\r\n      }\r\n\r\n      // Extract status from content using formato estruturado primeiro\r\n      let status: 'compliant' | 'partially_compliant' | 'non_compliant' = 'compliant';\r\n      const statusMatch = content.match(/\\*\\*Status:\\*\\*\\s*([^*\\n]+)/i);\r\n      if (statusMatch) {\r\n        const statusText = statusMatch[1].trim().toLowerCase();\r\n        console.log(`[DEBUG] Status extracted from structured format: \"${statusText}\"`);\r\n\r\n        // Check for \"no conforme\" first (most specific)\r\n        if (statusText === 'no conforme' || statusText === 'nao conforme' || statusText.startsWith('no conforme') || statusText.startsWith('nao conforme')) {\r\n          status = 'non_compliant';\r\n        } else if (statusText === 'parcialmente conforme' || statusText.startsWith('parcialmente conforme')) {\r\n          status = 'partially_compliant';\r\n        } else if (statusText === 'conforme' || statusText.startsWith('conforme')) {\r\n          status = 'compliant';\r\n        } else {\r\n          // Fallback: check for contains (less precise)\r\n          if (statusText.includes('no conforme') || statusText.includes('nao conforme')) {\r\n            status = 'non_compliant';\r\n          } else if (statusText.includes('parcialmente conforme')) {\r\n            status = 'partially_compliant';\r\n          } else if (statusText.includes('conforme') && !statusText.includes('no') && !statusText.includes('nao')) {\r\n            status = 'compliant';\r\n          }\r\n        }\r\n        console.log(`[DEBUG] Status mapped to: ${status}`);\r\n      } else {\r\n        // Fallback para busca por palavra-chave se formato estruturado no for encontrado\r\n        console.log(`[DEBUG] No structured status found, using content search`);\r\n        if (content.toLowerCase().includes('no atende') ||\r\n            content.toLowerCase().includes('no cumpre') ||\r\n            content.toLowerCase().includes('viol') ||\r\n            content.toLowerCase().includes('defeito') ||\r\n            content.toLowerCase().includes('problema')) {\r\n          status = 'non_compliant';\r\n        } else if (content.toLowerCase().includes('parcialmente') ||\r\n                   content.toLowerCase().includes('atende parcialmente') ||\r\n                   content.toLowerCase().includes('precisa melhorar') ||\r\n                   content.toLowerCase().includes('recomenda')) {\r\n          status = 'partially_compliant';\r\n        }\r\n        console.log(`[DEBUG] Fallback status mapped to: ${status}`);\r\n      }\r\n\r\n      // Create the new result object\r\n      const updatedResult: CriteriaResult = {\r\n        id: criteriaId,\r\n        criterion: criterion, // Usar o ttulo original do critrio em vez do LLM response.name\r\n        assessment: content,\r\n        status: status,\r\n        confidence: Math.max(0, Math.min(1, confidence)),\r\n        evidence: [],\r\n        recommendations: [],\r\n        resultId: existingResult.resultId, // Manter o mesmo ID do banco de dados\r\n        criterionKey: criteriaKey,\r\n        criteriaId: criteriaId\r\n      };\r\n\r\n      // Hide progress immediately after successful completion\r\n      setShowProgress(false);\r\n      setProgress(0);\r\n\r\n      // Update results: replace only the reanalyzed criterion\r\n      setResults(prevResults => {\r\n        return prevResults.map(existingResult => {\r\n          // Match by criteriaId or by criterion name\r\n          if ((existingResult.criteriaId && existingResult.criteriaId === criteriaId) ||\r\n              (existingResult.criterion === criterion) ||\r\n              (existingResult.criterion.includes(criterion)) ||\r\n              (criterion.includes(existingResult.criterion))) {\r\n\r\n            console.log(` REANLISE - Atualizando resultado para critrio: ${criterion}`);\r\n            console.log(`   Antigo: \"${existingResult.assessment.substring(0, 50)}...\"`);\r\n            console.log(`   Novo:  \"${content.substring(0, 50)}...\"`);\r\n\r\n            // Return updated result\r\n            return {\r\n              ...existingResult,\r\n              assessment: content,\r\n              status: status,\r\n              confidence: Math.max(0, Math.min(1, confidence)),\r\n              criterionKey: criteriaKey\r\n            };\r\n          }\r\n\r\n          // Keep other results unchanged\r\n          return existingResult;\r\n        });\r\n      });\r\n\r\n      console.log(` Reanlise concluda com sucesso para: ${criterion}`);\r\n\r\n    } catch (error) {\r\n      console.error('Erro na reanlise do critrio:', error);\r\n      alert('Erro ao reanalisar o critrio. Por favor, tente novamente.');\r\n      setShowProgress(false);\r\n      setProgress(0);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteResults = async (selectedIds: number[]) => {\r\n    if (selectedIds.length === 0) return;\r\n\r\n    // Mapear os IDs de seleo para os resultados correspondentes\r\n    const selectedResults = results.filter(result => result.id !== undefined && selectedIds.includes(result.id));\r\n\r\n    // Separar resultados que esto no banco (tm resultId) dos que so novos (s na tela)\r\n    const databaseResults = selectedResults.filter(result => result.resultId);\r\n    const newResults = selectedResults.filter(result => !result.resultId);\r\n\r\n    // Extrair os IDs nicos dos resultados do banco de dados\r\n    const uniqueDatabaseResultIds = [...new Set(databaseResults.map(result => result.resultId).filter(Boolean))];\r\n\r\n    if (uniqueDatabaseResultIds.length === 0 && newResults.length === 0) {\r\n      alert('No foi possvel identificar os resultados para excluso.');\r\n      return;\r\n    }\r\n\r\n    let message = `Tem certeza que deseja excluir `;\r\n    if (uniqueDatabaseResultIds.length > 0) {\r\n      message += `${uniqueDatabaseResultIds.length} conjunto(s) de anlise do banco de dados`;\r\n    }\r\n    if (newResults.length > 0) {\r\n      if (uniqueDatabaseResultIds.length > 0) message += ' e ';\r\n      message += `${newResults.length} resultado(s) novos`;\r\n    }\r\n    message += '? Esta ao no pode ser desfeita.';\r\n\r\n    const confirmDelete = confirm(message);\r\n\r\n    if (!confirmDelete) return;\r\n\r\n    try {\r\n      // Excluir resultados do banco de dados\r\n      if (uniqueDatabaseResultIds.length > 0) {\r\n        if (uniqueDatabaseResultIds.length === 1) {\r\n          await analysisService.deleteAnalysisResult(uniqueDatabaseResultIds[0]);\r\n        } else {\r\n          await analysisService.deleteMultipleAnalysisResults(uniqueDatabaseResultIds);\r\n        }\r\n      }\r\n\r\n      // Remover todos os resultados selecionados da lista local\r\n      setResults(prev => prev.filter(result => result.id === undefined || !selectedIds.includes(result.id)));\r\n\r\n      // Marcar que os resultados foram limpos manualmente para evitar recarregamento automtico\r\n      setResultsManuallyCleared(true);\r\n\r\n      let successMessage = '';\r\n      if (uniqueDatabaseResultIds.length > 0) {\r\n        successMessage += `${uniqueDatabaseResultIds.length} conjunto(s) de anlise do banco excludo(s)`;\r\n      }\r\n      if (newResults.length > 0) {\r\n        if (uniqueDatabaseResultIds.length > 0) successMessage += ' e ';\r\n        successMessage += `${newResults.length} resultado(s) novos removido(s)`;\r\n      }\r\n      successMessage += ' com sucesso!';\r\n\r\n      alert(successMessage);\r\n    } catch (error) {\r\n      console.error('Erro ao excluir resultados:', error);\r\n      alert(`Erro ao excluir resultados: ${error instanceof Error ? error.message : 'Erro desconhecido'}`);\r\n    }\r\n  };\r\n\r\n  const handleAnalyzeCriterion = async (criterionObj: Criterion) => {\r\n    try {\r\n      console.log(' DEBUG handleAnalyzeCriterion:');\r\n      console.log('  - criterionObj recebido:', criterionObj);\r\n\r\n      const criteriaKey = `criteria_${criterionObj.id}`;\r\n      console.log('  - criteriaKey gerado:', criteriaKey);\r\n\r\n      setLoading(true);\r\n\r\n      // Excluir todos os resultados anteriores antes de iniciar nova anlise\r\n      try {\r\n        console.log(' Excluindo todos os resultados anteriores antes da nova anlise...');\r\n        await analysisService.deleteAllAnalysisResults();\r\n        console.log(' Todos os resultados anteriores excludos com sucesso');\r\n      } catch (deleteError) {\r\n        console.warn(' Erro ao excluir resultados anteriores, continuando com anlise:', deleteError);\r\n      }\r\n\r\n      // Limpar resultados anteriores para evitar misturar com nova anlise\r\n      setResults([]);\r\n      // Resetar a flag de excluso manual pois estamos iniciando uma nova anlise\r\n      setResultsManuallyCleared(false);\r\n\r\n      // Show simple progress bar at top of page\r\n      setShowProgress(true);\r\n      setProgress(0);\r\n      setActiveTab('results');\r\n\r\n      // Simple progress animation\r\n      const progressInterval = setInterval(() => {\r\n        setProgress(prev => {\r\n          if (prev < 90) {\r\n            return Math.min(prev + Math.random() * 15, 90);\r\n          }\r\n          return prev;\r\n        });\r\n      }, 300);\r\n\r\n      // Obter file paths para anlise\r\n      const filePaths = await getAnalysisFilePaths();\r\n\r\n      if (filePaths.length === 0) {\r\n        // Limpar estado de progresso antes de retornar\r\n        clearInterval(progressInterval);\r\n        setShowProgress(false);\r\n        setProgress(0);\r\n        setActiveTab('criteria');\r\n        setLoading(false);\r\n        alert('Nenhum arquivo encontrado para anlise. Por favor, faa upload dos arquivos primeiro.');\r\n        return;\r\n      }\r\n\r\n      // Create analysis request para anlise do critrio especfico\r\n      const request: AnalysisRequest = {\r\n        criteria_ids: [criteriaKey],\r\n        file_paths: filePaths,\r\n        analysis_name: `Anlise do Critrio: ${criterionObj.text}`,\r\n        temperature: 0.7,\r\n        max_tokens: 4000\r\n      };\r\n\r\n      // Call the API endpoint\r\n      const response: AnalysisResponse = await analysisService.analyzeSelectedCriteria(request);\r\n\r\n      // Clear progress interval\r\n      clearInterval(progressInterval);\r\n      setProgress(100);\r\n\r\n      // Process the single result\r\n      const newResultEntry = Object.entries(response.criteria_results)[0];\r\n      if (!newResultEntry) {\r\n        throw new Error('Nenhum resultado retornado da anlise');\r\n      }\r\n\r\n      const [key, result] = newResultEntry;\r\n      const content = result.content;\r\n\r\n      // Extract confidence from content\r\n      let confidence = 0.8;\r\n      const confidenceMatch = content.match(/(confiana|confidence)[^\\d]*(\\d+(?:\\.\\d+)?)/i);\r\n      if (confidenceMatch) {\r\n        const confidenceValue = parseFloat(confidenceMatch[2]);\r\n        confidence = confidenceValue > 1.0 ? Math.min(confidenceValue / 100, 1.0) : Math.min(confidenceValue, 1.0);\r\n      }\r\n\r\n      // Extract status from content using formato estruturado primeiro\r\n      let status: 'compliant' | 'partially_compliant' | 'non_compliant' = 'compliant';\r\n      const statusMatch = content.match(/\\*\\*Status:\\*\\*\\s*([^*\\n]+)/i);\r\n      if (statusMatch) {\r\n        const statusText = statusMatch[1].trim().toLowerCase();\r\n        console.log(`[DEBUG] Status extracted from structured format: \"${statusText}\"`);\r\n\r\n        // Check for \"no conforme\" first (most specific)\r\n        if (statusText === 'no conforme' || statusText === 'nao conforme' || statusText.startsWith('no conforme') || statusText.startsWith('nao conforme')) {\r\n          status = 'non_compliant';\r\n        } else if (statusText === 'parcialmente conforme' || statusText.startsWith('parcialmente conforme')) {\r\n          status = 'partially_compliant';\r\n        } else if (statusText === 'conforme' || statusText.startsWith('conforme')) {\r\n          status = 'compliant';\r\n        } else {\r\n          // Fallback: check for contains (less precise)\r\n          if (statusText.includes('no conforme') || statusText.includes('nao conforme')) {\r\n            status = 'non_compliant';\r\n          } else if (statusText.includes('parcialmente conforme')) {\r\n            status = 'partially_compliant';\r\n          } else if (statusText.includes('conforme') && !statusText.includes('no') && !statusText.includes('nao')) {\r\n            status = 'compliant';\r\n          }\r\n        }\r\n        console.log(`[DEBUG] Status mapped to: ${status}`);\r\n      } else {\r\n        // Fallback para busca por palavra-chave se formato estruturado no for encontrado\r\n        console.log(`[DEBUG] No structured status found, using content search`);\r\n        if (content.toLowerCase().includes('no atende') ||\r\n            content.toLowerCase().includes('no cumpre') ||\r\n            content.toLowerCase().includes('viol') ||\r\n            content.toLowerCase().includes('defeito') ||\r\n            content.toLowerCase().includes('problema')) {\r\n          status = 'non_compliant';\r\n        } else if (content.toLowerCase().includes('parcialmente') ||\r\n                   content.toLowerCase().includes('atende parcialmente') ||\r\n                   content.toLowerCase().includes('precisa melhorar') ||\r\n                   content.toLowerCase().includes('recomenda')) {\r\n          status = 'partially_compliant';\r\n        }\r\n        console.log(`[DEBUG] Fallback status mapped to: ${status}`);\r\n      }\r\n\r\n      // Create the new result object - sempre usar o texto original do critrio\r\n      const newResult: CriteriaResult = {\r\n        id: criterionObj.id,\r\n        criterion: criterionObj.text, // Usar SEMPRE o texto original do critrio\r\n        assessment: content,\r\n        status: status,\r\n        confidence: Math.max(0, Math.min(1, confidence)),\r\n        evidence: [],\r\n        recommendations: [],\r\n        resultId: response.db_result_id, // Usar o ID do resultado salvo no banco\r\n        criterionKey: criteriaKey,\r\n        criteriaId: criterionObj.id\r\n      };\r\n\r\n      console.log(' DEBUG handleAnalyzeCriterion - criao do resultado:');\r\n      console.log('  - criterionObj.text (original):', criterionObj.text);\r\n      console.log('  - result.name (LLM):', result.name);\r\n      console.log('  - newResult.criterion (usado):', newResult.criterion);\r\n      console.log('  - result.name do backend:', result.name);\r\n\r\n      // IMPORTANTE: Usar o nome enviado pelo backend se estiver disponvel e for diferente do ID\r\n      if (result.name && result.name !== key) {\r\n        newResult.criterion = result.name;\r\n        console.log('  - Usando nome do backend:', newResult.criterion);\r\n      }\r\n\r\n      // Hide progress immediately after successful completion\r\n      setShowProgress(false);\r\n      setProgress(0);\r\n\r\n      // Update results: check if criterion already exists and update, or add new\r\n      setResults(prevResults => {\r\n        const existingIndex = prevResults.findIndex(r =>\r\n          (r.criteriaId && r.criteriaId === criterionObj.id) ||\r\n          (r.criterion === criterionObj.text) ||\r\n          (r.criterion.includes(criterionObj.text)) ||\r\n          (criterionObj.text.includes(r.criterion))\r\n        );\r\n\r\n        if (existingIndex >= 0) {\r\n          console.log(` ANLISE INDIVIDUAL - Atualizando resultado existente para: ${criterionObj.text}`);\r\n          const updatedResults = [...prevResults];\r\n          updatedResults[existingIndex] = {\r\n            ...prevResults[existingIndex],\r\n            assessment: content,\r\n            status: status,\r\n            confidence: Math.max(0, Math.min(1, confidence)),\r\n            criterionKey: criteriaKey\r\n          };\r\n          return updatedResults;\r\n        } else {\r\n          console.log(` ANLISE INDIVIDUAL - Adicionando novo resultado para: ${criterionObj.text}`);\r\n          return [...prevResults, newResult];\r\n        }\r\n      });\r\n\r\n      console.log(` Anlise individual concluda com sucesso para: ${criterionObj.text}`);\r\n\r\n    } catch (error) {\r\n      console.error('Erro na anlise do critrio:', error);\r\n      alert('Erro ao analisar o critrio. Por favor, tente novamente.');\r\n      setShowProgress(false);\r\n      setProgress(0);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAnalyzeSelected = async (selectedCriteriaIds: string[]) => {\r\n    console.log(' DEBUG: GeneralAnalysisPage.handleAnalyzeSelected called');\r\n    console.log(' DEBUG: selectedCriteriaIds:', selectedCriteriaIds);\r\n    console.log(' DEBUG: results.length:', results.length);\r\n\r\n    // Removido check de uploadedFiles - no ser usado por enquanto\r\n\r\n    if (selectedCriteriaIds.length === 0) {\r\n      console.log(' DEBUG: No criteria selected, showing alert');\r\n      alert('Por favor, selecione pelo menos um critrio para anlise.');\r\n      return;\r\n    }\r\n\r\n    // Verificar se h resultados anteriores e mostrar confirmao\r\n    if (results.length > 0) {\r\n      console.log(' DEBUG: Previous results found, showing confirmation modal');\r\n      setPendingAnalysis(selectedCriteriaIds);\r\n      console.log(' DEBUG: Setting confirmModalOpen to true');\r\n      setConfirmModalOpen(true);\r\n      console.log(' DEBUG: confirmModalOpen state updated');\r\n      return;\r\n    }\r\n\r\n    // Se no h resultados anteriores, prosseguir diretamente\r\n    console.log(' DEBUG: No previous results, proceeding directly to analysis');\r\n    executeAnalysis(selectedCriteriaIds);\r\n  };\r\n\r\n  const executeAnalysis = async (selectedCriteriaIds: string[]) => {\r\n    try {\r\n      setLoading(true);\r\n      setSelectedCriteriaIds(selectedCriteriaIds);\r\n\r\n      // Excluir todos os resultados anteriores antes de iniciar nova anlise\r\n      try {\r\n        console.log(' Excluindo todos os resultados anteriores antes da nova anlise...');\r\n        await analysisService.deleteAllAnalysisResults();\r\n        console.log(' Todos os resultados anteriores excludos com sucesso');\r\n      } catch (deleteError) {\r\n        console.warn(' Erro ao excluir resultados anteriores, continuando com anlise:', deleteError);\r\n      }\r\n\r\n      // Limpar resultados anteriores para evitar misturar com nova anlise\r\n      setResults([]);\r\n      // Resetar a flag de excluso manual pois estamos iniciando uma nova anlise\r\n      setResultsManuallyCleared(false);\r\n\r\n      // Show simple progress bar at top of page\r\n      setShowProgress(true);\r\n      setProgress(0);\r\n      setActiveTab('results');\r\n\r\n      // Simple progress animation\r\n      const progressInterval = setInterval(() => {\r\n        setProgress(prev => {\r\n          if (prev < 90) {\r\n            return Math.min(prev + Math.random() * 15, 90);\r\n          }\r\n          return prev;\r\n        });\r\n      }, 300);\r\n\r\n      // Obter file paths para anlise\r\n      const filePaths = await getAnalysisFilePaths();\r\n\r\n      if (filePaths.length === 0) {\r\n        // Limpar estado de progresso antes de retornar\r\n        clearInterval(progressInterval);\r\n        setShowProgress(false);\r\n        setProgress(0);\r\n        setActiveTab('criteria');\r\n        setLoading(false);\r\n        alert('Nenhum arquivo encontrado para anlise. Por favor, faa upload dos arquivos primeiro.');\r\n        return;\r\n      }\r\n\r\n      // Create analysis request com os arquivos uploaded\r\n      const request: AnalysisRequest = {\r\n        criteria_ids: selectedCriteriaIds,\r\n        file_paths: filePaths,\r\n        analysis_name: 'Anlise de Critrios Selecionados',\r\n        temperature: 0.7,\r\n        max_tokens: 4000\r\n      };\r\n\r\n      // Call the new API endpoint\r\n      const response: AnalysisResponse = await analysisService.analyzeSelectedCriteria(request);\r\n\r\n      // Clear progress interval\r\n      clearInterval(progressInterval);\r\n      setProgress(100);\r\n\r\n      // Criar mapeamento direto dos critrios selecionados para seus IDs numricos\r\n      const selectedCriteriaMap = new Map<string, number>();\r\n      selectedCriteriaIds.forEach(criteriaId => {\r\n        // Converter \"criteria_64\" para o ID numrico 64\r\n        const numericId = parseInt(criteriaId.replace('criteria_', ''));\r\n        selectedCriteriaMap.set(criteriaId, numericId);\r\n      });\r\n\r\n      // Carregar todos os critrios para obter os textos originais\r\n      const allCriteriaData = await criteriaService.getCriteria();\r\n\r\n      // Extract confidence from LLM response content\r\n      const newResults: CriteriaResult[] = Object.entries(response.criteria_results).map(([key, result]) => {\r\n        const content = result.content;\r\n\r\n        console.log(' FRONTEND: Processando resultado:', { key, result, name: result.name });\r\n\r\n        // Extract confidence from content (look for confidence value)\r\n        let confidence = 0.8;\r\n        const confidenceMatch = content.match(/(confiana|confidence)[^\\d]*(\\d+(?:\\.\\d+)?)/i);\r\n        if (confidenceMatch) {\r\n          const confidenceValue = parseFloat(confidenceMatch[2]);\r\n          // If confidence is already in 0.0-1.0 range, use it as is\r\n          // If confidence is in percentage (0-100), divide by 100\r\n          confidence = confidenceValue > 1.0 ? Math.min(confidenceValue / 100, 1.0) : Math.min(confidenceValue, 1.0);\r\n        }\r\n\r\n        // Extract status from content using formato estruturado primeiro\r\n        let status: 'compliant' | 'partially_compliant' | 'non_compliant' = 'compliant';\r\n        const statusMatch = content.match(/\\*\\*Status:\\*\\*\\s*([^*\\n]+)/i);\r\n        if (statusMatch) {\r\n          const statusText = statusMatch[1].trim().toLowerCase();\r\n          console.log(`[DEBUG] Status extracted from structured format: \"${statusText}\"`);\r\n\r\n          // Check for \"no conforme\" first (most specific)\r\n          if (statusText === 'no conforme' || statusText === 'nao conforme' || statusText.startsWith('no conforme') || statusText.startsWith('nao conforme')) {\r\n            status = 'non_compliant';\r\n          } else if (statusText === 'parcialmente conforme' || statusText.startsWith('parcialmente conforme')) {\r\n            status = 'partially_compliant';\r\n          } else if (statusText === 'conforme' || statusText.startsWith('conforme')) {\r\n            status = 'compliant';\r\n          } else {\r\n            // Fallback: check for contains (less precise)\r\n            if (statusText.includes('no conforme') || statusText.includes('nao conforme')) {\r\n              status = 'non_compliant';\r\n            } else if (statusText.includes('parcialmente conforme')) {\r\n              status = 'partially_compliant';\r\n            } else if (statusText.includes('conforme') && !statusText.includes('no') && !statusText.includes('nao')) {\r\n              status = 'compliant';\r\n            }\r\n          }\r\n          console.log(`[DEBUG] Status mapped to: ${status}`);\r\n        } else {\r\n          // Fallback para busca por palavra-chave se formato estruturado no for encontrado\r\n          console.log(`[DEBUG] No structured status found, using content search`);\r\n          if (content.toLowerCase().includes('no atende') ||\r\n              content.toLowerCase().includes('no cumpre') ||\r\n              content.toLowerCase().includes('viol') ||\r\n              content.toLowerCase().includes('defeito') ||\r\n              content.toLowerCase().includes('problema')) {\r\n            status = 'non_compliant';\r\n          } else if (content.toLowerCase().includes('parcialmente') ||\r\n                     content.toLowerCase().includes('atende parcialmente') ||\r\n                     content.toLowerCase().includes('precisa melhorar') ||\r\n                     content.toLowerCase().includes('recomenda')) {\r\n            status = 'partially_compliant';\r\n          }\r\n          console.log(`[DEBUG] Fallback status mapped to: ${status}`);\r\n        }\r\n\r\n        // Mapear a chave do resultado de volta para o critrio original selecionado\r\n        // A chave key aqui corresponde  posio no array de critrios selecionados\r\n        const keyIndex = parseInt(key.replace('criteria_', '')) - 1;\r\n        const originalCriteriaId = selectedCriteriaIds[keyIndex] || selectedCriteriaIds[0];\r\n        const criteriaId = selectedCriteriaMap.get(originalCriteriaId);\r\n\r\n        console.log(` MAPEAMENTO: key=${key}, keyIndex=${keyIndex}, originalCriteriaId=${originalCriteriaId}, criteriaId=${criteriaId}`);\r\n        console.log(` TODOS OS SELECTED:`, selectedCriteriaIds);\r\n        console.log(` MAPA COMPLETO:`, Array.from(selectedCriteriaMap.entries()));\r\n\r\n        // Encontrar o critrio correspondente para obter o texto original\r\n        let matchingCriterion = allCriteriaData.find(c => c.id === criteriaId);\r\n\r\n        // Se no encontrou por ID, tentar encontrar pelo criteriaKey\r\n        if (!matchingCriterion && originalCriteriaId) {\r\n          const numericId = parseInt(originalCriteriaId.replace('criteria_', ''));\r\n          matchingCriterion = allCriteriaData.find(c => c.id === numericId);\r\n        }\r\n\r\n        // SEMPRE usar o texto original do critrio do banco de dados\r\n        let criterionText = matchingCriterion ? matchingCriterion.text : `Critrio ${criteriaId || key}`;\r\n        if (!matchingCriterion && criteriaId) {\r\n          // Se temos o ID mas no encontramos o critrio, usar um nome mais descritivo\r\n          criterionText = `Critrio ID ${criteriaId}`;\r\n        }\r\n\r\n        console.log(` Mapeamento de critrio: key=${key}, criteriaId=${criteriaId}, matchingCriterion=${matchingCriterion ? 'SIM' : 'NO'}, textoFinal=\"${criterionText}\"`);\r\n        console.log(` result.name do backend: \"${result.name}\"`);\r\n\r\n        // IMPORTANTE: Usar o nome enviado pelo backend se estiver disponvel, pois j foi corrigido l\r\n        const finalCriterionText = result.name && result.name !== key ? result.name : criterionText;\r\n\r\n        console.log(` Texto final usado: \"${finalCriterionText}\"`);\r\n\r\n        return {\r\n          id: criteriaId || Date.now() + parseInt(key.replace(/\\D/g, '')), // Usar o ID numrico do critrio se disponvel\r\n          criterion: finalCriterionText, // Usar nome corrigido do backend ou fazer fallback para mapeamento\r\n          assessment: content,\r\n          status: status,\r\n          confidence: Math.max(0, Math.min(1, confidence)),\r\n          evidence: [],\r\n          recommendations: [],\r\n          resultId: response.db_result_id, // Usar o ID do resultado salvo no banco\r\n          criterionKey: originalCriteriaId, // Usar o ID original do critrio selecionado\r\n          criteriaId: criteriaId // Adicionar o ID numrico nico do critrio\r\n        };\r\n      });\r\n\r\n      // Hide progress immediately after successful completion\r\n      setShowProgress(false);\r\n      setProgress(0);\r\n\r\n      // Update results: replace only the criteria that were analyzed, keep existing ones\r\n      setResults(prevResults => {\r\n        console.log(` Processando ${prevResults.length} resultados existentes e ${newResults.length} novos resultados`);\r\n\r\n        // Log detalhado para depurao\r\n        console.log(' EXISTENTES DETALHADOS:');\r\n        prevResults.forEach((r, i) => console.log(`  ${i}: criteriaId=${r.criteriaId}, criterion=\"${r.criterion.substring(0, 40)}...\"`));\r\n\r\n        console.log(' NOVOS DETALHADOS:');\r\n        newResults.forEach((r, i) => console.log(`  ${i}: criteriaId=${r.criteriaId}, criterion=\"${r.criterion.substring(0, 40)}...\"`));\r\n\r\n        // Merge results: keep existing results for non-analyzed criteria, update analyzed ones\r\n        const mergedResults = prevResults.map(existingResult => {\r\n          // Check if this criterion was analyzed in the current run using numeric ID\r\n          const analyzedResult = newResults.find(newResult =>\r\n            newResult.criteriaId && existingResult.criteriaId &&\r\n            newResult.criteriaId === existingResult.criteriaId\r\n          );\r\n\r\n          if (analyzedResult) {\r\n            console.log(` ENCONTROU MATCH por ID - Atualizando resultado existente para critrio ID ${existingResult.criteriaId}`);\r\n            console.log(`   Existente: \"${existingResult.criterion.substring(0, 30)}...\"`);\r\n            console.log(`   Novo:      \"${analyzedResult.criterion.substring(0, 30)}...\"`);\r\n            // Update with new analysis result\r\n            return {\r\n              ...existingResult,\r\n              assessment: analyzedResult.assessment,\r\n              status: analyzedResult.status,\r\n              confidence: analyzedResult.confidence,\r\n              evidence: analyzedResult.evidence,\r\n              recommendations: analyzedResult.recommendations,\r\n              criterionKey: analyzedResult.criterionKey // Update the key as well\r\n            };\r\n          }\r\n\r\n          // Se no encontrou por ID, tentar correspondncia por texto do critrio (fallback)\r\n          if (!existingResult.criteriaId) {\r\n            const textMatch = newResults.find(newResult => {\r\n              const existingText = existingResult.criterion.toLowerCase().trim();\r\n              const newText = newResult.criterion.toLowerCase().trim();\r\n\r\n              // Tentar correspondncia exata primeiro\r\n              if (existingText === newText) return true;\r\n\r\n              // Tentar correspondncia por substring (se um contm o outro)\r\n              if (existingText.includes(newText) || newText.includes(existingText)) return true;\r\n\r\n              // Tentar correspondncia por palavras-chave (remover sufixos como \":\", \"Princpios\", etc.)\r\n              const existingKey = existingText.split(':')[0].replace(/princpios?/i, '').trim();\r\n              const newKey = newText.split(':')[0].replace(/princpios?/i, '').trim();\r\n\r\n              return existingKey === newKey || existingKey.includes(newKey) || newKey.includes(existingKey);\r\n            });\r\n\r\n            if (textMatch) {\r\n              console.log(` ENCONTROU MATCH por texto - Atualizando resultado sem ID`);\r\n              console.log(`   Existente: \"${existingResult.criterion.substring(0, 30)}...\"`);\r\n              console.log(`   Novo:      \"${textMatch.criterion.substring(0, 30)}...\"`);\r\n              return {\r\n                ...existingResult,\r\n                assessment: textMatch.assessment,\r\n                status: textMatch.status,\r\n                confidence: textMatch.confidence,\r\n                evidence: textMatch.evidence,\r\n                recommendations: textMatch.recommendations,\r\n                criterionKey: textMatch.criterionKey\r\n              };\r\n            }\r\n          }\r\n\r\n          // Keep existing result if not analyzed in this run\r\n          return existingResult;\r\n        });\r\n\r\n        // Add any new criteria that weren't in the previous results\r\n        // Usar correspondncia mais inteligente para evitar duplicaes\r\n        const newCriteriaResults = newResults.filter(newResult => {\r\n          // Se tem criteriaId, verificar se j existe nos resultados mesclados\r\n          if (newResult.criteriaId) {\r\n            const alreadyExists = mergedResults.some(existing =>\r\n              existing.criteriaId && existing.criteriaId === newResult.criteriaId\r\n            );\r\n            if (alreadyExists) {\r\n              console.log(` Ignorando novo resultado com criteriaId ${newResult.criteriaId} - j existe nos mesclados`);\r\n              return false;\r\n            }\r\n          }\r\n\r\n          // Verificao adicional por texto para resultados sem criteriaId\r\n          const alreadyExistsByText = mergedResults.some(existing => {\r\n            if (existing.criteriaId === newResult.criteriaId) return true;\r\n\r\n            // Comparao flexvel de texto\r\n            const existingText = existing.criterion.toLowerCase().trim();\r\n            const newText = newResult.criterion.toLowerCase().trim();\r\n\r\n            return existingText === newText ||\r\n                   existingText.includes(newText) ||\r\n                   newText.includes(existingText);\r\n          });\r\n\r\n          if (alreadyExistsByText) {\r\n            console.log(` Ignorando novo resultado por correspondncia de texto - \"${newResult.criterion.substring(0, 30)}...\"`);\r\n            return false;\r\n          }\r\n\r\n          return true; // Pode adicionar este resultado\r\n        });\r\n\r\n        const existingCriteriaIds = new Set(prevResults.map(r => r.criteriaId).filter(Boolean));\r\n        console.log(` CRITRIOS EXISTENTES: ${Array.from(existingCriteriaIds)}`);\r\n        console.log(` NOVOS CRITRIOS SEM MATCH: ${newCriteriaResults.map(r => ({id: r.criteriaId, name: r.criterion.substring(0, 30)}))}`);\r\n        console.log(` Anlise concluda: ${mergedResults.length} atualizados, ${newCriteriaResults.length} novos critrios`);\r\n\r\n        return [...mergedResults, ...newCriteriaResults];\r\n      });\r\n\r\n      // Show success message\r\n      setTimeout(() => {\r\n        alert(`Anlise concluda com sucesso!\\n\\nModelo: ${response.model_used}\\nCritrios analisados: ${response.criteria_count}\\nTokens usados: ${response.usage.total_tokens || 'N/A'}`);\r\n      }, 500);\r\n\r\n    } catch (error) {\r\n      console.error('Erro na anlise:', error);\r\n      alert(`Erro ao realizar anlise: ${error instanceof Error ? error.message : 'Erro desconhecido'}`);\r\n\r\n      // Keep progress showing on error to indicate failure\r\n      setTimeout(() => {\r\n        setShowProgress(false);\r\n        setProgress(0);\r\n      }, 3000);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleConfirmAnalysis = () => {\r\n    setConfirmModalOpen(false);\r\n    if (pendingAnalysis) {\r\n      executeAnalysis(pendingAnalysis);\r\n      setPendingAnalysis(null);\r\n    }\r\n  };\r\n\r\n  const handleCancelModalAnalysis = () => {\r\n    setConfirmModalOpen(false);\r\n    setPendingAnalysis(null);\r\n  };\r\n\r\n  const [allCriteria, setAllCriteria] = useState<any[]>([]);\r\n  const [fullCriteriaText, setFullCriteriaText] = useState<Record<string, string>>({});\r\n\r\n  const getFullCriterionText = (criterionName: string) => {\r\n    // Tentar encontrar correspondncia exata primeiro\r\n    if (fullCriteriaText[criterionName]) {\r\n      return fullCriteriaText[criterionName];\r\n    }\r\n\r\n    // Tentar encontrar por substring\r\n    const matchingCriterion = allCriteria.find(criterion =>\r\n      criterion.text.includes(criterionName) || criterionName.includes(criterion.text.split(':')[0])\r\n    );\r\n\r\n    return matchingCriterion ? matchingCriterion.text : criterionName;\r\n  };\r\n\r\n  const loadAllCriteria = async () => {\r\n    try {\r\n      const criteria = await criteriaService.getCriteria();\r\n      setAllCriteria(criteria);\r\n\r\n      // Criar mapeamento de texto completo\r\n      const textMapping: Record<string, string> = {};\r\n      criteria.forEach(criterion => {\r\n        textMapping[criterion.text] = criterion.text;\r\n      });\r\n      setFullCriteriaText(textMapping);\r\n    } catch (error) {\r\n      console.error('Erro ao carregar critrios:', error);\r\n    }\r\n  };\r\n\r\n  \r\n  useEffect(() => {\r\n    loadAllCriteria();\r\n  }, []);\r\n\r\n  const generateReportContent = () => {\r\n    const currentDate = new Date().toLocaleDateString('pt-BR');\r\n    const currentTime = new Date().toLocaleTimeString('pt-BR');\r\n\r\n    let content = `\r\n      <html xmlns:o='urn:schemas-microsoft-com:office:office'\r\n            xmlns:w='urn:schemas-microsoft-com:office:word'\r\n            xmlns='http://www.w3.org/TR/REC-html40'>\r\n      <head>\r\n        <meta charset='utf-8'>\r\n        <title>Relatrio de Anlise de Cdigo</title>\r\n        <style>\r\n          @page Section1 {\r\n            size: 21.0cm 29.7cm;\r\n            margin: 1.2cm 1.5cm 1.2cm 1.5cm;\r\n            mso-header-margin: 1cm;\r\n            mso-footer-margin: 1cm;\r\n            mso-paper-source: 0;\r\n          }\r\n          div.Section1 { page: Section1; }\r\n          body {\r\n            font-family: 'Calibri', 'Arial', sans-serif;\r\n            font-size: 11pt;\r\n            line-height: 1.4;\r\n            margin: 0;\r\n            padding: 0;\r\n          }\r\n          h1 {\r\n            font-size: 16pt;\r\n            color: #2C5282;\r\n            text-align: center;\r\n            border-bottom: 2pt solid #2C5282;\r\n            padding-bottom: 8pt;\r\n            margin: 0 0 15pt 0;\r\n          }\r\n          h2 {\r\n            font-size: 14pt;\r\n            color: #2C5282;\r\n            margin: 15pt 0 8pt 0;\r\n          }\r\n          h3 {\r\n            font-size: 12pt;\r\n            color: #2C5282;\r\n            border-left: 3pt solid #2C5282;\r\n            padding-left: 6pt;\r\n            margin: 12pt 0 6pt 0;\r\n          }\r\n          h4 {\r\n            font-size: 11pt;\r\n            color: #2C5282;\r\n            margin: 8pt 0 4pt 0;\r\n          }\r\n          .header {\r\n            text-align: center;\r\n            margin-bottom: 20pt;\r\n          }\r\n          .summary {\r\n            background-color: #F7FAFC;\r\n            padding: 10pt;\r\n            border: 1pt solid #E2E8F0;\r\n            margin-bottom: 15pt;\r\n          }\r\n          .result-item {\r\n            margin-bottom: 15pt;\r\n            page-break-inside: avoid;\r\n          }\r\n          .status-conforme { color: #38A169; font-weight: bold; }\r\n          .status-parcial { color: #D69E2E; font-weight: bold; }\r\n          .status-nao-conforme { color: #E53E3E; font-weight: bold; }\r\n          .confidence { font-style: italic; color: #718096; }\r\n          .recommendations { margin-top: 8pt; }\r\n          .recommendations ul { margin: 4pt 0; padding-left: 18pt; }\r\n          .evidence {\r\n            background-color: #F7FAFC;\r\n            padding: 8pt;\r\n            border: 1pt solid #E2E8F0;\r\n            margin: 8pt 0;\r\n            font-family: 'Courier New', monospace;\r\n            font-size: 10pt;\r\n          }\r\n          .footer {\r\n            text-align: center;\r\n            margin-top: 20pt;\r\n            font-size: 10pt;\r\n            color: #718096;\r\n            border-top: 1pt solid #E2E8F0;\r\n            padding-top: 8pt;\r\n          }\r\n          p { margin: 4pt 0; }\r\n          div { margin: 0; }\r\n        </style>\r\n      </head>\r\n      <body>\r\n        <div class=\"Section1\">\r\n          <div class=\"header\">\r\n            <h1>Relatrio de Anlise de Cdigo</h1>\r\n            <h2>AVALIA Code Quality System</h2>\r\n            <p>Gerado em: ${currentDate} s ${currentTime}</p>\r\n          </div>\r\n\r\n          <div class=\"summary\">\r\n            <h3>Resumo da Anlise</h3>\r\n            <p><strong>Total de critrios analisados:</strong> ${results.length}</p>\r\n            <p><strong>Critrios conformes:</strong> ${results.filter(r => r.status === 'compliant').length}</p>\r\n            <p><strong>Critrios parcialmente conformes:</strong> ${results.filter(r => r.status === 'partially_compliant').length}</p>\r\n            <p><strong>Critrios no conformes:</strong> ${results.filter(r => r.status === 'non_compliant').length}</p>\r\n            <p><strong>Confiana mdia:</strong> ${Math.round(results.reduce((acc, r) => acc + r.confidence, 0) / results.length * 100)}%</p>\r\n          </div>`;\r\n\r\n    // Add results\r\n    results.forEach((result, index) => {\r\n      const statusClass = result.status === 'compliant' ? 'status-conforme' :\r\n                         result.status === 'partially_compliant' ? 'status-parcial' : 'status-nao-conforme';\r\n      const statusText = result.status === 'compliant' ? 'Conforme' :\r\n                        result.status === 'partially_compliant' ? 'Parcialmente Conforme' : 'No Conforme';\r\n\r\n      content += `\r\n        <div class=\"result-item\">\r\n          <h3>${index + 1}. ${result.criterion}</h3>\r\n          <p><strong>Status:</strong> <span class=\"${statusClass}\">${statusText}</span></p>\r\n          <p><strong>Confiana:</strong> <span class=\"confidence\">${Math.round(result.confidence * 100)}%</span></p>\r\n\r\n          <div>\r\n            <h4>Avaliao</h4>\r\n            <div style=\"margin: 0;\">${(() => {\r\n              let processedText = result.assessment;\r\n              // Handle code blocks\r\n              processedText = processedText.replace(/`([^`]+)`/g, '<code style=\"background-color: #e9ecef; padding: 2px 4px; border-radius: 3px; font-family: monospace;\">$1</code>');\r\n              // Handle bold text\r\n              processedText = processedText.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>');\r\n              // Convert line breaks to <br> tags\r\n              processedText = processedText.replace(/\\n/g, '<br>');\r\n              return processedText;\r\n            })()}</div>\r\n          </div>`;\r\n\r\n      if (result.recommendations && result.recommendations.length > 0) {\r\n        content += `\r\n          <div class=\"recommendations\">\r\n            <h4>Recomendaes</h4>\r\n            <ul>\r\n              ${result.recommendations.map(rec => `<li>${rec}</li>`).join('')}\r\n            </ul>\r\n          </div>`;\r\n      }\r\n\r\n      if (result.evidence && result.evidence.length > 0) {\r\n        content += `\r\n          <div>\r\n            <h4>Evidncias de Cdigo</h4>\r\n            ${result.evidence.map(ev => `\r\n              <div class=\"evidence\">\r\n                <p><strong>Arquivo:</strong> ${ev.filePath}</p>\r\n                <p><strong>Linguagem:</strong> ${ev.language}</p>\r\n                <pre>${ev.code}</pre>\r\n              </div>\r\n            `).join('')}\r\n          </div>`;\r\n      }\r\n\r\n      content += '</div>';\r\n    });\r\n\r\n    content += `\r\n          <div class=\"footer\">\r\n            <p>Relatrio gerado automaticamente pelo AVALIA Code Quality System</p>\r\n            <p>Este relatrio  confidencial e deve ser tratado de acordo com as polticas da organizao.</p>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>`;\r\n\r\n    return content;\r\n  };\r\n\r\n  const handleDownloadDocx = () => {\r\n    if (results.length === 0) {\r\n      alert('Nenhum resultado para gerar relatrio.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const content = generateReportContent();\r\n      const blob = new Blob(['\\ufeff', content], {\r\n        type: 'application/msword'\r\n      });\r\n\r\n      const currentDate = new Date().toLocaleDateString('pt-BR').replace(/\\//g, '-');\r\n      const fileName = `relatorio-analise-codigo-${currentDate}.doc`;\r\n\r\n      const link = document.createElement('a');\r\n      link.href = URL.createObjectURL(blob);\r\n      link.download = fileName;\r\n      link.click();\r\n\r\n      URL.revokeObjectURL(link.href);\r\n    } catch (error) {\r\n      console.error('Erro ao gerar DOCX:', error);\r\n      alert('Erro ao gerar o relatrio DOCX. Por favor, tente novamente.');\r\n    }\r\n  };\r\n\r\n  \r\n  return (\r\n    <div className=\"general-analysis-page\">\r\n      {/* Enhanced Progress Bar */}\r\n      {showProgress && (\r\n        <div className=\"progress-overlay\" style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          backgroundColor: 'rgba(0, 0, 0, 0.3)',\r\n          zIndex: 9998,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center'\r\n        }}>\r\n          <div className=\"progress-card\" style={{\r\n            backgroundColor: 'white',\r\n            borderRadius: '8px',\r\n            padding: '24px',\r\n            minWidth: '400px',\r\n            maxWidth: '500px',\r\n            boxShadow: '0 4px 24px rgba(0, 0, 0, 0.15)',\r\n            zIndex: 9999\r\n          }}>\r\n            <div className=\"progress-header\" style={{\r\n              textAlign: 'center',\r\n              marginBottom: '20px'\r\n            }}>\r\n              <h3 className=\"text-h3\" style={{\r\n                margin: '0 0 8px 0',\r\n                color: '#1351b4'\r\n              }}>\r\n                Analisando Critrios\r\n              </h3>\r\n              <p className=\"text-regular text-muted\" style={{\r\n                margin: 0,\r\n                fontSize: '14px'\r\n              }}>\r\n                Processando anlise com inteligncia artificial...\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"progress-bar-container\" style={{\r\n              width: '100%',\r\n              height: '8px',\r\n              backgroundColor: '#e9ecef',\r\n              borderRadius: '4px',\r\n              overflow: 'hidden',\r\n              marginBottom: '16px'\r\n            }}>\r\n              <div\r\n                className=\"progress-bar-fill\"\r\n                style={{\r\n                  height: '100%',\r\n                  backgroundColor: '#1351b4',\r\n                  width: `${progress}%`,\r\n                  transition: 'width 0.3s ease',\r\n                  borderRadius: '4px'\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"progress-text\" style={{\r\n              textAlign: 'center',\r\n              fontSize: '14px',\r\n              color: '#6c757d',\r\n              fontWeight: 500\r\n            }}>\r\n              {Math.round(progress)}% concludo\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Page Header */}\r\n      <div className=\"general-analysis-header\">\r\n        <div className=\"br-card\">\r\n          <div className=\"card-header\">\r\n            <div className=\"row align-items-center\">\r\n              <div className=\"br-col\">\r\n                <h1 className=\"text-h1\">Anlise de Critrios Gerais</h1>\r\n                <p className=\"text-regular\">\r\n                  Configure seus critrios de avaliao, faa upload dos arquivos e execute anlises de cdigo baseadas em padres de qualidade gerais\r\n                </p>\r\n              </div>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"br-tabs\" data-tabs=\"analysis-tabs\">\r\n        <nav className=\"tab-navigation\" role=\"tablist\">\r\n          {[\r\n            { id: 'criteria', name: 'Critrios', icon: Settings },\r\n            { id: 'results', name: 'Resultados', icon: FileText },\r\n            { id: 'prompt', name: 'ltimo Prompt Enviado', icon: Eye },\r\n            { id: 'response', name: 'ltima Resposta da LLM', icon: FileText }\r\n          ].map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              className={`tab-item ${activeTab === tab.id ? 'is-active' : ''}`}\r\n              role=\"tab\"\r\n              aria-selected={activeTab === tab.id}\r\n              aria-controls={`tab-${tab.id}`}\r\n              onClick={() => setActiveTab(tab.id as any)}\r\n            >\r\n              <tab.icon className=\"w-4 h-4 mr-2\" />\r\n              {tab.name}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n  \r\n      {/* Tab Content */}\r\n      <div className=\"br-container\">\r\n        {activeTab === 'criteria' && (\r\n          <CriteriaList\r\n            onCriteriaSelect={(selected) => console.log('Selected criteria:', selected)}\r\n            onAnalyzeCriterion={handleAnalyzeCriterion}\r\n            onAnalyzeSelected={(selected) => handleAnalyzeSelected(selected)}\r\n            onCriteriaChange={refreshResults}\r\n          />\r\n        )}\r\n\r\n        {activeTab === 'results' && (\r\n          <ResultsTable\r\n            results={results}\r\n            onDownloadDocx={handleDownloadDocx}\r\n            onDeleteResults={handleDeleteResults}\r\n          />\r\n        )}\r\n\r\n        {activeTab === 'prompt' && (\r\n          <LatestPromptViewer />\r\n        )}\r\n\r\n        {activeTab === 'response' && (\r\n          <LatestResponseViewer />\r\n        )}\r\n\r\n        {/* Analysis Progress - shown in both tabs */}\r\n        {currentAnalysis && (\r\n          <div className=\"br-card mt-4\">\r\n            <div className=\"card-header\">\r\n              <h2 className=\"text-h2\">Executar Anlise</h2>\r\n              <p className=\"text-regular text-muted\">\r\n                Inicie a anlise de cdigo com base nos critrios configurados\r\n              </p>\r\n            </div>\r\n            <div className=\"card-content\">\r\n              <ProgressTracker\r\n                progress={currentAnalysis.progress}\r\n                status={currentAnalysis.status}\r\n                message=\"Analisando cdigo com base nos critrios configurados...\"\r\n                onCancel={handleCancelAnalysis}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modal de Confirmao de Nova Anlise - Padro DSGov Funcional */}\r\n      {confirmModalOpen && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: '0',\r\n          left: '0',\r\n          right: '0',\r\n          bottom: '0',\r\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n          zIndex: '9999',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center'\r\n        }}>\r\n          <div style={{\r\n            backgroundColor: '#ffffff',\r\n            borderRadius: '4px',\r\n            boxShadow: '0 8px 25px rgba(0, 0, 0, 0.15)',\r\n            maxWidth: '500px',\r\n            width: '90%',\r\n            maxHeight: '80vh',\r\n            overflow: 'auto',\r\n            border: '1px solid #dee2e6'\r\n          }}>\r\n            {/* Header */}\r\n            <div style={{\r\n              backgroundColor: '#f8f9fa',\r\n              padding: '1rem',\r\n              borderBottom: '1px solid #dee2e6',\r\n              borderTopLeftRadius: '4px',\r\n              borderTopRightRadius: '4px',\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'center'\r\n            }}>\r\n              <h3 style={{\r\n                margin: '0',\r\n                fontSize: '1.25rem',\r\n                fontWeight: '600',\r\n                color: '#495057'\r\n              }}>\r\n                 Confirmar Nova Anlise\r\n              </h3>\r\n              <button\r\n                onClick={handleCancelModalAnalysis}\r\n                style={{\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  fontSize: '1.5rem',\r\n                  cursor: 'pointer',\r\n                  color: '#6c757d',\r\n                  padding: '0',\r\n                  width: '30px',\r\n                  height: '30px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center'\r\n                }}\r\n                aria-label=\"Fechar\"\r\n              >\r\n                \r\n              </button>\r\n            </div>\r\n\r\n            {/* Body */}\r\n            <div style={{ padding: '1.5rem' }}>\r\n              {/* Alerta de Aviso */}\r\n              <div style={{\r\n                backgroundColor: '#fff3cd',\r\n                border: '1px solid #ffeaa7',\r\n                borderRadius: '4px',\r\n                padding: '1rem',\r\n                marginBottom: '1rem',\r\n                borderLeft: '4px solid #f39c12'\r\n              }}>\r\n                <div style={{ display: 'flex', alignItems: 'flex-start' }}>\r\n                  <span style={{ fontSize: '1.2rem', marginRight: '0.75rem', color: '#f39c12' }}></span>\r\n                  <div>\r\n                    <h4 style={{\r\n                      margin: '0 0 0.5rem 0',\r\n                      color: '#856404',\r\n                      fontWeight: '600'\r\n                    }}>\r\n                      Ateno!\r\n                    </h4>\r\n                    <p style={{\r\n                      margin: '0',\r\n                      color: '#856404',\r\n                      lineHeight: '1.5'\r\n                    }}>\r\n                      Voc est prestes a iniciar uma nova anlise, e todos os resultados das anlises anteriores sero <strong>permanentemente perdidos</strong>.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Recomendao */}\r\n              <div style={{\r\n                backgroundColor: '#e3f2fd',\r\n                border: '1px solid #bbdefb',\r\n                borderRadius: '4px',\r\n                padding: '1rem',\r\n                marginBottom: '1rem'\r\n              }}>\r\n                <h4 style={{\r\n                  margin: '0 0 0.5rem 0',\r\n                  color: '#0d47a1',\r\n                  fontSize: '0.9rem',\r\n                  fontWeight: '600'\r\n                }}>\r\n                   Recomendao:\r\n                </h4>\r\n                <p style={{\r\n                  margin: '0',\r\n                  color: '#1565c0',\r\n                  fontSize: '0.875rem',\r\n                  lineHeight: '1.5'\r\n                }}>\r\n                  Antes de prosseguir, considere gerar um relatrio da anlise atual para salvar seus resultados.\r\n                  Voc pode exportar os resultados usando os botes de download disponveis na aba de resultados.\r\n                </p>\r\n              </div>\r\n\r\n              {/* Pergunta final */}\r\n              <div style={{\r\n                backgroundColor: '#f8f9fa',\r\n                border: '1px solid #e9ecef',\r\n                borderRadius: '4px',\r\n                padding: '1rem',\r\n                marginBottom: '1.5rem'\r\n              }}>\r\n                <p style={{\r\n                  margin: '0',\r\n                  color: '#495057',\r\n                  fontSize: '0.9rem',\r\n                  fontWeight: '500',\r\n                  textAlign: 'center'\r\n                }}>\r\n                  <strong>Deseja prosseguir com a nova anlise?</strong>\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div style={{\r\n              backgroundColor: '#f8f9fa',\r\n              padding: '1rem 1.5rem',\r\n              borderTop: '1px solid #dee2e6',\r\n              borderBottomLeftRadius: '4px',\r\n              borderBottomRightRadius: '4px',\r\n              display: 'flex',\r\n              justifyContent: 'flex-end',\r\n              gap: '0.5rem'\r\n            }}>\r\n              <button\r\n                onClick={handleCancelModalAnalysis}\r\n                style={{\r\n                  backgroundColor: '#6c757d',\r\n                  color: '#ffffff',\r\n                  border: 'none',\r\n                  padding: '0.5rem 1rem',\r\n                  borderRadius: '4px',\r\n                  cursor: 'pointer',\r\n                  fontSize: '0.875rem',\r\n                  fontWeight: '500',\r\n                  transition: 'background-color 0.2s'\r\n                }}\r\n                onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#5a6268'}\r\n                onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#6c757d'}\r\n              >\r\n                 Cancelar\r\n              </button>\r\n              <button\r\n                onClick={handleConfirmAnalysis}\r\n                style={{\r\n                  backgroundColor: '#0d47a1',\r\n                  color: '#ffffff',\r\n                  border: 'none',\r\n                  padding: '0.5rem 1rem',\r\n                  borderRadius: '4px',\r\n                  cursor: 'pointer',\r\n                  fontSize: '0.875rem',\r\n                  fontWeight: '500',\r\n                  transition: 'background-color 0.2s'\r\n                }}\r\n                onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#0a3570'}\r\n                onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#0d47a1'}\r\n              >\r\n                Prosseguir\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default GeneralAnalysisPage;","import React, { useState } from 'react';\r\nimport { Upload, Settings, BarChart3, FileText, AlertTriangle, CheckCircle, XCircle } from 'lucide-react';\r\nimport './ArchitecturalAnalysisPage.css';\r\n\r\ninterface ArchitecturalResult {\r\n  id: string;\r\n  title: string;\r\n  status: 'compliant' | 'warning' | 'non-compliant';\r\n  description: string;\r\n  details: string;\r\n  severity: 'low' | 'medium' | 'high';\r\n}\r\n\r\nconst ArchitecturalAnalysisPage: React.FC = () => {\r\n  const [activeTab, setActiveTab] = useState<'overview' | 'patterns' | 'violations'>('overview');\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const [results, setResults] = useState<ArchitecturalResult[]>([]);\r\n\r\n  const mockResults: ArchitecturalResult[] = [\r\n    {\r\n      id: '1',\r\n      title: 'Separao de Camadas',\r\n      status: 'compliant',\r\n      description: 'A separao entre camadas de apresentao, negcio e dados est adequada',\r\n      details: 'MVC: Controller  Service  Repository\\nClean Architecture: Entity  Use Case  Controller',\r\n      severity: 'low'\r\n    },\r\n    {\r\n      id: '2',\r\n      title: 'Injeo de Dependncias',\r\n      status: 'warning',\r\n      description: 'Detectada dependncia direta entre componentes que deveriam ser desacoplados',\r\n      details: 'Arquivo: src/controllers/UserController.ts\\nLinha 45: import { Database } from \\'../database\\'\\nSugesto: Usar interface abstrata',\r\n      severity: 'medium'\r\n    },\r\n    {\r\n      id: '3',\r\n      title: 'Padres de Projeto',\r\n      status: 'non-compliant',\r\n      description: 'Identificada violao do padro Singleton em classe de configurao',\r\n      details: 'Arquivo: src/config/Database.ts\\nLinha 12-25: Implementao direta sem gerenciamento adequado\\nRecomendao: Usar factory pattern',\r\n      severity: 'high'\r\n    }\r\n  ];\r\n\r\n  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = event.target.files;\r\n    if (files && files.length > 0) {\r\n      // Simular upload\r\n      console.log('Files uploaded:', files);\r\n    }\r\n  };\r\n\r\n  const startAnalysis = () => {\r\n    setIsAnalyzing(true);\r\n    // Simular anlise\r\n    setTimeout(() => {\r\n      setResults(mockResults);\r\n      setIsAnalyzing(false);\r\n    }, 3000);\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'compliant':\r\n        return <CheckCircle size={20} className=\"text-green-600\" />;\r\n      case 'warning':\r\n        return <AlertTriangle size={20} className=\"text-yellow-600\" />;\r\n      case 'non-compliant':\r\n        return <XCircle size={20} className=\"text-red-600\" />;\r\n      default:\r\n        return <FileText size={20} className=\"text-gray-600\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"architectural-analysis-page\">\r\n      {/* Header */}\r\n      <div className=\"architectural-analysis-header\">\r\n        <div className=\"br-card\">\r\n          <div className=\"card-header text-center\">\r\n            <h1 className=\"text-h1\">Anlise de Conformidade Arquitetural</h1>\r\n            <p className=\"text-regular\">\r\n              Avalie a conformidade do seu cdigo com os padres arquiteturais definidos,\r\n              identifique violaes e receba recomendaes para melhorar a estrutura do projeto\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"main-content\">\r\n        {/* Upload Section */}\r\n        <div className=\"upload-section\">\r\n          <div className=\"br-card\">\r\n            <div className=\"card-content\">\r\n              <div className=\"upload-area\">\r\n                <Upload size={64} className=\"upload-icon\" />\r\n                <h3 className=\"upload-title\">Upload dos Arquivos de Cdigo</h3>\r\n                <p className=\"upload-description\">\r\n                  Selecione os arquivos ou diretrios que deseja analisar quanto  conformidade arquitetural\r\n                </p>\r\n                <input\r\n                  type=\"file\"\r\n                  multiple\r\n                  accept=\".ts,.js,.py,.java,.cpp,.cs\"\r\n                  onChange={handleFileUpload}\r\n                  style={{ display: 'none' }}\r\n                  id=\"file-upload\"\r\n                />\r\n                <label htmlFor=\"file-upload\" className=\"upload-button\">\r\n                  Selecionar Arquivos\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Configuration Section */}\r\n        <div className=\"config-section\">\r\n          <div className=\"br-card\">\r\n            <div className=\"card-content\">\r\n              <h3>\r\n                <Settings size={20} style={{ marginRight: '8px' }} />\r\n                Configuraes da Anlise\r\n              </h3>\r\n\r\n              <div className=\"config-item\">\r\n                <label className=\"config-label\">Padro Arquitetural</label>\r\n                <select className=\"config-input\">\r\n                  <option>MVC (Model-View-Controller)</option>\r\n                  <option>Clean Architecture</option>\r\n                  <option>Hexagonal Architecture</option>\r\n                  <option>Layered Architecture</option>\r\n                  <option>Microservices</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"config-item\">\r\n                <label className=\"config-label\">Nvel de Rigidez</label>\r\n                <select className=\"config-input\">\r\n                  <option>Baixa (apenas violaes crticas)</option>\r\n                  <option>Mdia (violaes importantes)</option>\r\n                  <option>Alta (todas as violaes)</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"config-item\">\r\n                <label className=\"config-label\">Regras Customizadas</label>\r\n                <textarea\r\n                  className=\"config-input config-textarea\"\r\n                  placeholder=\"Defina regras especficas para seu projeto...\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Analysis Summary */}\r\n        <div className=\"analysis-section\">\r\n          <div className=\"br-card\">\r\n            <div className=\"card-content\">\r\n              <h3>\r\n                <BarChart3 size={20} style={{ marginRight: '8px' }} />\r\n                Resumo da Anlise\r\n              </h3>\r\n\r\n              <div className=\"analysis-item\">\r\n                <div className=\"analysis-item-title\">Padres Identificados</div>\r\n                <p className=\"analysis-item-description\">\r\n                  MVC, Singleton, Factory, Repository Pattern, Dependency Injection\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"analysis-item\">\r\n                <div className=\"analysis-item-title\">Componentes Analisados</div>\r\n                <p className=\"analysis-item-description\">\r\n                  15 controllers, 23 services, 8 repositories, 12 models\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"analysis-item\">\r\n                <div className=\"analysis-item-title\">Mtricas de Qualidade</div>\r\n                <p className=\"analysis-item-description\">\r\n                  Acoplamento: Baixo | Coeso: Alta | Complexidade: Moderada\r\n                </p>\r\n              </div>\r\n\r\n              <button\r\n                className=\"action-button primary\"\r\n                onClick={startAnalysis}\r\n                disabled={isAnalyzing}\r\n              >\r\n                {isAnalyzing ? 'Analisando...' : 'Iniciar Anlise'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Results Section */}\r\n      {results.length > 0 && (\r\n        <div className=\"results-section\">\r\n          <div className=\"br-card\">\r\n            <div className=\"card-content\">\r\n              <div className=\"results-tabs\">\r\n                <button\r\n                  className={`results-tab ${activeTab === 'overview' ? 'active' : ''}`}\r\n                  onClick={() => setActiveTab('overview')}\r\n                >\r\n                  Viso Geral\r\n                </button>\r\n                <button\r\n                  className={`results-tab ${activeTab === 'patterns' ? 'active' : ''}`}\r\n                  onClick={() => setActiveTab('patterns')}\r\n                >\r\n                  Padres\r\n                </button>\r\n                <button\r\n                  className={`results-tab ${activeTab === 'violations' ? 'active' : ''}`}\r\n                  onClick={() => setActiveTab('violations')}\r\n                >\r\n                  Violaes\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"results-content\">\r\n                {results.map((result) => (\r\n                  <div key={result.id} className=\"result-item\">\r\n                    <div className=\"result-header\">\r\n                      <div className=\"result-title\">\r\n                        {getStatusIcon(result.status)}\r\n                        <span style={{ marginLeft: '8px' }}>{result.title}</span>\r\n                      </div>\r\n                      <span className={`result-status ${result.status}`}>\r\n                        {result.status === 'compliant' ? 'Conforme' :\r\n                         result.status === 'warning' ? 'Ateno' : 'No Conforme'}\r\n                      </span>\r\n                    </div>\r\n                    <p className=\"result-description\">{result.description}</p>\r\n                    <div className=\"result-details\">{result.details}</div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              <div className=\"action-buttons\">\r\n                <button className=\"action-button primary\">\r\n                  Gerar Relatrio\r\n                </button>\r\n                <button className=\"action-button secondary\">\r\n                  Exportar Resultados\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArchitecturalAnalysisPage;","import validate from './validate.js';\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n    byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n    return (byteToHex[arr[offset + 0]] +\n        byteToHex[arr[offset + 1]] +\n        byteToHex[arr[offset + 2]] +\n        byteToHex[arr[offset + 3]] +\n        '-' +\n        byteToHex[arr[offset + 4]] +\n        byteToHex[arr[offset + 5]] +\n        '-' +\n        byteToHex[arr[offset + 6]] +\n        byteToHex[arr[offset + 7]] +\n        '-' +\n        byteToHex[arr[offset + 8]] +\n        byteToHex[arr[offset + 9]] +\n        '-' +\n        byteToHex[arr[offset + 10]] +\n        byteToHex[arr[offset + 11]] +\n        byteToHex[arr[offset + 12]] +\n        byteToHex[arr[offset + 13]] +\n        byteToHex[arr[offset + 14]] +\n        byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n    const uuid = unsafeStringify(arr, offset);\n    if (!validate(uuid)) {\n        throw TypeError('Stringified UUID is invalid');\n    }\n    return uuid;\n}\nexport default stringify;\n","let getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n    if (!getRandomValues) {\n        if (typeof crypto === 'undefined' || !crypto.getRandomValues) {\n            throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n        }\n        getRandomValues = crypto.getRandomValues.bind(crypto);\n    }\n    return getRandomValues(rnds8);\n}\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default { randomUUID };\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction _v4(options, buf, offset) {\n    options = options || {};\n    const rnds = options.random ?? options.rng?.() ?? rng();\n    if (rnds.length < 16) {\n        throw new Error('Random bytes length must be >= 16');\n    }\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n    if (buf) {\n        offset = offset || 0;\n        if (offset < 0 || offset + 16 > buf.length) {\n            throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);\n        }\n        for (let i = 0; i < 16; ++i) {\n            buf[offset + i] = rnds[i];\n        }\n        return buf;\n    }\n    return unsafeStringify(rnds);\n}\nfunction v4(options, buf, offset) {\n    if (native.randomUUID && !buf && !options) {\n        return native.randomUUID();\n    }\n    return _v4(options, buf, offset);\n}\nexport default v4;\n","import { create } from 'zustand';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n// Types\r\nexport interface DocumentInfo {\r\n  id: string;\r\n  name: string;\r\n  type: 'user-story' | 'epic' | 'business-rule' | 'requirement';\r\n  content: string;\r\n  uploadDate: Date;\r\n  metadata?: {\r\n    fileSize: number;\r\n    lastModified: Date;\r\n    [key: string]: any;\r\n  };\r\n}\r\n\r\nexport interface BusinessAnalysisResult {\r\n  id: string;\r\n  analysisType: 'business';\r\n  timestamp: Date;\r\n  overallAssessment: string;\r\n  businessDocuments: DocumentInfo[];\r\n  semanticResults: any[];\r\n  alignmentScore: number;\r\n  gaps: any[];\r\n  recommendations: string[];\r\n  tokenUsage: {\r\n    prompt: number;\r\n    completion: number;\r\n    total: number;\r\n  };\r\n  processingTime: number;\r\n  status: 'processing' | 'completed' | 'failed' | 'cancelled';\r\n}\r\n\r\nexport interface LLMInteraction {\r\n  id: string;\r\n  timestamp: Date;\r\n  prompt: string;\r\n  response: string;\r\n  analysisType: 'business';\r\n  documentIds: string[];\r\n  tokenUsage: {\r\n    prompt: number;\r\n    completion: number;\r\n    total: number;\r\n  };\r\n  processingTime: number;\r\n}\r\n\r\nexport interface TabStatus {\r\n  hasContent: boolean;\r\n  isAccessible: boolean;\r\n  lastUpdated: Date | null;\r\n  status?: 'success' | 'error' | 'warning' | 'loading';\r\n}\r\n\r\nexport type TabType = 'upload' | 'results' | 'prompt' | 'response';\r\n\r\nexport interface AnalysisSettings {\r\n  includeUserStories: boolean;\r\n  includeEpics: boolean;\r\n  includeBusinessRules: boolean;\r\n  includeRequirements: boolean;\r\n  sensitivityThreshold: number;\r\n  businessWeight: 'balanced' | 'business-focused' | 'technical-focused';\r\n}\r\n\r\n// Store Interface\r\ninterface BusinessAnalysisState {\r\n  // Upload state\r\n  businessDocuments: DocumentInfo[];\r\n  selectedDocuments: string[];\r\n  isUploading: boolean;\r\n  uploadProgress: number;\r\n\r\n  // Analysis state\r\n  currentAnalysis: BusinessAnalysisResult | null;\r\n  isAnalyzing: boolean;\r\n  progress: number;\r\n  error: string | null;\r\n\r\n  // LLM communication state\r\n  lastPromptSent: string | null;\r\n  lastLLMResponse: string | null;\r\n  llmCommunicationHistory: LLMInteraction[];\r\n\r\n  // UI state\r\n  activeTab: TabType;\r\n  isManualMode: boolean;\r\n  analysisSettings: AnalysisSettings;\r\n  tabStatuses: Record<TabType, TabStatus>;\r\n\r\n  // Actions\r\n  // Document management\r\n  uploadDocuments: (documents: DocumentInfo[]) => void;\r\n  selectDocument: (documentId: string) => void;\r\n  deselectDocument: (documentId: string) => void;\r\n  toggleDocumentSelection: (documentId: string) => void;\r\n  selectAllDocuments: () => void;\r\n  deselectAllDocuments: () => void;\r\n  deleteDocument: (documentId: string) => void;\r\n  clearAllDocuments: () => void;\r\n\r\n  // Analysis management\r\n  startAnalysis: () => void;\r\n  cancelAnalysis: () => void;\r\n  setCurrentAnalysis: (analysis: BusinessAnalysisResult | null) => void;\r\n  updateResultManually: (updates: Partial<BusinessAnalysisResult>) => void;\r\n\r\n  // LLM communication\r\n  setLastPromptSent: (prompt: string) => void;\r\n  setLastLLMResponse: (response: string) => void;\r\n  addLLMInteraction: (interaction: LLMInteraction) => void;\r\n\r\n  // UI management\r\n  setActiveTab: (tab: TabType) => void;\r\n  setIsManualMode: (isManual: boolean) => void;\r\n  updateAnalysisSettings: (settings: Partial<AnalysisSettings>) => void;\r\n  setTabStatus: (tab: TabType, status: Partial<TabStatus>) => void;\r\n  clearError: () => void;\r\n  reset: () => void;\r\n}\r\n\r\n// Store Implementation\r\nconst useBusinessAnalysisStore = create<BusinessAnalysisState>((set, get) => ({\r\n  // Initial state\r\n  businessDocuments: [],\r\n  selectedDocuments: [],\r\n  isUploading: false,\r\n  uploadProgress: 0,\r\n  currentAnalysis: null,\r\n  isAnalyzing: false,\r\n  progress: 0,\r\n  error: null,\r\n  lastPromptSent: null,\r\n  lastLLMResponse: null,\r\n  llmCommunicationHistory: [],\r\n  activeTab: 'upload',\r\n  isManualMode: false,\r\n  analysisSettings: {\r\n    includeUserStories: true,\r\n    includeEpics: true,\r\n    includeBusinessRules: true,\r\n    includeRequirements: true,\r\n    sensitivityThreshold: 0.7,\r\n    businessWeight: 'balanced'\r\n  },\r\n  tabStatuses: {\r\n    upload: { hasContent: false, isAccessible: true, lastUpdated: null },\r\n    results: { hasContent: false, isAccessible: false, lastUpdated: null },\r\n    prompt: { hasContent: false, isAccessible: false, lastUpdated: null },\r\n    response: { hasContent: false, isAccessible: false, lastUpdated: null }\r\n  },\r\n\r\n  // Document management actions\r\n  uploadDocuments: (documents) => {\r\n    set((state) => ({\r\n      businessDocuments: [...state.businessDocuments, ...documents],\r\n      selectedDocuments: [...state.selectedDocuments, ...documents.map(d => d.id)],\r\n      isUploading: false,\r\n      uploadProgress: 100,\r\n      tabStatuses: {\r\n        ...state.tabStatuses,\r\n        upload: {\r\n          ...state.tabStatuses.upload,\r\n          hasContent: true,\r\n          lastUpdated: new Date(),\r\n          status: 'success'\r\n        }\r\n      }\r\n    }));\r\n  },\r\n\r\n  selectDocument: (documentId) => {\r\n    set((state) => ({\r\n      selectedDocuments: state.selectedDocuments.includes(documentId)\r\n        ? state.selectedDocuments\r\n        : [...state.selectedDocuments, documentId]\r\n    }));\r\n  },\r\n\r\n  deselectDocument: (documentId) => {\r\n    set((state) => ({\r\n      selectedDocuments: state.selectedDocuments.filter(id => id !== documentId)\r\n    }));\r\n  },\r\n\r\n  toggleDocumentSelection: (documentId) => {\r\n    set((state) => ({\r\n      selectedDocuments: state.selectedDocuments.includes(documentId)\r\n        ? state.selectedDocuments.filter(id => id !== documentId)\r\n        : [...state.selectedDocuments, documentId]\r\n    }));\r\n  },\r\n\r\n  selectAllDocuments: () => {\r\n    set((state) => ({\r\n      selectedDocuments: state.businessDocuments.map(doc => doc.id)\r\n    }));\r\n  },\r\n\r\n  deselectAllDocuments: () => {\r\n    set({ selectedDocuments: [] });\r\n  },\r\n\r\n  deleteDocument: (documentId) => {\r\n    set((state) => ({\r\n      businessDocuments: state.businessDocuments.filter(doc => doc.id !== documentId),\r\n      selectedDocuments: state.selectedDocuments.filter(id => id !== documentId),\r\n      tabStatuses: {\r\n        ...state.tabStatuses,\r\n        upload: {\r\n          ...state.tabStatuses.upload,\r\n          hasContent: state.businessDocuments.length > 1,\r\n          lastUpdated: new Date()\r\n        }\r\n      }\r\n    }));\r\n  },\r\n\r\n  clearAllDocuments: () => {\r\n    set({\r\n      businessDocuments: [],\r\n      selectedDocuments: [],\r\n      tabStatuses: {\r\n        ...get().tabStatuses,\r\n        upload: {\r\n          hasContent: false,\r\n          isAccessible: true,\r\n          lastUpdated: new Date()\r\n        }\r\n      }\r\n    });\r\n  },\r\n\r\n  // Analysis management actions\r\n  startAnalysis: () => {\r\n    const state = get();\r\n    if (state.selectedDocuments.length === 0) {\r\n      set({ error: 'Selecione pelo menos um documento para anlise' });\r\n      return;\r\n    }\r\n\r\n    // Mock analysis - in real implementation, this would call the API\r\n    const mockAnalysis: BusinessAnalysisResult = {\r\n      id: uuidv4(),\r\n      analysisType: 'business',\r\n      timestamp: new Date(),\r\n      overallAssessment: `Anlise de ${state.selectedDocuments.length} documentos de negcio revelou bom alinhamento geral com score de 85%. Foram identificadas oportunidades de melhoria em segurana e expanso de funcionalidades.`,\r\n      businessDocuments: state.businessDocuments.filter(doc => state.selectedDocuments.includes(doc.id)),\r\n      semanticResults: [],\r\n      alignmentScore: 0.85,\r\n      gaps: [\r\n        { description: 'Falta autenticao de dois fatores', severity: 'high' },\r\n        { description: 'No h suporte para moedas internacionais', severity: 'medium' }\r\n      ],\r\n      recommendations: [\r\n        'Implementar autenticao de dois fatores',\r\n        'Adicionar suporte para mltiplas moedas',\r\n        'Melhorar validao de crdito com integrao externa'\r\n      ],\r\n      tokenUsage: {\r\n        prompt: 1500,\r\n        completion: 800,\r\n        total: 2300\r\n      },\r\n      processingTime: 5000,\r\n      status: 'completed'\r\n    };\r\n\r\n    const mockPrompt = `Analise os seguintes documentos de negcio e verifique o alinhamento com o cdigo-fonte implementado:\r\n\r\nDocumentos:\r\n${state.businessDocuments.filter(doc => state.selectedDocuments.includes(doc.id)).map(doc =>\r\n  `- ${doc.name} (${doc.type}): ${doc.content.substring(0, 200)}...`\r\n).join('\\n')}\r\n\r\nPor favor, fornea:\r\n1. Score de alinhamento para cada documento (0-100%)\r\n2. Gaps identificados\r\n3. Recomendaes de melhoria\r\n4. Avaliao geral do alinhamento de negcio`;\r\n\r\n    const mockResponse = `# Anlise de Documentao de Negcio\r\n\r\n## Resumo\r\nAnlise concluda com sucesso. Score geral de alinhamento: 85%\r\n\r\n## Resultados por Documento\r\n${state.businessDocuments.filter(doc => state.selectedDocuments.includes(doc.id)).map(doc =>\r\n  `### ${doc.name}\r\n- **Alinhamento:** ${80 + Math.floor(Math.random() * 20)}%\r\n- **Status:** Conforme\r\n- **Observaes:** Implementao bem alinhada com os requisitos de negcio`\r\n).join('\\n')}\r\n\r\n## Recomendaes\r\n1. Implementar autenticao de dois fatores\r\n2. Adicionar suporte para mltiplas moedas\r\n3. Melhorar validao de crdito`;\r\n\r\n    set({\r\n      isAnalyzing: true,\r\n      progress: 0,\r\n      error: null,\r\n      activeTab: 'results',\r\n      tabStatuses: {\r\n        ...state.tabStatuses,\r\n        results: {\r\n          ...state.tabStatuses.results,\r\n          status: 'loading',\r\n          isAccessible: true\r\n        }\r\n      }\r\n    });\r\n\r\n    // Simulate analysis progress\r\n    setTimeout(() => {\r\n      set({ progress: 100, isAnalyzing: false });\r\n    }, 3000);\r\n\r\n    // Set results after \"analysis\" completes\r\n    setTimeout(() => {\r\n      set({\r\n        currentAnalysis: mockAnalysis,\r\n        lastPromptSent: mockPrompt,\r\n        lastLLMResponse: mockResponse,\r\n        tabStatuses: {\r\n          ...get().tabStatuses,\r\n          results: {\r\n            hasContent: true,\r\n            isAccessible: true,\r\n            lastUpdated: new Date(),\r\n            status: 'success'\r\n          },\r\n          prompt: {\r\n            hasContent: true,\r\n            isAccessible: true,\r\n            lastUpdated: new Date(),\r\n            status: 'success'\r\n          },\r\n          response: {\r\n            hasContent: true,\r\n            isAccessible: true,\r\n            lastUpdated: new Date(),\r\n            status: 'success'\r\n          }\r\n        }\r\n      });\r\n    }, 3500);\r\n  },\r\n\r\n  cancelAnalysis: () => {\r\n    set({\r\n      isAnalyzing: false,\r\n      progress: 0,\r\n      tabStatuses: {\r\n        ...get().tabStatuses,\r\n        results: {\r\n          ...get().tabStatuses.results,\r\n          status: 'warning' as const\r\n        }\r\n      }\r\n    });\r\n  },\r\n\r\n  setCurrentAnalysis: (analysis) => {\r\n    set({ currentAnalysis: analysis });\r\n  },\r\n\r\n  updateResultManually: (updates) => {\r\n    set((state) => ({\r\n      currentAnalysis: state.currentAnalysis\r\n        ? { ...state.currentAnalysis, ...updates }\r\n        : null,\r\n      isManualMode: false\r\n    }));\r\n  },\r\n\r\n  // LLM communication actions\r\n  setLastPromptSent: (prompt) => {\r\n    set({ lastPromptSent: prompt });\r\n  },\r\n\r\n  setLastLLMResponse: (response) => {\r\n    set({ lastLLMResponse: response });\r\n  },\r\n\r\n  addLLMInteraction: (interaction) => {\r\n    set((state) => ({\r\n      llmCommunicationHistory: [...state.llmCommunicationHistory, interaction]\r\n    }));\r\n  },\r\n\r\n  // UI management actions\r\n  setActiveTab: (tab) => {\r\n    set({ activeTab: tab });\r\n  },\r\n\r\n  setIsManualMode: (isManual) => {\r\n    set({ isManualMode: isManual });\r\n  },\r\n\r\n  updateAnalysisSettings: (settings) => {\r\n    set((state) => ({\r\n      analysisSettings: { ...state.analysisSettings, ...settings }\r\n    }));\r\n  },\r\n\r\n  setTabStatus: (tab, status) => {\r\n    set((state) => ({\r\n      tabStatuses: {\r\n        ...state.tabStatuses,\r\n        [tab]: { ...state.tabStatuses[tab], ...status }\r\n      }\r\n    }));\r\n  },\r\n\r\n  clearError: () => {\r\n    set({ error: null });\r\n  },\r\n\r\n  reset: () => {\r\n    set({\r\n      businessDocuments: [],\r\n      selectedDocuments: [],\r\n      isUploading: false,\r\n      uploadProgress: 0,\r\n      currentAnalysis: null,\r\n      isAnalyzing: false,\r\n      progress: 0,\r\n      error: null,\r\n      lastPromptSent: null,\r\n      lastLLMResponse: null,\r\n      llmCommunicationHistory: [],\r\n      activeTab: 'upload',\r\n      isManualMode: false,\r\n      tabStatuses: {\r\n        upload: { hasContent: false, isAccessible: true, lastUpdated: null },\r\n        results: { hasContent: false, isAccessible: false, lastUpdated: null },\r\n        prompt: { hasContent: false, isAccessible: false, lastUpdated: null },\r\n        response: { hasContent: false, isAccessible: false, lastUpdated: null }\r\n      }\r\n    });\r\n  }\r\n}));\r\n\r\nexport { useBusinessAnalysisStore };","import React, { useState, useCallback, useRef } from 'react';\r\nimport { Upload, FileText, AlertCircle, CheckCircle, Trash2, RefreshCw, FolderOpen } from 'lucide-react';\r\nimport { useBusinessAnalysisStore } from '@/stores/businessAnalysisStore';\r\nimport './BusinessDocumentUpload.css';\r\n\r\ninterface DocumentInfo {\r\n  id: string;\r\n  name: string;\r\n  type: 'user-story' | 'epic' | 'business-rule' | 'requirement';\r\n  content: string;\r\n  uploadDate: Date;\r\n  metadata?: {\r\n    fileSize: number;\r\n    lastModified: Date;\r\n    [key: string]: any;\r\n  };\r\n}\r\n\r\ninterface BusinessDocumentUploadProps {\r\n  onDocumentsUploaded?: (documents: DocumentInfo[]) => void;\r\n  onStartAnalysis?: () => void;\r\n}\r\n\r\nconst BusinessDocumentUpload: React.FC<BusinessDocumentUploadProps> = ({\r\n  onDocumentsUploaded,\r\n  onStartAnalysis\r\n}) => {\r\n  const {\r\n    businessDocuments,\r\n    isUploading,\r\n    uploadDocuments,\r\n    deleteDocument,\r\n    error\r\n  } = useBusinessAnalysisStore();\r\n\r\n  const [isScanning, setIsScanning] = useState(false);\r\n  const [scanProgress, setScanProgress] = useState(0);\r\n  const [selectedFolderPath, setSelectedFolderPath] = useState<string>('');\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const formatFileSize = (bytes: number): string => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const formatDate = (date: Date): string => {\r\n    return new Date(date).toLocaleDateString('pt-BR', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const determineDocumentType = (fileName: string, content: string): DocumentInfo['type'] => {\r\n    const lowerFileName = fileName.toLowerCase();\r\n    const lowerContent = content.toLowerCase();\r\n\r\n    // Check filename patterns first\r\n    if (lowerFileName.includes('user') && lowerFileName.includes('story')) return 'user-story';\r\n    if (lowerFileName.includes('epic')) return 'epic';\r\n    if (lowerFileName.includes('business') && (lowerFileName.includes('rule') || lowerFileName.includes('requirement'))) {\r\n      return 'business-rule';\r\n    }\r\n    if (lowerFileName.includes('requirement')) return 'requirement';\r\n\r\n    // Check content patterns\r\n    if (lowerContent.includes('user story') || lowerContent.includes('como um')) return 'user-story';\r\n    if (lowerContent.includes('epic') || lowerContent.includes('pico')) return 'epic';\r\n    if (lowerContent.includes('business rule') || lowerContent.includes('regra de negcio')) return 'business-rule';\r\n    if (lowerContent.includes('requirement') || lowerContent.includes('requisito')) return 'requirement';\r\n\r\n    // Default to requirement if unsure\r\n    return 'requirement';\r\n  };\r\n\r\n  const getDocumentTypeLabel = (type: DocumentInfo['type']): string => {\r\n    switch (type) {\r\n      case 'user-story': return 'User Story';\r\n      case 'epic': return 'pico';\r\n      case 'business-rule': return 'Regra de Negcio';\r\n      case 'requirement': return 'Requisito';\r\n      default: return 'Documento';\r\n    }\r\n  };\r\n\r\n  const getDocumentTypeIcon = (type: DocumentInfo['type']) => {\r\n    return <FileText className=\"w-4 h-4\" />;\r\n  };\r\n\r\n  const readFileContent = (file: File): Promise<string> => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        const content = e.target?.result as string;\r\n        resolve(content);\r\n      };\r\n      reader.onerror = (e) => {\r\n        reject(new Error('Failed to read file'));\r\n      };\r\n      reader.readAsText(file);\r\n    });\r\n  };\r\n\r\n  const generateUUID = (): string => {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n      const r = Math.random() * 16 | 0;\r\n      const v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n      return v.toString(16);\r\n    });\r\n  };\r\n\r\n  const handleFolderSelect = useCallback(async (files: FileList) => {\r\n    console.log('handleFolderSelect called with:', {\r\n      fileCount: files.length,\r\n      firstFileName: files[0]?.name,\r\n      firstFilePath: files[0]?.webkitRelativePath\r\n    });\r\n\r\n    try {\r\n      setIsScanning(true);\r\n      setScanProgress(0);\r\n\r\n      // Extract folder path from the first file\r\n      const firstFile = files[0];\r\n      if (!firstFile) {\r\n        console.error('No files selected');\r\n        return;\r\n      }\r\n\r\n      const relativePath = firstFile.webkitRelativePath || '';\r\n      const folderPath = relativePath.split('/')[0] || 'selected_folder';\r\n      console.log('Processing folder:', { folderPath, relativePath });\r\n      setSelectedFolderPath(folderPath);\r\n\r\n      // Process files to extract business document information\r\n      const documents: DocumentInfo[] = [];\r\n\r\n      for (let i = 0; i < files.length; i++) {\r\n        const file = files[i];\r\n        const relativePath = file.webkitRelativePath || '';\r\n\r\n        // Only process supported file types\r\n        const fileName = file.name.toLowerCase();\r\n        const supportedExtensions = ['.md', '.txt', '.pdf', '.docx', '.doc'];\r\n        const isSupported = supportedExtensions.some(ext => fileName.endsWith(ext));\r\n\r\n        if (!isSupported) {\r\n          console.log(`Skipping unsupported file: ${file.name}`);\r\n          setScanProgress(((i + 1) / files.length) * 100);\r\n          continue;\r\n        }\r\n\r\n        try {\r\n          const content = await readFileContent(file);\r\n\r\n          // Determine document type based on filename or content\r\n          const documentType = determineDocumentType(file.name, content);\r\n\r\n          const document: DocumentInfo = {\r\n            id: `doc_${generateUUID()}`,\r\n            name: relativePath, // Use relative path to show folder structure\r\n            type: documentType,\r\n            content: content,\r\n            uploadDate: new Date(),\r\n            metadata: {\r\n              fileSize: file.size,\r\n              lastModified: new Date(file.lastModified),\r\n              originalName: file.name,\r\n              relativePath: relativePath,\r\n              folderPath: folderPath\r\n            }\r\n          };\r\n\r\n          documents.push(document);\r\n          console.log(`Processed document: ${file.name} -> ${documentType}`);\r\n\r\n        } catch (error) {\r\n          console.error(`Error processing file ${file.name}:`, error);\r\n        }\r\n\r\n        // Update progress\r\n        setScanProgress(((i + 1) / files.length) * 100);\r\n\r\n        // Small delay to show progress\r\n        await new Promise(resolve => setTimeout(resolve, 50));\r\n      }\r\n\r\n      console.log(`Successfully processed ${documents.length} business documents from folder: ${folderPath}`);\r\n\r\n      uploadDocuments(documents);\r\n      onDocumentsUploaded?.(documents);\r\n\r\n      // Reset file input\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Error processing folder:', error);\r\n    } finally {\r\n      setIsScanning(false);\r\n      setScanProgress(0);\r\n    }\r\n  }, [uploadDocuments, onDocumentsUploaded]);\r\n\r\n  const handleFileInputChange = useCallback(async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    console.log('File input changed:', {\r\n      files: e.target.files,\r\n      fileCount: e.target.files?.length,\r\n      firstFile: e.target.files?.[0]?.name\r\n    });\r\n\r\n    if (e.target.files && e.target.files.length > 0) {\r\n      await handleFolderSelect(e.target.files);\r\n    }\r\n  }, [handleFolderSelect]);\r\n\r\n  \r\n  const handleDeleteDocument = (documentId: string) => {\r\n    deleteDocument(documentId);\r\n  };\r\n\r\n  const handleStartAnalysis = () => {\r\n    if (businessDocuments.length === 0) {\r\n      alert('Por favor, selecione uma pasta com documentos de negcio para anlise.');\r\n      return;\r\n    }\r\n    onStartAnalysis?.();\r\n  };\r\n\r\n  return (\r\n    <div className=\"business-document-upload\">\r\n      {/* Header */}\r\n      <div className=\"upload-header\">\r\n        <div className=\"br-card\">\r\n          <div className=\"card-header text-center\">\r\n            <h2 className=\"text-h2\">Upload de Documentao Negocial</h2>\r\n            <p className=\"text-regular\">\r\n              Selecione uma pasta contendo documentos de negcio para anlise de alinhamento com o cdigo-fonte\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Controls */}\r\n      <div className=\"upload-controls\">\r\n        <div className=\"action-buttons\">\r\n          <button\r\n            onClick={() => fileInputRef.current?.click()}\r\n            disabled={isScanning}\r\n            className=\"br-button primary\"\r\n            type=\"button\"\r\n          >\r\n            {isScanning ? (\r\n              <div className=\"flex items-center space-x-2\">\r\n                <div className=\"br-loading-small\"></div>\r\n                <span>Selecionando...</span>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <FolderOpen className=\"w-4 h-4 mr-2\" />\r\n                Selecionar Pasta\r\n              </>\r\n            )}\r\n          </button>\r\n\r\n          {/* Hidden file input for folder selection */}\r\n          <input\r\n            ref={fileInputRef}\r\n            id=\"business-folder-input\"\r\n            type=\"file\"\r\n            webkitdirectory=\"\"\r\n            directory=\"\"\r\n            multiple\r\n            className=\"hidden\"\r\n            onChange={handleFileInputChange}\r\n            disabled={isScanning}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Folder Path Display */}\r\n      {selectedFolderPath && (\r\n        <div className=\"folder-path-display\">\r\n          <div className=\"br-message info\">\r\n            <FolderOpen className=\"w-4 h-4\" />\r\n            <div>\r\n              <strong>Pasta selecionada:</strong> {selectedFolderPath}\r\n              <p className=\"text-small mt-1\">\r\n                {businessDocuments.length} documento(s) de negcio encontrados\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Upload Area or Documents List */}\r\n      {businessDocuments.length === 0 && (\r\n        <div className=\"upload-area\">\r\n          <div className=\"br-card\">\r\n            <div className=\"card-content\">\r\n              {isScanning ? (\r\n                <div className=\"scanning-state\">\r\n                  <div className=\"br-loading\"></div>\r\n                  <h4>Processando documentos da pasta...</h4>\r\n                  <div className=\"progress-bar\">\r\n                    <div\r\n                      className=\"progress-fill\"\r\n                      style={{ width: `${scanProgress}%` }}\r\n                    ></div>\r\n                  </div>\r\n                  <p className=\"text-small\">{Math.round(scanProgress)}% concludo</p>\r\n                  {selectedFolderPath && (\r\n                    <p className=\"text-small text-muted mt-2\">\r\n                      Pasta: {selectedFolderPath}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <div className=\"upload-prompt\">\r\n                  <FolderOpen className=\"upload-icon\" />\r\n                  <h4>Selecione uma pasta de documentos de negcio</h4>\r\n                  <p>Clique no boto \"Selecionar Pasta\" para continuar</p>\r\n                  <p className=\"text-small\">\r\n                    Sero processados arquivos: .md, .txt, .pdf, .docx, .doc\r\n                  </p>\r\n                  <p className=\"text-small\">\r\n                    Formatos detectados: User Stories, picos, Regras de Negcio, Requisitos\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {businessDocuments.length > 0 && (\r\n        <div className=\"documents-list\">\r\n          <div className=\"br-card\">\r\n            <div className=\"card-header\">\r\n              <h3 className=\"text-h3\">\r\n                Documentos de Negcio ({businessDocuments.length})\r\n              </h3>\r\n              <p className=\"text-regular\">\r\n                Documentos encontrados na pasta selecionada\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"card-content\">\r\n              {error && (\r\n                <div className=\"br-message danger mb-3\">\r\n                  <AlertCircle className=\"w-4 h-4\" />\r\n                  <span>{error}</span>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"document-items\">\r\n                {businessDocuments.map((doc) => (\r\n                  <div key={doc.id} className=\"document-item\">\r\n                    <div className=\"document-info\">\r\n                      <div className=\"document-details\">\r\n                        <div className=\"document-header\">\r\n                          {getDocumentTypeIcon(doc.type)}\r\n                          <div className=\"document-name-container\">\r\n                            <span className=\"document-name\">{doc.name}</span>\r\n                            {doc.metadata?.originalName && doc.metadata.originalName !== doc.name && (\r\n                              <span className=\"original-name\">\r\n                                ({doc.metadata.originalName})\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                          <span className={`document-type-badge type-${doc.type}`}>\r\n                            {getDocumentTypeLabel(doc.type)}\r\n                          </span>\r\n                        </div>\r\n\r\n                        <div className=\"document-meta\">\r\n                          <span className=\"text-small text-muted\">\r\n                            {formatFileSize(doc.metadata?.fileSize || 0)}\r\n                          </span>\r\n                          <span className=\"text-small text-muted\">\r\n                            {formatDate(doc.uploadDate)}\r\n                          </span>\r\n                          {doc.metadata?.folderPath && (\r\n                            <span className=\"text-small text-muted\">\r\n                              Pasta: {doc.metadata.folderPath}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              {/* Analysis Actions */}\r\n              <div className=\"analysis-actions\">\r\n                <div className=\"action-buttons\">\r\n                  <button\r\n                    className=\"br-button secondary\"\r\n                    onClick={() => fileInputRef.current?.click()}\r\n                    disabled={isScanning}\r\n                  >\r\n                    <FolderOpen className=\"w-4 h-4 mr-2\" />\r\n                    Selecionar Outra Pasta\r\n                  </button>\r\n\r\n                  <button\r\n                    className=\"br-button primary\"\r\n                    onClick={handleStartAnalysis}\r\n                    disabled={businessDocuments.length === 0 || isUploading}\r\n                  >\r\n                    {isUploading ? 'Analisando...' : 'Iniciar Anlise de Negcio'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BusinessDocumentUpload;","import React from 'react';\r\nimport { ChartBar, Download, AlertCircle, CheckCircle, AlertTriangle, Target, TrendingUp } from 'lucide-react';\r\n\r\ninterface BusinessDocumentResult {\r\n  id: string;\r\n  documentName: string;\r\n  documentType: 'user-story' | 'epic' | 'business-rule' | 'requirement';\r\n  alignmentScore: number;\r\n  assessment: string;\r\n  gaps: string[];\r\n  recommendations: string[];\r\n  businessImpact: 'high' | 'medium' | 'low';\r\n}\r\n\r\ninterface BusinessAnalysisResultsProps {\r\n  results: any; // BusinessAnalysisResult | null\r\n  onDownloadReport: () => void;\r\n}\r\n\r\nconst BusinessAnalysisResults: React.FC<BusinessAnalysisResultsProps> = ({\r\n  results,\r\n  onDownloadReport\r\n}) => {\r\n  if (!results) {\r\n    return (\r\n      <div className=\"br-tab-panel\">\r\n        <div className=\"br-card\">\r\n          <div className=\"card-content text-center\">\r\n            <ChartBar className=\"w-16 h-16 text-muted mx-auto mb-4\" />\r\n            <h4>Nenhuma anlise realizada ainda</h4>\r\n            <p>Faa upload dos documentos e inicie a anlise para ver os resultados</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Mock business document results based on the story requirements\r\n  const mockDocumentResults: BusinessDocumentResult[] = [\r\n    {\r\n      id: '1',\r\n      documentName: 'US-001: Login do Usurio',\r\n      documentType: 'user-story',\r\n      alignmentScore: 85,\r\n      assessment: 'O cdigo implementa bem a funcionalidade de login com autenticao segura e validao adequada. Foram encontrados pontos fortes na implementao e pequenas oportunidades de melhoria.',\r\n      gaps: [\r\n        'Falta implementao de autenticao de dois fatores',\r\n        'No h taxa limite de tentativas de login',\r\n        'Logs de segurana poderiam ser mais detalhados'\r\n      ],\r\n      recommendations: [\r\n        'Implementar 2FA para maior segurana',\r\n        'Adicionar rate limiting para prevenir brute force',\r\n        'Melhorar logs de auditoria de segurana'\r\n      ],\r\n      businessImpact: 'high'\r\n    },\r\n    {\r\n      id: '2',\r\n      documentName: 'pico-005: Gesto de Pagamentos',\r\n      documentType: 'epic',\r\n      alignmentScore: 92,\r\n      assessment: 'Implementao robusta do sistema de pagamentos com boa cobertura dos casos de uso e tratamento adequado de erros. A arquitetura suporta bem os requisitos de negcio.',\r\n      gaps: [\r\n        'Falta tratamento para moedas internacionais',\r\n        'No implementado reconciliao automtica',\r\n        'Relatrios financeiros poderiam ser mais detalhados'\r\n      ],\r\n      recommendations: [\r\n        'Expandir suporte para mltiplas moedas',\r\n        'Implementar sistema de reconciliao automtica',\r\n        'Criar relatrios financeiros avanados'\r\n      ],\r\n      businessImpact: 'high'\r\n    },\r\n    {\r\n      id: '3',\r\n      documentName: 'BR-012: Regra de negcio - Validao de crdito',\r\n      documentType: 'business-rule',\r\n      alignmentScore: 78,\r\n      assessment: 'A validao de crdito est implementada mas poderia ser mais robusta. Alguns edge cases no so tratados adequadamente e as regras de negcio poderiam estar mais centralizadas.',\r\n      gaps: [\r\n        'No h validao para mltiplos cartes de crdito',\r\n        'Regras de score no so atualizadas dinamicamente',\r\n        'Falta integrao com servios de verificao externos'\r\n      ],\r\n      recommendations: [\r\n        'Implementar validao para mltiplos mtodos de pagamento',\r\n        'Criar sistema de score dinmico',\r\n        'Integrar com bureaus de crdito'\r\n      ],\r\n      businessImpact: 'medium'\r\n    }\r\n  ];\r\n\r\n  const getAlignmentScoreColor = (score: number): string => {\r\n    if (score >= 90) return 'success';\r\n    if (score >= 70) return 'warning';\r\n    return 'danger';\r\n  };\r\n\r\n  const getBusinessImpactIcon = (impact: string) => {\r\n    switch (impact) {\r\n      case 'high': return <AlertTriangle className=\"w-4 h-4 text-danger\" />;\r\n      case 'medium': return <AlertCircle className=\"w-4 h-4 text-warning\" />;\r\n      case 'low': return <CheckCircle className=\"w-4 h-4 text-success\" />;\r\n      default: return <Target className=\"w-4 h-4 text-muted\" />;\r\n    }\r\n  };\r\n\r\n  const getBusinessImpactLabel = (impact: string): string => {\r\n    switch (impact) {\r\n      case 'high': return 'Alto Impacto';\r\n      case 'medium': return 'Mdio Impacto';\r\n      case 'low': return 'Baixo Impacto';\r\n      default: return 'No Avaliado';\r\n    }\r\n  };\r\n\r\n  const getDocumentTypeLabel = (type: string): string => {\r\n    switch (type) {\r\n      case 'user-story': return 'User Story';\r\n      case 'epic': return 'pico';\r\n      case 'business-rule': return 'Regra de Negcio';\r\n      case 'requirement': return 'Requisito';\r\n      default: return 'Documento';\r\n    }\r\n  };\r\n\r\n  const calculateOverallAlignment = (): number => {\r\n    if (mockDocumentResults.length === 0) return 0;\r\n    const total = mockDocumentResults.reduce((sum, doc) => sum + doc.alignmentScore, 0);\r\n    return Math.round(total / mockDocumentResults.length);\r\n  };\r\n\r\n  const overallAlignment = calculateOverallAlignment();\r\n\r\n  return (\r\n    <div className=\"br-tab-panel\">\r\n      <div className=\"br-card\">\r\n        <div className=\"card-header\">\r\n          <div className=\"header-content\">\r\n            <h3 className=\"text-h3\">Resultados da Anlise de Negcio</h3>\r\n            <p className=\"text-regular text-muted\">\r\n              Anlise de alinhamento entre documentao de negcio e implementao do cdigo\r\n            </p>\r\n          </div>\r\n          <div className=\"header-actions\">\r\n            <button className=\"br-button secondary\" onClick={onDownloadReport}>\r\n              <Download className=\"w-4 h-4 mr-2\" />\r\n              Baixar Relatrio\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"card-content\">\r\n          {/* Overall Summary */}\r\n          <div className=\"overall-summary mb-4\">\r\n            <div className=\"summary-cards\">\r\n              <div className=\"summary-card\">\r\n                <div className=\"summary-icon\">\r\n                  <Target className=\"w-6 h-6\" />\r\n                </div>\r\n                <div className=\"summary-content\">\r\n                  <div className=\"summary-label\">Alinhamento Geral</div>\r\n                  <div className={`summary-value ${getAlignmentScoreColor(overallAlignment)}`}>\r\n                    {overallAlignment}%\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"summary-card\">\r\n                <div className=\"summary-icon\">\r\n                  <ChartBar className=\"w-6 h-6\" />\r\n                </div>\r\n                <div className=\"summary-content\">\r\n                  <div className=\"summary-label\">Documentos Analisados</div>\r\n                  <div className=\"summary-value\">{mockDocumentResults.length}</div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"summary-card\">\r\n                <div className=\"summary-icon\">\r\n                  <TrendingUp className=\"w-6 h-6\" />\r\n                </div>\r\n                <div className=\"summary-content\">\r\n                  <div className=\"summary-label\">Gaps Identificados</div>\r\n                  <div className=\"summary-value\">\r\n                    {mockDocumentResults.reduce((sum, doc) => sum + doc.gaps.length, 0)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Document Results */}\r\n          <div className=\"document-results\">\r\n            <h4>Anlise por Documento</h4>\r\n\r\n            {mockDocumentResults.map((doc) => (\r\n              <div key={doc.id} className=\"result-card mb-4\">\r\n                <div className=\"result-header\">\r\n                  <div className=\"document-info\">\r\n                    <h5 className=\"document-name\">{doc.documentName}</h5>\r\n                    <div className=\"document-meta\">\r\n                      <span className=\"document-type-badge\">{getDocumentTypeLabel(doc.documentType)}</span>\r\n                      <div className=\"alignment-score\">\r\n                        <span className=\"score-label\">Alinhamento:</span>\r\n                        <span className={`score-value ${getAlignmentScoreColor(doc.alignmentScore)}`}>\r\n                          {doc.alignmentScore}%\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"impact-indicator\">\r\n                    {getBusinessImpactIcon(doc.businessImpact)}\r\n                    <span className=\"impact-label\">{getBusinessImpactLabel(doc.businessImpact)}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"result-content\">\r\n                  {/* Assessment */}\r\n                  <div className=\"assessment-section\">\r\n                    <h6>Avaliao</h6>\r\n                    <p className=\"assessment-text\">{doc.assessment}</p>\r\n                  </div>\r\n\r\n                  {/* Gaps */}\r\n                  {doc.gaps.length > 0 && (\r\n                    <div className=\"gaps-section\">\r\n                      <h6>Gaps Identificados</h6>\r\n                      <ul className=\"gaps-list\">\r\n                        {doc.gaps.map((gap, index) => (\r\n                          <li key={index} className=\"gap-item\">\r\n                            <AlertCircle className=\"w-3 h-3 text-warning\" />\r\n                            {gap}\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Recommendations */}\r\n                  {doc.recommendations.length > 0 && (\r\n                    <div className=\"recommendations-section\">\r\n                      <h6>Recomendaes</h6>\r\n                      <ul className=\"recommendations-list\">\r\n                        {doc.recommendations.map((rec, index) => (\r\n                          <li key={index} className=\"recommendation-item\">\r\n                            <CheckCircle className=\"w-3 h-3 text-success\" />\r\n                            {rec}\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Export Actions */}\r\n          <div className=\"export-actions mt-4\">\r\n            <div className=\"action-buttons\">\r\n              <button className=\"br-button primary\" onClick={onDownloadReport}>\r\n                <Download className=\"w-4 h-4 mr-2\" />\r\n                Gerar Relatrio Completo\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BusinessAnalysisResults;","import React from 'react';\r\nimport { Send, Copy, Eye, AlertCircle } from 'lucide-react';\r\nimport { useBusinessAnalysisStore } from '@/stores/businessAnalysisStore';\r\n\r\nconst PromptViewer: React.FC = () => {\r\n  const { lastPromptSent, isAnalyzing } = useBusinessAnalysisStore();\r\n\r\n  const handleCopyToClipboard = () => {\r\n    if (lastPromptSent) {\r\n      navigator.clipboard.writeText(lastPromptSent).then(() => {\r\n        // Could add a toast notification here\r\n        alert('Prompt copiado para a rea de transferncia!');\r\n      }).catch(err => {\r\n        console.error('Failed to copy prompt:', err);\r\n        alert('Erro ao copiar prompt');\r\n      });\r\n    }\r\n  };\r\n\r\n  const formatTimestamp = (date: Date): string => {\r\n    return new Date(date).toLocaleString('pt-BR');\r\n  };\r\n\r\n  const countTokens = (text: string): number => {\r\n    // Simple token estimation (rough approximation)\r\n    return Math.ceil(text.length / 4);\r\n  };\r\n\r\n  if (!lastPromptSent && !isAnalyzing) {\r\n    return (\r\n      <div className=\"br-tab-panel\">\r\n        <div className=\"br-card\">\r\n          <div className=\"card-content text-center\">\r\n            <Send className=\"w-16 h-16 text-muted mx-auto mb-4\" />\r\n            <h4>Nenhum prompt enviado ainda</h4>\r\n            <p>O prompt enviado para a LLM aparecer aqui aps a anlise</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"br-tab-panel\">\r\n      <div className=\"br-card\">\r\n        <div className=\"card-header\">\r\n          <div className=\"header-content\">\r\n            <h3 className=\"text-h3\">ltimo Prompt Enviado</h3>\r\n            <p className=\"text-regular text-muted\">\r\n              Prompt enviado para a LLM durante a anlise de documentao de negcio\r\n            </p>\r\n          </div>\r\n          <div className=\"header-actions\">\r\n            <button\r\n              className=\"br-button secondary\"\r\n              onClick={handleCopyToClipboard}\r\n              disabled={!lastPromptSent}\r\n            >\r\n              <Copy className=\"w-4 h-4 mr-2\" />\r\n              Copiar\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"card-content\">\r\n          {isAnalyzing ? (\r\n            <div className=\"loading-state\">\r\n              <div className=\"loading-content\">\r\n                <div className=\"br-loading\"></div>\r\n                <h4>Enviando prompt para a LLM...</h4>\r\n                <p className=\"text-muted\">Processando solicitao de anlise de negcio</p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {lastPromptSent ? (\r\n                <>\r\n                  {/* Prompt Metadata */}\r\n                  <div className=\"prompt-metadata mb-4\">\r\n                    <div className=\"metadata-grid\">\r\n                      <div className=\"metadata-item\">\r\n                        <span className=\"metadata-label\">Enviado em:</span>\r\n                        <span className=\"metadata-value\">{formatTimestamp(new Date())}</span>\r\n                      </div>\r\n                      <div className=\"metadata-item\">\r\n                        <span className=\"metadata-label\">Tokens:</span>\r\n                        <span className=\"metadata-value\">{countTokens(lastPromptSent)}</span>\r\n                      </div>\r\n                      <div className=\"metadata-item\">\r\n                        <span className=\"metadata-label\">Caracteres:</span>\r\n                        <span className=\"metadata-value\">{lastPromptSent.length.toLocaleString('pt-BR')}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Prompt Content */}\r\n                  <div className=\"prompt-content\">\r\n                    <div className=\"content-header\">\r\n                      <div className=\"content-title\">\r\n                        <Eye className=\"w-4 h-4 mr-2\" />\r\n                        Contedo do Prompt\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"prompt-text-container\">\r\n                      <textarea\r\n                        value={lastPromptSent}\r\n                        readOnly\r\n                        className=\"br-textarea prompt-textarea\"\r\n                        rows={20}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Prompt Analysis Info */}\r\n                  <div className=\"prompt-analysis-info mt-4\">\r\n                    <div className=\"br-message info\">\r\n                      <AlertCircle className=\"w-4 h-4\" />\r\n                      <div>\r\n                        <h5>Informaes do Prompt</h5>\r\n                        <p className=\"text-small\">\r\n                          Este prompt foi gerado automaticamente com base nos documentos de negcio selecionados\r\n                          e enviado para a LLM para anlise semntica e verificao de alinhamento.\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <div className=\"empty-state\">\r\n                  <Send className=\"w-12 h-12 text-muted mx-auto mb-3\" />\r\n                  <h5>Nenhum prompt disponvel</h5>\r\n                  <p className=\"text-muted\">\r\n                    Inicie uma anlise para ver o prompt enviado para a LLM\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PromptViewer;","import React, { useState } from 'react';\r\nimport { MessageSquare, Copy, Edit, Save, X, AlertCircle, CheckCircle } from 'lucide-react';\r\nimport { useBusinessAnalysisStore } from '@/stores/businessAnalysisStore';\r\n\r\nconst LLMResponseViewer: React.FC = () => {\r\n  const { lastLLMResponse, isAnalyzing, updateResultManually } = useBusinessAnalysisStore();\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editedResponse, setEditedResponse] = useState('');\r\n  const [hasChanges, setHasChanges] = useState(false);\r\n\r\n  const handleCopyToClipboard = () => {\r\n    const responseToCopy = isEditing ? editedResponse : (lastLLMResponse || '');\r\n    if (responseToCopy) {\r\n      navigator.clipboard.writeText(responseToCopy).then(() => {\r\n        // Could add a toast notification here\r\n        alert('Resposta copiada para a rea de transferncia!');\r\n      }).catch(err => {\r\n        console.error('Failed to copy response:', err);\r\n        alert('Erro ao copiar resposta');\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleStartEditing = () => {\r\n    setEditedResponse(lastLLMResponse || '');\r\n    setIsEditing(true);\r\n    setHasChanges(false);\r\n  };\r\n\r\n  const handleCancelEditing = () => {\r\n    if (hasChanges) {\r\n      const confirmCancel = confirm('Voc tem alteraes no salvas. Deseja cancelar a edio?');\r\n      if (!confirmCancel) return;\r\n    }\r\n    setIsEditing(false);\r\n    setEditedResponse('');\r\n    setHasChanges(false);\r\n  };\r\n\r\n  const handleSaveEditing = () => {\r\n    if (hasChanges && editedResponse.trim()) {\r\n      // Update the response in the store\r\n      updateResultManually({ overallAssessment: editedResponse });\r\n      setIsEditing(false);\r\n      setHasChanges(false);\r\n      alert('Resposta atualizada com sucesso!');\r\n    }\r\n  };\r\n\r\n  const handleResponseChange = (value: string) => {\r\n    setEditedResponse(value);\r\n    setHasChanges(value !== (lastLLMResponse || ''));\r\n  };\r\n\r\n  const formatTimestamp = (date: Date): string => {\r\n    return new Date(date).toLocaleString('pt-BR');\r\n  };\r\n\r\n  const countTokens = (text: string): number => {\r\n    // Simple token estimation (rough approximation)\r\n    return Math.ceil(text.length / 4);\r\n  };\r\n\r\n  // Mock response for demonstration when no response is available\r\n  const mockResponse = `# Anlise de Documentao de Negcio\r\n\r\n## Resumo da Anlise\r\n\r\nForam analisados 3 documentos de negcio para verificar o alinhamento com a implementao atual do cdigo-fonte. A anlise revelou uma boa aderncia geral aos requisitos, com alguns pontos de ateno identificados.\r\n\r\n## Resultados por Documento\r\n\r\n### US-001: Login do Usurio\r\n- **Alinhamento:** 85%\r\n- **Status:** Parcialmente Conforme\r\n- **Observaes:** Implementao robusta mas falta autenticao de dois fatores\r\n\r\n### pico-005: Gesto de Pagamentos\r\n- **Alinhamento:** 92%\r\n- **Status:** Conforme\r\n- **Observaes:** Implementao completa e bem estruturada\r\n\r\n### BR-012: Validao de Crdito\r\n- **Alinhamento:** 78%\r\n- **Status:** Parcialmente Conforme\r\n- **Observaes:** Funcionalidade bsica implementada mas precisa melhorias\r\n\r\n## Recomendaes Principais\r\n\r\n1. Implementar autenticao de dois fatores para maior segurana\r\n2. Adicionar suporte para moedas internacionais no sistema de pagamentos\r\n3. Melhorar validao de crdito com integrao a bureaus externos\r\n4. Implementar rate limiting para prevenir ataques de brute force\r\n\r\n## Concluso\r\n\r\nO sistema est bem alinhado com os requisitos de negcio, com um score geral de 85%. As oportunidades de melhoria identificadas so principalmente relacionadas a segurana e expanso de funcionalidades.`;\r\n\r\n  const responseContent = isEditing ? editedResponse : (lastLLMResponse || mockResponse);\r\n\r\n  if (!lastLLMResponse && !isAnalyzing) {\r\n    return (\r\n      <div className=\"br-tab-panel\">\r\n        <div className=\"br-card\">\r\n          <div className=\"card-content text-center\">\r\n            <MessageSquare className=\"w-16 h-16 text-muted mx-auto mb-4\" />\r\n            <h4>Nenhuma resposta recebida ainda</h4>\r\n            <p>A resposta da LLM aparecer aqui aps a anlise</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"br-tab-panel\">\r\n      <div className=\"br-card\">\r\n        <div className=\"card-header\">\r\n          <div className=\"header-content\">\r\n            <h3 className=\"text-h3\">ltima Resposta da LLM</h3>\r\n            <p className=\"text-regular text-muted\">\r\n              Resposta completa da inteligncia artificial para a anlise de negcio\r\n            </p>\r\n          </div>\r\n          <div className=\"header-actions\">\r\n            {!isEditing && (\r\n              <>\r\n                <button\r\n                  className=\"br-button secondary\"\r\n                  onClick={handleCopyToClipboard}\r\n                  disabled={!responseContent}\r\n                >\r\n                  <Copy className=\"w-4 h-4 mr-2\" />\r\n                  Copiar\r\n                </button>\r\n                {lastLLMResponse && (\r\n                  <button\r\n                    className=\"br-button secondary\"\r\n                    onClick={handleStartEditing}\r\n                    disabled={isAnalyzing}\r\n                  >\r\n                    <Edit className=\"w-4 h-4 mr-2\" />\r\n                    Editar Manualmente\r\n                  </button>\r\n                )}\r\n              </>\r\n            )}\r\n\r\n            {isEditing && (\r\n              <>\r\n                <button\r\n                  className=\"br-button primary\"\r\n                  onClick={handleSaveEditing}\r\n                  disabled={!hasChanges || !editedResponse.trim()}\r\n                >\r\n                  <Save className=\"w-4 h-4 mr-2\" />\r\n                  Salvar\r\n                </button>\r\n                <button\r\n                  className=\"br-button secondary\"\r\n                  onClick={handleCancelEditing}\r\n                >\r\n                  <X className=\"w-4 h-4 mr-2\" />\r\n                  Cancelar\r\n                </button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"card-content\">\r\n          {isAnalyzing ? (\r\n            <div className=\"loading-state\">\r\n              <div className=\"loading-content\">\r\n                <div className=\"br-loading\"></div>\r\n                <h4>Aguardando resposta da LLM...</h4>\r\n                <p className=\"text-muted\">Processando anlise de documentao de negcio</p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {responseContent ? (\r\n                <>\r\n                  {/* Response Metadata */}\r\n                  <div className=\"response-metadata mb-4\">\r\n                    <div className=\"metadata-grid\">\r\n                      <div className=\"metadata-item\">\r\n                        <span className=\"metadata-label\">Recebido em:</span>\r\n                        <span className=\"metadata-value\">{formatTimestamp(new Date())}</span>\r\n                      </div>\r\n                      <div className=\"metadata-item\">\r\n                        <span className=\"metadata-label\">Tokens:</span>\r\n                        <span className=\"metadata-value\">{countTokens(responseContent)}</span>\r\n                      </div>\r\n                      <div className=\"metadata-item\">\r\n                        <span className=\"metadata-label\">Caracteres:</span>\r\n                        <span className=\"metadata-value\">{responseContent.length.toLocaleString('pt-BR')}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Edit Mode Indicator */}\r\n                  {isEditing && (\r\n                    <div className=\"br-message warning mb-4\">\r\n                      <Edit className=\"w-4 h-4\" />\r\n                      <div>\r\n                        <h5>Modo de Edio</h5>\r\n                        <p className=\"text-small\">\r\n                          Voc est editando manualmente a resposta da LLM. As alteraes sero salvas e substituiro a resposta original.\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Response Content */}\r\n                  <div className=\"response-content\">\r\n                    <div className=\"content-header\">\r\n                      <div className=\"content-title\">\r\n                        <MessageSquare className=\"w-4 h-4 mr-2\" />\r\n                        {isEditing ? 'Editando Resposta' : 'Contedo da Resposta'}\r\n                      </div>\r\n                      {isEditing && hasChanges && (\r\n                        <div className=\"changes-indicator\">\r\n                          <span className=\"text-small text-warning\">\r\n                            <AlertCircle className=\"w-3 h-3 mr-1\" />\r\n                            Alteraes no salvas\r\n                          </span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    {isEditing ? (\r\n                      <div className=\"response-editor\">\r\n                        <textarea\r\n                          value={editedResponse}\r\n                          onChange={(e) => handleResponseChange(e.target.value)}\r\n                          className=\"br-textarea response-textarea\"\r\n                          rows={25}\r\n                          placeholder=\"Edite a resposta da LLM aqui...\"\r\n                        />\r\n                        <div className=\"editor-footer\">\r\n                          <span className=\"text-small text-muted\">\r\n                            {editedResponse.length} caracteres\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"response-viewer\">\r\n                        <div className=\"br-markdown\">\r\n                          <pre className=\"response-text\">{responseContent}</pre>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Response Analysis Info */}\r\n                  <div className=\"response-analysis-info mt-4\">\r\n                    <div className=\"br-message info\">\r\n                      <MessageSquare className=\"w-4 h-4\" />\r\n                      <div>\r\n                        <h5>Informaes da Resposta</h5>\r\n                        <p className=\"text-small\">\r\n                          Esta resposta foi gerada pela LLM com base na anlise semntica dos documentos de negcio.\r\n                          {lastLLMResponse ? ' Voc pode editar manualmente esta resposta se necessrio.' : ' Esta  uma resposta de demonstrao.'}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <div className=\"empty-state\">\r\n                  <MessageSquare className=\"w-12 h-12 text-muted mx-auto mb-3\" />\r\n                  <h5>Nenhuma resposta disponvel</h5>\r\n                  <p className=\"text-muted\">\r\n                    Inicie uma anlise para ver a resposta completa da LLM\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LLMResponseViewer;","import React, { useState } from 'react';\r\nimport { Upload, ChartBar, Send, MessageSquare } from 'lucide-react';\r\nimport BusinessDocumentUpload from '@/components/features/Analysis/BusinessDocumentUpload';\r\nimport BusinessAnalysisResults from '@/components/features/Analysis/BusinessAnalysisResults';\r\nimport PromptViewer from '@/components/features/Analysis/PromptViewer';\r\nimport LLMResponseViewer from '@/components/features/Analysis/LLMResponseViewer';\r\nimport { useBusinessAnalysisStore } from '@/stores/businessAnalysisStore';\r\nimport './BusinessAnalysisPage.css';\r\n\r\nconst BusinessAnalysisPage: React.FC = () => {\r\n  const [activeTab, setActiveTab] = useState<'upload' | 'results' | 'prompt' | 'response'>('upload');\r\n\r\n  const {\r\n    businessDocuments,\r\n    selectedDocuments,\r\n    isUploading,\r\n    isAnalyzing,\r\n    currentAnalysis,\r\n    lastPromptSent,\r\n    lastLLMResponse,\r\n    startAnalysis,\r\n    uploadDocuments\r\n  } = useBusinessAnalysisStore();\r\n\r\n  const handleDocumentsUploaded = (documents: any[]) => {\r\n    uploadDocuments(documents);\r\n  };\r\n\r\n  const handleStartAnalysis = () => {\r\n    startAnalysis();\r\n    // Auto-switch to results tab after starting analysis\r\n    setActiveTab('results');\r\n  };\r\n\r\n  const handleDownloadReport = () => {\r\n    if (currentAnalysis) {\r\n      alert('Relatrio de anlise de negcio baixado com sucesso!');\r\n      console.log('Business Analysis Report:', currentAnalysis);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"business-analysis-page\">\r\n      {/* Header */}\r\n      <div className=\"business-analysis-header\">\r\n        <div className=\"br-card\">\r\n          <div className=\"card-header text-center\">\r\n            <h1 className=\"text-h1\">Anlise de Negcio</h1>\r\n            <p className=\"text-regular\">\r\n              Upload de documentao negocial e anlise de alinhamento com o cdigo-fonte\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Navigation - Following DSGov pattern like GeneralAnalysisPage */}\r\n      <div className=\"br-tabs\" data-tabs=\"business-analysis-tabs\">\r\n        <nav className=\"tab-navigation\" role=\"tablist\">\r\n          {[\r\n            { id: 'upload', name: 'Upload documentao negocial', icon: Upload },\r\n            { id: 'results', name: 'Resultados', icon: ChartBar },\r\n            { id: 'prompt', name: 'ltimo Prompt Enviado', icon: Send },\r\n            { id: 'response', name: 'ltima Resposta da LLM', icon: MessageSquare }\r\n          ].map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              className={`tab-item ${activeTab === tab.id ? 'is-active' : ''}`}\r\n              role=\"tab\"\r\n              aria-selected={activeTab === tab.id}\r\n              aria-controls={`tab-${tab.id}`}\r\n              onClick={() => setActiveTab(tab.id as any)}\r\n            >\r\n              <tab.icon className=\"w-4 h-4 mr-2\" />\r\n              {tab.name}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Tab Content - Following DSGov pattern */}\r\n      <div className=\"br-container\">\r\n        {activeTab === 'upload' && (\r\n          <BusinessDocumentUpload\r\n            onDocumentsUploaded={handleDocumentsUploaded}\r\n            onStartAnalysis={handleStartAnalysis}\r\n          />\r\n        )}\r\n\r\n        {activeTab === 'results' && (\r\n          <BusinessAnalysisResults\r\n            results={currentAnalysis}\r\n            onDownloadReport={handleDownloadReport}\r\n          />\r\n        )}\r\n\r\n        {activeTab === 'prompt' && (\r\n          <PromptViewer />\r\n        )}\r\n\r\n        {activeTab === 'response' && (\r\n          <LLMResponseViewer />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BusinessAnalysisPage;","import React from 'react';\r\nimport { Routes, Route, Navigate, Link } from 'react-router-dom';\r\nimport { useAuthStore } from '@/stores/authStore';\r\nimport LoginPage from '@/pages/LoginPage';\r\nimport PromptConfigPage from '@/pages/PromptConfigPage';\r\nimport CodeUploadPage from '@/pages/CodeUploadPage';\r\nimport GeneralAnalysisPage from '@/pages/GeneralAnalysisPage';\r\nimport ArchitecturalAnalysisPage from '@/pages/ArchitecturalAnalysisPage';\r\nimport BusinessAnalysisPage from '@/pages/BusinessAnalysisPage';\r\nimport './pages/DashboardPage.css';\r\n\r\n// Componente de proteo de rotas\r\nconst ProtectedRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const { isAuthenticated, isLoading } = useAuthStore();\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Carregando...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return isAuthenticated ? <>{children}</> : <Navigate to=\"/login\" replace />;\r\n};\r\n\r\n// Componente simples de Dashboard\r\nconst DashboardPage: React.FC = () => {\r\n  return (\r\n    <div className=\"dashboard-page\">\r\n      {/* Header */}\r\n      <div className=\"dashboard-header\">\r\n        <div className=\"br-card\">\r\n          <div className=\"card-header text-center\">\r\n            <h1 className=\"text-h3\">Bem-vindo ao AVAL<span style={{ color: '#EAB308' }}>IA</span>!</h1>\r\n            <p className=\"text-regular\">\r\n              Sistema de Qualidade de Cdigo com IA\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"dashboard-content\">\r\n        <div className=\"br-card\">\r\n          <div className=\"card-content\">\r\n            <div className=\"welcome-section\">\r\n              <h2 className=\"text-h2\"> Login realizado com sucesso!</h2>\r\n              <p className=\"text-regular\">\r\n                Voc est autenticado no sistema. Abaixo esto as funcionalidades disponveis:\r\n              </p>\r\n            </div>\r\n\r\n            {/* Features Grid */}\r\n            <div className=\"features-grid\">\r\n              <Link to=\"/prompt-config\" className=\"feature-card\">\r\n                <span className=\"feature-icon\"></span>\r\n                <h3 className=\"feature-title\">Configurao de Prompts</h3>\r\n                <p className=\"feature-description\">\r\n                  Configure e gerencie os prompts de anlise de cdigo\r\n                </p>\r\n              </Link>\r\n\r\n              <Link to=\"/code-upload\" className=\"feature-card\">\r\n                <span className=\"feature-icon\"></span>\r\n                <h3 className=\"feature-title\">Upload de Cdigo</h3>\r\n                <p className=\"feature-description\">\r\n                  Faa upload dos arquivos de cdigo para anlise\r\n                </p>\r\n              </Link>\r\n\r\n              <Link to=\"/general-analysis\" className=\"feature-card\">\r\n                <span className=\"feature-icon\"></span>\r\n                <h3 className=\"feature-title\">Anlise Geral</h3>\r\n                <p className=\"feature-description\">\r\n                  Anlise de cdigo baseada em critrios gerais de qualidade\r\n                </p>\r\n              </Link>\r\n\r\n              <Link to=\"/architectural-analysis\" className=\"feature-card\">\r\n                <span className=\"feature-icon\"></span>\r\n                <h3 className=\"feature-title\">Anlise Arquitetural</h3>\r\n                <p className=\"feature-description\">\r\n                  Avaliao da arquitetura e estrutura do projeto\r\n                </p>\r\n              </Link>\r\n\r\n              <Link to=\"/business-analysis\" className=\"feature-card\">\r\n                <span className=\"feature-icon\"></span>\r\n                <h3 className=\"feature-title\">Anlise de Negcio</h3>\r\n                <p className=\"feature-description\">\r\n                  Anlise de impacto e valor de negcio do cdigo\r\n                </p>\r\n              </Link>\r\n            </div>\r\n\r\n            {/* Features List (fallback for mobile) */}\r\n            <div className=\"features-list\">\r\n              <div className=\"br-list\">\r\n                <Link to=\"/prompt-config\" className=\"br-item\">\r\n                  <span className=\"br-list-title\"></span>\r\n                  <span className=\"br-list-text\">Configurao de Prompts</span>\r\n                </Link>\r\n                <Link to=\"/code-upload\" className=\"br-item\">\r\n                  <span className=\"br-list-title\"></span>\r\n                  <span className=\"br-list-text\">Upload de Cdigo</span>\r\n                </Link>\r\n                <Link to=\"/general-analysis\" className=\"br-item\">\r\n                  <span className=\"br-list-title\"></span>\r\n                  <span className=\"br-list-text\">Anlise Geral</span>\r\n                </Link>\r\n                <Link to=\"/architectural-analysis\" className=\"br-item\">\r\n                  <span className=\"br-list-title\"></span>\r\n                  <span className=\"br-list-text\">Anlise Arquitetural</span>\r\n                </Link>\r\n                <Link to=\"/business-analysis\" className=\"br-item\">\r\n                  <span className=\"br-list-title\"></span>\r\n                  <span className=\"br-list-text\">Anlise de Negcio</span>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Logout Section */}\r\n            <div className=\"logout-section\">\r\n              <button\r\n                onClick={() => {\r\n                  // Simples logout - limpar o storage\r\n                  localStorage.removeItem('auth-storage');\r\n                  window.location.reload();\r\n                }}\r\n                className=\"logout-button\"\r\n              >\r\n                Sair do Sistema\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  // Efeito para definir o ttulo da pgina\r\n  React.useEffect(() => {\r\n    document.title = 'AVALIA Code Quality System';\r\n  }, []);\r\n\r\n  // Efeito para inicializao do aplicativo\r\n  React.useEffect(() => {\r\n    // Criar usurio de desenvolvimento para testes\r\n    const devUser = {\r\n      user: {\r\n        id: 'dev-user-1',\r\n        username: 'dev',\r\n        email: 'dev@verificai.com',\r\n        full_name: 'Developer User'\r\n      },\r\n      token: 'dev-token-12345',\r\n      isAuthenticated: true,\r\n      isLoading: false\r\n    };\r\n\r\n    // Verificar se j existe um usurio autenticado\r\n    const authData = localStorage.getItem('auth-storage');\r\n    if (!authData) {\r\n      // Criar usurio de desenvolvimento\r\n      localStorage.setItem('auth-storage', JSON.stringify({ state: devUser }));\r\n    } else {\r\n      try {\r\n        const parsed = JSON.parse(authData);\r\n        // Verificar se h estado invlido (sem usurio ou token)\r\n        if (!parsed.state?.user || !parsed.state?.token) {\r\n          localStorage.setItem('auth-storage', JSON.stringify({ state: devUser }));\r\n        }\r\n      } catch (error) {\r\n        // Remover dados corrompidos e criar usurio de desenvolvimento\r\n        localStorage.setItem('auth-storage', JSON.stringify({ state: devUser }));\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Routes>\r\n      {/* Dashboard protegido */}\r\n      <Route path=\"/dashboard\" element={\r\n        <ProtectedRoute>\r\n          <DashboardPage />\r\n        </ProtectedRoute>\r\n      } />\r\n\r\n      {/* Pginas de funcionalidades protegidas */}\r\n      <Route path=\"/prompt-config\" element={\r\n        <ProtectedRoute>\r\n          <PromptConfigPage />\r\n        </ProtectedRoute>\r\n      } />\r\n      <Route path=\"/code-upload\" element={\r\n        <ProtectedRoute>\r\n          <CodeUploadPage />\r\n        </ProtectedRoute>\r\n      } />\r\n      <Route path=\"/general-analysis\" element={\r\n        <ProtectedRoute>\r\n          <GeneralAnalysisPage />\r\n        </ProtectedRoute>\r\n      } />\r\n      <Route path=\"/architectural-analysis\" element={\r\n        <ProtectedRoute>\r\n          <ArchitecturalAnalysisPage />\r\n        </ProtectedRoute>\r\n      } />\r\n      <Route path=\"/business-analysis\" element={\r\n        <ProtectedRoute>\r\n          <BusinessAnalysisPage />\r\n        </ProtectedRoute>\r\n      } />\r\n\r\n      {/* Login - acessvel apenas se no estiver autenticado */}\r\n      <Route path=\"/login\" element={\r\n        <PublicRoute>\r\n          <LoginPage />\r\n        </PublicRoute>\r\n      } />\r\n\r\n      {/* Redirecionar raiz para dashboard */}\r\n      <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\r\n\r\n      {/* Catch all */}\r\n      <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\r\n    </Routes>\r\n  );\r\n}\r\n\r\n// Componente para rotas pblicas (redireciona se j estiver autenticado)\r\nconst PublicRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const { isAuthenticated, isLoading } = useAuthStore();\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Carregando...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return isAuthenticated ? <Navigate to=\"/dashboard\" replace /> : <>{children}</>;\r\n};\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport App from './App';\r\nimport './assets/styles/globals.css';\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      retry: 1,\r\n      refetchOnWindowFocus: false,\r\n    },\r\n  },\r\n});\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <QueryClientProvider client={queryClient}>\r\n      <BrowserRouter>\r\n        <App />\r\n        <Toaster\r\n          position=\"top-right\"\r\n          toastOptions={{\r\n            duration: 4000,\r\n            style: {\r\n              background: '#363636',\r\n              color: '#fff',\r\n            },\r\n          }}\r\n        />\r\n      </BrowserRouter>\r\n    </QueryClientProvider>\r\n  </React.StrictMode>\r\n);"],"file":"assets/index-C5icXwnn.js"}